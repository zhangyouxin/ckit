{"version":3,"sources":["../../../packages/ckit/dist/helpers/pw.serde.js","../../../packages/ckit/dist/tx-builders/AcpTransferSudtBuilder.js","../../../packages/ckit/dist/tx-builders/pw/TransferSudtPwBuilder.js","../../../packages/ckit/dist/helpers/Amount.js","../../../packages/ckit/dist/tx-builders/unipass/config.js","../../../packages/ckit/dist/tx-builders/TransferCkbBuilder.js","../../../packages/ckit/dist/tx-builders/pw/TransferCkbPwBuilder.js","../../../packages/ckit/dist/tx-builders/MintSudtBuilder.js","../../../packages/ckit/dist/tx-builders/pw/MintSudtPwBuilder.js","../../../packages/ckit/dist/tx-builders/rc/index.js","../../../packages/ckit/dist/tx-builders/rc/CreateRcUdtInfoCellBuilder.js","../../../packages/ckit/dist/tx-builders/rc/CreateRcUdtInfoCellPwBuilder.js","../../../packages/ckit/dist/tx-builders/rc/MintRcUdtBuilder.js","../../../packages/ckit/dist/tx-builders/rc/MintRcUdtPwBuilder.js","../../../packages/ckit/dist/tx-builders/ChequeDepositBuilder.js","../../../packages/ckit/dist/tx-builders/ChequeClaimBuilder.js","../../../packages/ckit/dist/tx-builders/ChequeWithdrawBuilder.js","../../../packages/ckit/dist/wallets/pw/PwAdapterSigner.js","../../../packages/ckit/dist/wallets/Secp256k1Wallet.js","../../../packages/ckit/dist/wallets/UnipassWallet.js","../../../packages/ckit/dist/wallets/unipass/UnipassAdapter.js","../../../packages/ckit/dist/wallets/RcOwnerWallet.js","../../../packages/ckit/dist/providers/index.js","../../../packages/mercury-client/dist/index.js","../../../packages/ckit/dist/providers/mercury/IndexerCellProvider.js","../../../packages/ckit/dist/providers/CkitProvider.js","../../../packages/ckit/dist/predefined/index.js","../../../packages/ckit/dist/predefined/aggron.js","../../../packages/ckit/dist/predefined/lina.js","../../../packages/ckit/dist/helpers/pw.js","../../../packages/ckit/dist/utils.js","hooks/useConfigStorage.tsx","containers/CkitProviderContainer/index.tsx","wallets/ObservableNonAcpPwLockWallet.ts","wallets/ObservableAcpPwLockWallet.ts","wallets/ObservableUnipassWallet.ts","containers/WalletContainer/index.tsx","hooks/useUnipass.tsx","utils/AssetAmount.ts","utils/index.ts","hooks/useSendTransaction.tsx","components/OnLoaded/index.tsx","components/Styled/index.tsx","components/Wallet/WalletConnect.tsx","hooks/useSendIssueTx.tsx","hooks/useAssetMetaStorage.tsx","hooks/useFormValidate.tsx","components/Wallet/WalletChange.tsx","components/Wallet/WalletList.tsx","views/Account/index.tsx","components/Assets/AssetList/AssetBalance.tsx","components/Assets/AssetList/SendButton.tsx","hooks/useSendTransferTx.tsx","components/Assets/AssetList/index.tsx","components/Assets/AddAssetButton.tsx","views/Assets/index.tsx","components/Issue/AssetMetaDisplay.tsx","components/Issue/IssueOperation.tsx","components/Issue/index.tsx","views/Issue/index.tsx","views/index.tsx","App.tsx","reportWebVitals.ts","index.tsx","../../../packages/utils/dist/index.js","../../../packages/ckit/dist/errors.js","../../../packages/ckit/dist/tx-builders/builder-utils.js","../../../packages/ckit/dist/tx-builders/pw/AbstractPwSenderBuilder.js","../../../packages/base/dist/index.js","../../../packages/rc-lock/dist/index.js","../../../packages/ckit/dist/tx-builders/AbstractTransactionBuilder.js","../../../packages/ckit/dist/helpers/index.js","../../../packages/ckit/dist/wallets/AbstractSingleEntrySigner.js","../../../packages/easy-byte/dist/index.js","../../../packages/ckit/dist/wallets/PwWallet.js","../../../packages/easy-byte/dist/utils.js","../../../packages/rc-lock/dist/generated/rc_udt_info.js","../../../packages/ckit/dist/index.js","../../../packages/ckit/dist/tx-builders/index.js","../../../packages/ckit/dist/providers/mercury/MercuryProvider.js","../../../packages/base/dist/AbstractProvider.js","../../../packages/base/dist/typeid.js","../../../packages/easy-byte/dist/struct.js","../../../packages/base/dist/AbstractWallet.js","../../../packages/utils/dist/debug.js","../../../packages/utils/dist/invariant.js","../../../packages/utils/dist/assertion.js","../../../packages/utils/dist/bytes.js","../../../packages/ckit/dist/wallets/index.js","../../../packages/ckit/dist/wallets/RcInternalSigner.js","../../../packages/rc-lock/dist/generated/rc-lock.js","../../../packages/rc-lock/dist/rc.js"],"names":["Object","defineProperty","exports","value","serialize","tx","raw","inputs","map","item","since","previousOutput","index","txHash","inputCells","lock","args","codeHash","hashType","type","data","getHexData","capacity","amount","toHexString","outPoint","outputs","version","cellDeps","depType","headerDeps","witnessArgs","witnesses","deserialize","_pwCore","Transaction","RawTransaction","toCell","CellDep","DepType","code","depGroup","OutPoint","require","toScript","x","Script","HashType","Cell","Amount","undefined","AcpTransferSudtBuilder","_errors","_AbstractTransactionBuilder","_TransferSudtPwBuilder","AbstractTransactionBuilder","constructor","options","provider","sender","obj","key","super","this","enumerable","configurable","writable","builder","TransferSudtPwBuilder","recipients","find","option","recipient","RecipientSameWithSenderError","address","build","_utils","_pw","_utils2","_builderUtils","_AbstractPwSenderBuilder","AbstractPwSenderBuilder","optionsGroupBySudt","Map","forEach","oldRecipientOptions","get","sudt","newRecipientOptions","policy","additionalCapacity","createCapacity","concat","set","senderSudtInputCells","recipientSudtInputCells","senderSudtOutputCells","recipientSudtOutputCells","recipientCreateOutputCells","optionsOfSameSudt","deduplicateOptions","sudtScript","totalTransferAmount","add","recipientLiveSudtCell","collectUdtCells","_option$additionalCap","debug","boom","recipientSudtInputCell","output","Pw","toPwScript","toPwOutPoint","out_point","output_data","recipientSudtOutputCell","setSUDTAmount","getSUDTAmount","push","_option$additionalCap2","parseToScript","toString","String","byteLenOfSudt","getLockscriptArgsLength","toUInt128LE","senderSudtInputCell","toPwCell","cellCapacity","sudtAmount","reduce","input","ZERO","senderSudtOutputCell","sub","senderSudtInputCellsCapacity","sum","cell","senderSudtOutputCellsCapacity","recipientSudtInputCellsCapacity","recipientSudtOutputCellsCapacity","recipientCreateOutputCellsCapacity","inputsContainedCapacity","outputsContainedCapacity","txWithoutSupplyCapacity","getCellDepsByCells","getWitnessPlaceholder","needSupplyCapacity","Builder","calcFee","Number","config","MIN_FEE_RATE","senderSudtCellToPayCapacity","gte","senderLockscriptArgsLen","needSearchCapacity","byteLenOfLockOnlyCell","supplyCapacityLiveCells","collectCkbLiveCells","supplyCapacityInputCells","capacityChangeCell","txWithSupplyCapacity","fee","length","existedOption","Error","Array","from","values","BN","_bignumber","BigNumber","CkbAmount","_defineProperty","val","checkIsAmount","__isCkitAmount__","decimals","isInteger","BigInt","times","pow","bn","lt","humanize","decimalPlaces","Infinity","separator","valWithDecimals","originDecimalPlaces","rounded","Math","min","ROUND_FLOOR","toFormat","new","base","toHex","eq","gt","lte","plus","minus","asBN","getCellDeps","isLina","AggronCellDeps","LinaCellDeps","nets","name","url","model","TransferCkbBuilder","_TransferCkbPwBuilder","some","capacityPolicy","TransferCkbPwBuilder","_rxjs","recipientCreatedCells","filter","acpOptions","recipientAcpCells$","pipe","mergeMap","async","resolved","NoAvailableCellError","toArray","recipientAcpCells","lastValueFrom","createdCapacity","totalCapacity","injectedAcpCapacity","senderCells","senderOutput","acc","MintSudtBuilder","_MintSudtPwBuilder","NonAcpPwMintBuilder","buildPwTransaction","_helpers","issuerAddress","senderMintedUdtType","newSudtScript","createdRecipientCells","_item$sudt","recipientLockArgsBytesLen","resolvedFindAcpCells","foundRecipientCells$","_item$sudt2","foundRecipientCells","createdRecipientCellsCapacity","createdCell","foundRecipientCellsAdditionalCapacity","foundCell","neededCapacityFromIssuer","issuerCells","issuerOutput","clone","inputCell","rawTx","_CreateRcUdtInfoCellBuilder","keys","_MintRcUdtBuilder","_rcLock","CreateRcUdtInfoCellBuilder","_CreateRcUdtInfoCellPwBuilder","builtTransaction","CreateRcUdtInfoCellPwBuilder","getTypeHash","rcUdtInfoCell","invariant","toHash","getIssuerLockHash","_base","_dist","_ckbJsToolkit","_jsbi","__esModule","default","sudtInfo","rcIdentity","udtInfo","SerializeUdtInfo","Reader","fromRawString","toArrayBuffer","symbol","description","rcUdtInfoCellSize","byteLenOfRcCell","byteLength","ownerRcLock","newScript","bytes","flag","pubkeyHash","ownerRcAddress","parseToAddress","senderOutpoints","fromCkb","typeIdScript","generateTypeIdScript","previous_output","rcLockScript","rcInfoCell","formatByteLike","OmniSupplyOutputData","encode","current_supply","max_supply","maxSupply","sudt_script_hash","utils","computeScriptHash","fromPwScript","Uint8Array","next","rawTransaction","MintRcUdtBuilder","_MintRcUdtPwBuilder","MintRcUdtPwBuilder","_easyByte","_lodash","helper","RcSupplyLockHelper","mercury","rcLock","newScriptTemplate","sudtType","resolvedInfoCells","listCreatedInfoCells","nonNullable","udtType","findOrCreatePolicies","alreadyDetermined","partition","groupByRecipient","groupBy","mergedFindOrCreatePolicies","items","left","right","then","cells","determineFindOrCreate","rc_identity_flag","rc_identity_pubkey_hash","RcSupplyLockArgs","decode","toBuffer","infoCell","capacityProviderAddress","RcIdentityLockArgs","rc_lock_flag","pad0x","byteWidth","mintedSudtAmount","dataBuf","decoded","encoded","write","setHexData","ChequeDepositBuilder","receiver","skipCheck","asserts","isTemplateOf","receiverLock","senderLock","receiverLockHash","slice","senderLockHash","chequeLock","chequeOccupied","occupiedShannon","byteLenOfChequeCell","chequeCell","toBigUInt128LE","cell_output","changeNeededCapacity","hexDataOccupiedBytes","collectedSudtCells","collectedSudtCapacityAndAmount","ckb","sudtChangeCell","collectedLockOnlyCells","lockOnlyCells","outputCells","ChequeClaimBuilder","searchKey","script","script_type","unclaimedCells","collectCells","claimedSudtCell","ejectExtraCapacity","mergeSudtCells","claimedEmptyChequeCell","inputCapacityCells","collectLockOnlyCells","byteLenOfHexData","changeCell","mergeLockOnlyCells","ChequeWithdrawBuilder","_helpers2","unwithdrawnCells","currEpoch","rpc","get_current_epoch","validEpoch","number","validWithdrawCells","req","method","params","block_number","result","batchRequestCkb","i","epoch","substring","withdrawnChangeCapacity","extraNeededCapacity","withdrawnSudtCells","sudtCell","sudtCapacity","minimalCellCapacity","withdrawnChangeCell","minimalCapacity","toNumber","inputSince","generateSince","relative","cellInput","toCellInput","code_hash","hash_type","CellInput","PwAdapterSigner","serializeBigInt","view","DataView","ArrayBuffer","setUint32","buffer","rawSigner","hasher","Blake2bHasher","messages","sigs","signerLock","getAddress","sig","signMessage","message","toMessages","signMessages","SerializeWitnessArgs","normalizers","NormalizeWitnessArgs","serializeJson","FillSignedWitnesses","validate","hash","SerializeRawTransaction","NormalizeRawTransaction","transformers","TransformRawTransaction","used","_input","update","firstWitness","j","sameWith","currentWitness","digest","reset","Secp256k1Signer","Secp256k1Wallet","_hd","_AbstractSingleEntrySigner","_classPrivateFieldGet","privateMap","descriptor","call","_classApplyDescriptorGet","_classExtractFieldDescriptor","_classPrivateFieldSet","TypeError","_classApplyDescriptorSet","action","has","_privateKey","WeakMap","AbstractWallet","privateKey","lockConfig","setDescriptor","features","_privateKey2","AbstractSingleEntrySigner","privateKeyToBlake160","signature","signRecoverable","Promise","resolve","UnipassWallet","_UnipassAdapter","adapterConfig","adapter","UnipassRedirectAdapter","unipassLockArgs","getLockArgs","sign","seal","pubkeyToLockArgs","getRetFromSearchParams","redirect","isUnipassLoginData","isUnipassSigData","pubkey","ckbHash","hexToBytes","check","replace","searchParams","URLSearchParams","location","search","json","res","JSON","parse","info","delete","pathname","host","protocol","window","qs","newUrl","history","replaceState","path","href","setTimeout","_options$host","_options$loginDataCac","loginDataCacheKey","saveLoginInfo","getLoginDataFromUrl","getLoginDataFromCache","hasLoginInfo","hasSigData","_ref","_this$getLoginDataFro","redirectToLogin","_this$getSignatureFro","getSignatureFromUrl","redirectToSign","generateUnipassNewUrl","success_url","_this$getLoginDataFro2","saveLoginDataToCache","localStorage","setItem","stringify","serialized","getItem","loginData","urlObj","URL","toLowerCase","entries","RcPwSigner","RcOwnerWallet","_PwWallet","describeFeatures","ethProvider","detect","selectedAddress","request","addListener","signer","emitChangedSigner","emitConnectStatusChanged","rcOwnerLockArgs","RcIdentityFlag","ETH","getRcIdentity","signedMessage","personalSign","v","parseInt","padStart","SerializeRcLockWitnessLock","_MercuryProvider","_CkitProvider","MercuryClient","_clientJs","uri","transport","HTTPTransport","headers","client","Client","RequestManager","get_cells","payload","search_key","order","limit","after_cursor","get_tip","get_transactions","MercuryCellProvider","collector","queries","queryData","collect","Symbol","asyncIterator","liveCells","objects","CkitProvider","MercuryProvider","init","getScriptConfig","scriptConfig","configKey","template","issuer","issuerLockHash","getCellDep","dep","scriptLice","CODE_HASH","HASH_TYPE","predefined","Aggron","_interopRequireWildcard","Lina","_getRequireWildcardCache","nodeInterop","cacheBabelInterop","cacheNodeInterop","cache","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","prototype","hasOwnProperty","desc","PREFIX","SCRIPTS","_configManager","SECP256K1_BLAKE160","AGGRON4","ANYONE_CAN_PAY","SUDT","PW_ANYONE_CAN_PAY","TX_HASH","INDEX","DEP_TYPE","PW_NON_ANYONE_CAN_PAY","UNIPASS","RC_LOCK","CHEQUE","LINA","fromPwCellDep","dep_type","tx_hash","toPwCellDep","fromPwCell","getData","isLumosCell","unimplemented","asyncSleep","ms","randomHexString","lengthWithOut0x","floor","random","join","bytesToHex","b","hex","match","startsWith","byte","condition","err","useConfigStorage","initialConfig","useMemo","ckitConfig","mecuryRPC","ckbRPC","nervosExploreTxUrlPrefix","nervosExploreAddressUrlPrefix","nervosExploreSudtUrlPrefix","useLocalStorage","CkitProviderContainer","createContainer","ckitProvider","setCkitProvider","useState","localConfig","useEffect","ObservableNonAcpPwLockWallet","NonAcpPwLockWallet","makeObservable","connectStatus","observable","ObservableAcpPwLockWallet","AcpPwLockWallet","ObservableUnipassWallet","WalletContainer","useContainer","currentWalletName","setCurrentWalletName","wallets","useLocalObservable","signerAddress","setSignerAddress","error","setError","visible","setVisible","isInitialized","setIsInitialized","setModalVisible","useCallback","runInAction","splice","connect","autorun","wallet","on","remainConnectedWallet","w","connectedWallet","currentWallet","displayWalletName","useUnipass","cachedTx","cacheTx","shouldLogin","cacheLogin","shouldSendTx","clearTx","AssetAmount","rawAmount","humanizeAmount","toRawString","toHumanizeString","truncateMiddle","str","start","end","HEX_REGEX","isValidHexString","test","useSendTransaction","useMutation","serializedTx","serde","sendTransaction","onSuccess","Modal","success","title","content","target","rel","onError","errorMsg","width","OnIncomplete","children","isLoaded","setIsLoaded","mutateAsync","txToSend","catch","StyledCardWrapper","styled","div","WalletConnect","observer","size","onClick","CheckCircleTwoTone","useSendIssueTx","recipientsParams","operationKind","helpers","useAssetMetaStorage","initialAssetMeta","decimal","assetsMeta","setAssetsMeta","addAssetMeta","newValue","useFormValidate","useProvider","validateCkbAddress","e","isLockscriptACP","scripts","validateACPAddress","validateInviteAddress","validateIssueAddress","validateTransferAddress","validateAmount","assetAmount","fromHumanize","isNaN","WalletChange","truncatedAddress","style","marginTop","marginBottom","span","offset","textAlign","AddressTip","copyable","float","Typography","Text","ModalBorderWrapper","WalletList","closable","onCancel","footer","pagination","dataSource","renderItem","Item","WalletListItem","props","UsbOutlined","SyncOutlined","spin","AccountView","Title","level","paddingTop","AssetBalance","query","useQuery","getUdtBalance","getCkbLiveCellsBalance","enabled","isError","fromRaw","LoadingOutlined","SendButton","issuableSudtScript","isMint","buttonContent","disabled","isLoading","ModalForm","assetMeta","sendTransferTransaction","isTransferLoading","useSendTransferTx","sendIssueTransaction","isIssueLoading","onSubmit","loading","formik","useFormik","initialValues","errors","recipientError","amountError","resetForm","justify","align","htmlFor","id","placeholder","getFieldProps","touched","submitForm","AssetList","columns","render","record","showHeader","pageSize","AddAssetButton","buttonProps","setSubmitting","newAssetMeta","onChange","setFieldValue","onBlur","handleBlur","Group","handleChange","AssetsView","icon","PlusCircleOutlined","fontSize","AssetMetaDisplay","scriptHash","ScriptTip","Link","IssueOperation","setOperationKind","recipientFieldDisplayName","inviteRecipient","issueRecipient","IssueArea","udtScript","IssueView","isSupportIssue","checkSupported","AppView","BodyWrapper","className","App","queryClient","QueryClient","QueryClientProvider","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById","_debug","createDebugger","_invariant","_assertion","_bytes","NoEnoughUdtError","NoEnoughCkbError","CkitError","metadata","expected","actual","lockArgsByteLen","typeArgsByteLen","dataLen","byteLen","toBigUint128LE","readBigUint128LE","totalAmount","total","refinedCell","refinedCapacity","fn","fx","fg","arg","readBigUInt128LE","num","toFixed","toUpperCase","_config","getCellDepByKey","getCellDepByScript","foundEntry","keyToTemplate","uniqWith","flatMap","dep1","dep2","inputLockAndTypeScripts","outputTypeScripts","repeat","input_type","output_type","_ScriptManager","ScriptManager","_AbstractProvider","AbstractProvider","ProviderConfig","InitOptions","_AbstractWallet","_exportNames","UdtInfo","_rc_udt_info","_rc","deserialized","_Amount","_PwAdapterSigner","_options$hasher","signed","TransformTransaction","_struct","hashMessage","InternalNonAcpPwLockSigner","_detectProvider","_secp256k","ethereum","AbstractPwWallet","addresses","isArray","produceSigner","disconnect","removeEventListener","listener","enable","AbstractPwSigner","ethereumProvider","Platform","eth","Keccak256Hasher","getEthAddress","publicKeyCreate","startsWith0x","rm0x","safePadZero","prependZeroToEvenLength","convertEndian","toUnfixedBuffer","toFixedBuffer","byteSize","_buffer","le","isEvenLength","isUnfixed","padEvenLength","expectedByteStringLength","padEnd","reverse","byteString","Buffer","shouldPad0x","isBuffer","unfixed","unfixedSize","alloc","fn1","fn2","dataLengthError","required","assertDataLength","assertArrayBuffer","reader","verifyAndExtractOffsets","expectedFieldCount","compatible","requiredByteLength","getUint32","firstOffset","itemCount","offsets","serializeTable","buffers","totalSize","array","SerializeUTF8Bytes","SerializeUint128","SerializeByte32","SerializeUdtCellData","versionView","setUint8","udt_info","UdtCellData","Byte32","Uint128","UTF8Bytes","indexAt","getUint8","getDecimals","offset_end","getName","getSymbol","getDescription","decimalsView","getVersion","getCurrentSupply","getMaxSupply","getSudtScriptHash","getUdtInfo","_predefined","_wallets","_providers","_txBuilders","SerializedTx","DeserializedTx","_AcpTransferSudtBuilder","_TransferCkbBuilder","_MintSudtBuilder","_ChequeDepositBuilder","_ChequeClaimBuilder","_ChequeWithdrawBuilder","_rpc","_mercuryClient","_isomorphicFetch","_IndexerCellProvider","mercuryRpc","ckbRpc","RPC","rpcUrl","batch","jsonrpc","response","body","results","output_data_len_range","cells$","expand","last_cursor","takeWhile","concatMap","scan","defaultValue","takeWhile_","balance$","balance","getTxPoolInfo","tx_pool_info","getChainInfo","get_blockchain_info","send_transaction","udt","minimalAmount","resolvedCell","pollIntervalMs","timeoutMs","Date","now","_tx$tx_status","get_transaction","tx_status","status","transaction","rpcTip","get_tip_block_number","mercuryTip","asIndexerCellProvider","_typeid","newTypeIdScript","outputIndex","findCellDepByAddress","scriptConfigs","findIndex","found","findCellDepByScript","initialized","min_fee_rate","isMainnet","chain","txPoolInfo","generateAddress","parseAddress","generateTypeID","toBigUInt64LE","buf","writeBigUInt64LE","isSafeInteger","writeUInt32LE","ab","outPointBuf","core","SerializeCellInput","NormalizeCellInput","outputIndexBuf","ckbHasher","CKBHasher","digestHex","createField","createFixedStruct","FixedStruct","U128BEJSBI","U128LEJSBI","U64BEJSBI","U64LEJSBI","U128BE","U128LE","I128BE","I128LE","U64BE","U64LE","I64BE","I64LE","U32BE","U32LE","I32BE","I32LE","U16BE","U16LE","I16BE","I16LE","U8","I8","createReader","fnName","createWriter","read","fields","field","namedField","parsed","bigIntReader","signMask","valueMask","bigIntWriter","jsbiReader","jsbiWriter","_eventemitter","event","emitter","isDisconnected","tryConnect","emitError","removeAllListeners","feature","includes","getConnectStatus","getSigner","emit","namespace","_tinyInvariant","hexes","padToEven","hexStringLike","isNumberLike","internal","_RcOwnerWallet","_RcInternalSigner","_Secp256k1Wallet","_UnipassWallet","RcSecp256k1Signer","RcEthSigner","RCLockSigner","RC_MODE","CKB","getAddressByMode","ACP","mode","pubKeykHash","rc_args","PUBKEY_HASH","reject","_privateKey3","ethAddress","SerializeIdentity","SerializeRcIdentity","SerializeRcIdentityOpt","SerializeBytesOpt","rc_identity","preimage","SerializeScriptVec","SerializeScriptVecOpt","SerializeXudtWitnessInput","raw_extension_data","SerializeBytesVec","extension_data","SerializeRCRule","SerializeRCCellVec","SerializeRCData","itemBuffer","SerializeSmtProof","SerializeSmtProofEntry","SerializeSmtProofEntryVec","SerializeSmtUpdateItem","SerializeSmtUpdateItemVec","SerializeSmtUpdateAction","updates","proof","SerializeXudtData","SerializeBytes","SerializeUint32","SerializeUint64","SerializeUint256","SerializeByte32Vec","SerializeScriptOpt","SerializeProposalShortId","SerializeUncleBlockVec","SerializeTransactionVec","SerializeProposalShortIdVec","SerializeCellDepVec","SerializeCellInputVec","SerializeCellOutputVec","SerializeScript","SerializeOutPoint","SerializeCellOutput","SerializeCellDep","SerializeTransaction","SerializeRawHeader","SerializeHeader","SerializeUncleBlock","SerializeBlock","header","uncles","transactions","proposals","SerializeCellbaseWitness","WitnessArgs","CellbaseWitness","Block","UncleBlock","Header","RawHeader","CellOutput","CellOutputVec","CellInputVec","CellDepVec","ProposalShortIdVec","TransactionVec","UncleBlockVec","ProposalShortId","ScriptOpt","Byte32Vec","BytesVec","BytesOpt","Bytes","Uint256","Uint64","Uint32","XudtData","SmtUpdateAction","SmtUpdateItemVec","SmtUpdateItem","SmtProofEntryVec","SmtProofEntry","SmtProof","RCData","RCCellVec","RCRule","XudtWitnessInput","ScriptVecOpt","ScriptVec","RcLockWitnessLock","RcIdentityOpt","RcIdentity","Identity","getIdentity","getProofs","identity","proofs","hasValue","getSignature","getPreimage","len","getRawExtensionData","getExtensionData","getSmtRoot","getFlags","smt_root","flags","t","unionType","getMask","getProof","maskView","mask","getKey","getPackedValues","packed_values","getUpdates","getLock","toBigEndianUint32","toLittleEndianUint32","getCodeHash","getHashType","getArgs","hashTypeView","getTxHash","getIndex","getSince","getPreviousOutput","getCapacity","getType","type_","getOutPoint","getDepType","getHeaderDeps","getInputs","getOutputs","getOutputsData","cell_deps","header_deps","outputs_data","getRaw","getWitnesses","getCompactTarget","getTimestamp","getNumber","getEpoch","getParentHash","getTransactionsRoot","getProposalsHash","getUnclesHash","getDao","compact_target","timestamp","parent_hash","transactions_root","proposals_hash","uncles_hash","dao","getNonce","nonce","getHeader","getProposals","getUncles","getTransactions","getMessage","getInputType","getOutputType","convertToRcIdentityFlag","convertToSudtSupplyInfo","convertToSudtInfo","RcLockFlag","RcSupplyOutputData","OmniSupplyLockArgs","OmniIdentityLockArgs","_operators","readUInt8","outputData","fixedDataLen","currentSupply","type_id_hash","udtId","indexer","SUPPLY_MASK","supplyCells$","newRcSupplyLockScript","infoLock"],"mappings":"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","file":"static/js/main.d8b91bfe.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.serialize = serialize;\nexports.deserialize = deserialize;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nfunction serialize(tx) {\n  const raw = tx.raw;\n  return {\n    raw: {\n      inputs: raw.inputs.map(item => ({\n        since: item.since,\n        previousOutput: {\n          index: item.previousOutput.index,\n          txHash: item.previousOutput.txHash\n        }\n      })),\n      inputCells: raw.inputCells.map(item => ({\n        lock: {\n          args: item.lock.args,\n          codeHash: item.lock.codeHash,\n          hashType: item.lock.hashType\n        },\n        type: item.type && {\n          args: item.type.args,\n          hashType: item.type.hashType,\n          codeHash: item.type.codeHash\n        },\n        data: item.getHexData(),\n        capacity: {\n          amount: item.capacity.toHexString()\n        },\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        outPoint: {\n          txHash: item.outPoint.txHash,\n          index: item.outPoint.index\n        }\n      })),\n      outputs: raw.outputs.map(item => ({\n        capacity: {\n          amount: item.capacity.toHexString()\n        },\n        data: item.getHexData(),\n        lock: {\n          args: item.lock.args,\n          hashType: item.lock.hashType,\n          codeHash: item.lock.codeHash\n        },\n        type: item.type && {\n          args: item.type.args,\n          hashType: item.type.hashType,\n          codeHash: item.type.codeHash\n        }\n      })),\n      version: raw.version,\n      cellDeps: raw.cellDeps.map(item => ({\n        depType: item.depType,\n        outPoint: {\n          index: item.outPoint.index,\n          txHash: item.outPoint.txHash\n        }\n      })),\n      headerDeps: raw.headerDeps\n    },\n    witnessArgs: tx.witnessArgs,\n    witnesses: tx.witnesses\n  };\n}\n\nfunction toScript(x) {\n  return new _pwCore.Script(x.codeHash, x.args, x.hashType === 'type' ? _pwCore.HashType.type : _pwCore.HashType.data);\n}\n\nfunction toCell(x) {\n  return new _pwCore.Cell(new _pwCore.Amount(x.capacity.amount, 0), toScript(x.lock), x.type ? toScript(x.type) : undefined, 'outPoint' in x && x.outPoint ? new _pwCore.OutPoint(x.outPoint.txHash, x.outPoint.index) : undefined, x.data);\n}\n\nfunction deserialize(tx) {\n  const raw = tx.raw;\n  return new _pwCore.Transaction(new _pwCore.RawTransaction(raw.inputCells.map(toCell), raw.outputs.map(toCell), raw.cellDeps.map(item => new _pwCore.CellDep(item.depType === 'code' ? _pwCore.DepType.code : _pwCore.DepType.depGroup, new _pwCore.OutPoint(item.outPoint.txHash, item.outPoint.index))), raw.headerDeps, raw.version), tx.witnessArgs);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AcpTransferSudtBuilder = void 0;\n\nvar _errors = require(\"../errors\");\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _TransferSudtPwBuilder = require(\"./pw/TransferSudtPwBuilder\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AcpTransferSudtBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider, sender) {\n    super();\n    this.options = options;\n    this.provider = provider;\n    this.sender = sender;\n\n    _defineProperty(this, \"builder\", void 0);\n\n    this.builder = new _TransferSudtPwBuilder.TransferSudtPwBuilder(options, provider, sender);\n  }\n\n  async build() {\n    const transferToSelf = this.options.recipients.find(option => option.recipient === this.sender);\n    if (transferToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: this.sender\n    });\n    return this.builder.build();\n  }\n\n}\n\nexports.AcpTransferSudtBuilder = AcpTransferSudtBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferSudtPwBuilder = void 0;\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _utils2 = require(\"../../utils\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass TransferSudtPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, sender) {\n    super(provider);\n    this.options = options;\n    this.sender = sender;\n  }\n\n  async build() {\n    const optionsGroupBySudt = new Map();\n    this.options.recipients.forEach(options => {\n      const oldRecipientOptions = optionsGroupBySudt.get(options.sudt.args);\n      const newRecipientOptions = oldRecipientOptions === undefined ? [{\n        recipient: options.recipient,\n        amount: options.amount,\n        sudt: options.sudt,\n        policy: options.policy,\n        additionalCapacity: options.additionalCapacity,\n        createCapacity: options.createCapacity\n      }] : oldRecipientOptions.concat({\n        recipient: options.recipient,\n        amount: options.amount,\n        sudt: options.sudt,\n        policy: options.policy,\n        additionalCapacity: options.additionalCapacity,\n        createCapacity: options.createCapacity\n      });\n      optionsGroupBySudt.set(options.sudt.args, newRecipientOptions);\n    });\n    const senderSudtInputCells = [];\n    const recipientSudtInputCells = [];\n    const senderSudtOutputCells = [];\n    const recipientSudtOutputCells = [];\n    const recipientCreateOutputCells = []; // 1. handle sudt cells\n\n    for (const item of optionsGroupBySudt) {\n      let [, optionsOfSameSudt] = item;\n      optionsOfSameSudt = this.deduplicateOptions(optionsOfSameSudt); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n      const sudtScript = optionsOfSameSudt[0].sudt;\n      let totalTransferAmount = new _pwCore.Amount('0', 0); // build sudt cells of recipients\n\n      for (const option of optionsOfSameSudt) {\n        totalTransferAmount = totalTransferAmount.add(new _pwCore.Amount(option.amount, 0));\n\n        if (option.policy === 'findOrCreate') {\n          const recipientLiveSudtCell = (await this.provider.collectUdtCells(option.recipient, sudtScript, '0'))[0];\n          option.policy = recipientLiveSudtCell ? 'findAcp' : 'createCell';\n        }\n\n        switch (option.policy) {\n          case 'findAcp':\n            {\n              var _option$additionalCap;\n\n              if (option.createCapacity) (0, _utils.debug)(`WARN: createCapacity cannot use with findAcp policy`);\n              const recipientLiveSudtCell = (await this.provider.collectUdtCells(option.recipient, sudtScript, '0'))[0];\n              if (!recipientLiveSudtCell) (0, _utils2.boom)(`recipient ${option.recipient} has no cell to carry the udt`);\n              const recipientSudtInputCell = new _pwCore.Cell(new _pwCore.Amount(recipientLiveSudtCell.output.capacity, 0), _pw.Pw.toPwScript(recipientLiveSudtCell.output.lock), recipientLiveSudtCell.output.type && _pw.Pw.toPwScript(recipientLiveSudtCell.output.type), _pw.Pw.toPwOutPoint(recipientLiveSudtCell.out_point), recipientLiveSudtCell.output_data);\n              const recipientSudtOutputCell = new _pwCore.Cell(new _pwCore.Amount(recipientLiveSudtCell.output.capacity, 0).add(new _pwCore.Amount((_option$additionalCap = option.additionalCapacity) !== null && _option$additionalCap !== void 0 ? _option$additionalCap : '0', 0)), _pw.Pw.toPwScript(recipientLiveSudtCell.output.lock), recipientLiveSudtCell.output.type && _pw.Pw.toPwScript(recipientLiveSudtCell.output.type), undefined, recipientLiveSudtCell.output_data);\n              recipientSudtOutputCell.setSUDTAmount(recipientSudtOutputCell.getSUDTAmount().add(new _pwCore.Amount(option.amount, 0)));\n              recipientSudtInputCells.push(recipientSudtInputCell);\n              recipientSudtOutputCells.push(recipientSudtOutputCell);\n              break;\n            }\n\n          case 'createCell':\n            {\n              var _option$additionalCap2;\n\n              if (option.createCapacity) {\n                recipientCreateOutputCells.push(new _pwCore.Cell(new _pwCore.Amount(option.createCapacity, 0), _pw.Pw.toPwScript(this.provider.parseToScript(option.recipient))));\n              } // defaults additional capacity to 1 CKB\n\n\n              option.additionalCapacity = (_option$additionalCap2 = option.additionalCapacity) !== null && _option$additionalCap2 !== void 0 ? _option$additionalCap2 : (10 ** 8).toString();\n              const recipientSudtOutputCell = new _pwCore.Cell(new _pwCore.Amount(option.additionalCapacity, 0).add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)(this.getLockscriptArgsLength(option.recipient))))), _pw.Pw.toPwScript(this.provider.parseToScript(option.recipient)), _pw.Pw.toPwScript(sudtScript), undefined, new _pwCore.Amount(option.amount, 0).toUInt128LE());\n              recipientSudtOutputCells.push(recipientSudtOutputCell);\n              break;\n            }\n        }\n      } // build sudt cells of sender\n\n\n      const senderLiveSudtCells = await this.provider.collectUdtCells(this.sender, sudtScript, totalTransferAmount.toHexString());\n      const senderSudtInputCell = senderLiveSudtCells.map(_pw.Pw.toPwCell);\n      senderSudtInputCells.push(...senderSudtInputCell);\n      const [cellCapacity, sudtAmount] = senderSudtInputCell.reduce(([cellCapacity, sudtAmount], input) => {\n        cellCapacity = cellCapacity.add(input.capacity);\n        sudtAmount = sudtAmount.add(input.getSUDTAmount());\n        return [cellCapacity, sudtAmount];\n      }, [_pwCore.Amount.ZERO, _pwCore.Amount.ZERO]);\n      const senderSudtOutputCell = new _pwCore.Cell(cellCapacity, // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      senderSudtInputCell[0].lock, // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      senderSudtInputCell[0].type, undefined, sudtAmount.toUInt128LE());\n      senderSudtOutputCell.setSUDTAmount(senderSudtOutputCell.getSUDTAmount().sub(totalTransferAmount));\n      senderSudtOutputCells.push(senderSudtOutputCell);\n    } // 2. handle capacity cells\n\n\n    const senderSudtInputCellsCapacity = senderSudtInputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const senderSudtOutputCellsCapacity = senderSudtOutputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const recipientSudtInputCellsCapacity = recipientSudtInputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const recipientSudtOutputCellsCapacity = recipientSudtOutputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const recipientCreateOutputCellsCapacity = recipientCreateOutputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const inputsContainedCapacity = recipientSudtInputCellsCapacity.add(senderSudtInputCellsCapacity);\n    const outputsContainedCapacity = recipientSudtOutputCellsCapacity.add(senderSudtOutputCellsCapacity).add(recipientCreateOutputCellsCapacity);\n    const txWithoutSupplyCapacity = new _pwCore.Transaction(new _pwCore.RawTransaction(senderSudtInputCells.concat(recipientSudtInputCells), senderSudtOutputCells.concat(recipientSudtOutputCells).concat(recipientCreateOutputCells), this.getCellDepsByCells(senderSudtInputCells.concat(recipientSudtInputCells), senderSudtOutputCells.concat(recipientSudtOutputCells))), senderSudtInputCells.map(() => this.getWitnessPlaceholder(this.sender)));\n\n    const feeWithoutSupplyCapacity = _pwCore.Builder.calcFee(txWithoutSupplyCapacity, Number(this.provider.config.MIN_FEE_RATE));\n\n    const needSupplyCapacity = feeWithoutSupplyCapacity.add(outputsContainedCapacity.sub(inputsContainedCapacity));\n    const senderSudtCellToPayCapacity = senderSudtOutputCells.find(cell => cell.capacity.sub(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)(this.getLockscriptArgsLength(this.sender))))).gte(needSupplyCapacity));\n\n    if (senderSudtCellToPayCapacity) {\n      senderSudtCellToPayCapacity.capacity = senderSudtCellToPayCapacity.capacity.sub(needSupplyCapacity);\n      return txWithoutSupplyCapacity;\n    } // build tx with extra capacity cell supplied\n\n\n    const senderLockscriptArgsLen = this.getLockscriptArgsLength(this.sender);\n    const outputsNeededCapacity = outputsContainedCapacity // additional 61 ckb to ensure capacity is enough for change cell\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfLockOnlyCell)(senderLockscriptArgsLen)))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1'));\n    const needSearchCapacity = outputsNeededCapacity.sub(inputsContainedCapacity);\n    const supplyCapacityLiveCells = await this.provider.collectCkbLiveCells(this.sender, needSearchCapacity.toHexString());\n    const supplyCapacityInputCells = supplyCapacityLiveCells.map(_pw.Pw.toPwCell); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    const capacityChangeCell = _pw.Pw.toPwCell(supplyCapacityLiveCells[0]);\n\n    capacityChangeCell.capacity = supplyCapacityInputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const inputCells = senderSudtInputCells.concat(recipientSudtInputCells).concat(supplyCapacityInputCells);\n    const outputs = senderSudtOutputCells.concat(recipientSudtOutputCells).concat(recipientCreateOutputCells).concat([capacityChangeCell]);\n    const txWithSupplyCapacity = new _pwCore.Transaction(new _pwCore.RawTransaction(inputCells, outputs, this.getCellDepsByCells(inputCells, outputs)), senderSudtInputCells.map(() => this.getWitnessPlaceholder(this.sender)));\n\n    const fee = _pwCore.Builder.calcFee(txWithSupplyCapacity, Number(this.provider.config.MIN_FEE_RATE));\n\n    capacityChangeCell.capacity = capacityChangeCell.capacity.sub(fee).add(inputsContainedCapacity).sub(outputsContainedCapacity);\n    return txWithSupplyCapacity;\n  }\n\n  getLockscriptArgsLength(address) {\n    return (this.provider.parseToScript(address).args.length - 2) / 2;\n  }\n\n  deduplicateOptions(options) {\n    const deduplicateOptions = new Map();\n    options.forEach(option => {\n      const existedOption = deduplicateOptions.get(option.recipient);\n\n      if (existedOption) {\n        if (existedOption.policy !== option.policy) throw new Error('error: same recipient and sudt, but different policy');\n        existedOption.amount = new _pwCore.Amount(existedOption.amount, 0).add(new _pwCore.Amount(option.amount, 0)).toHexString();\n      } else {\n        deduplicateOptions.set(option.recipient, option);\n      }\n    });\n    return Array.from(deduplicateOptions.values());\n  }\n\n}\n\nexports.TransferSudtPwBuilder = TransferSudtPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BN = BN;\nObject.defineProperty(exports, \"BigNumber\", {\n  enumerable: true,\n  get: function () {\n    return _bignumber.BigNumber;\n  }\n});\nexports.CkbAmount = exports.Amount = void 0;\n\nvar _bignumber = require(\"bignumber.js\");\n\nvar _utils = require(\"../utils\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction BN(val) {\n  if (typeof val === 'bigint') return new _bignumber.BigNumber(String(val));\n  if (Amount.checkIsAmount(val)) return new _bignumber.BigNumber(String(val));\n  return new _bignumber.BigNumber(val);\n}\n\nclass Amount {\n  static checkIsAmount(x) {\n    if (typeof x !== 'object') return false;\n    if (x == null) return false;\n    return '__isCkitAmount__' in x && x.__isCkitAmount__;\n  }\n  /**\n   *\n   * @param value\n   * @param decimals\n   * @example\n   * ```ts\n   * Amount.from(1).eq(1) // true\n   * Amount.from(1, 8).eq(1_00000000) // true\n   * ```\n   */\n\n\n  static from(value, decimals = 0) {\n    if (decimals < 0 || !Number.isInteger(decimals)) (0, _utils.boom)('The decimal not valid');\n    if (typeof value === 'bigint') return new Amount(BN(value * BigInt(10) ** BigInt(decimals)));\n    if (!decimals) return new Amount(BN(value));\n    return new Amount(BN(value).times(BN(10).pow(decimals)));\n  }\n  /**\n   * value without decimals\n   * @private\n   */\n\n\n  constructor(bn) {\n    _defineProperty(this, \"__isCkitAmount__\", true);\n\n    _defineProperty(this, \"raw\", void 0);\n\n    if (!bn.isInteger()) throw new Error('Amount must be an integer');\n    if (bn.lt(0)) throw new Error('Amount must cannot be a negative number');\n    this.raw = new _bignumber.BigNumber(bn);\n  }\n\n  humanize(options) {\n    const {\n      decimalPlaces = Infinity,\n      separator = true,\n      decimals = 0\n    } = options ? options : {};\n    const valWithDecimals = this.raw.times(BN(10).pow(-decimals));\n    const originDecimalPlaces = valWithDecimals.decimalPlaces();\n    const rounded = valWithDecimals.decimalPlaces(Math.min(originDecimalPlaces, decimalPlaces), _bignumber.BigNumber.ROUND_FLOOR);\n    if (separator) return rounded.toFormat();\n    return rounded.toString();\n  }\n\n  new(val) {\n    return new Amount(val);\n  }\n\n  toString(base) {\n    return this.raw.toString(base);\n  }\n\n  toHex() {\n    return '0x' + this.toString(16);\n  }\n\n  eq(val) {\n    return this.raw.eq(BN(val));\n  }\n\n  gt(val) {\n    return this.raw.gt(BN(val));\n  }\n\n  gte(val) {\n    return this.raw.gte(BN(val));\n  }\n\n  lt(val) {\n    return this.raw.lt(BN(val));\n  }\n\n  lte(val) {\n    return this.raw.lte(BN(val));\n  }\n\n  plus(val) {\n    return this.new(this.raw.plus(BN(val)));\n  }\n\n  minus(val) {\n    return this.new(this.raw.minus(BN(val)));\n  }\n\n  asBN() {\n    return new _bignumber.BigNumber(this.raw);\n  }\n\n}\n\nexports.Amount = Amount;\n\nclass CkbAmount extends Amount {\n  /**\n   * @deprecated\n   */\n  static from() {\n    throw new Error('Use the Amount.from to instead of');\n  }\n\n  static fromCkb(value) {\n    return new CkbAmount(BN(value).times(10 ** 8));\n  }\n\n  static fromShannon(value) {\n    return new CkbAmount(BN(value));\n  }\n\n  new(val) {\n    return new CkbAmount(val);\n  }\n\n  humanize(options) {\n    return super.humanize({ ...options,\n      decimals: 8\n    });\n  }\n\n}\n\nexports.CkbAmount = CkbAmount;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCellDeps = getCellDeps;\nexports.nets = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\n// TODO\n//  unipass is not open source at this stage,\n//  there is only some sample code, when unipass is open source, you need to replace these codes\nconst nets = [// {\n//   name: '',\n//   url: 'http://localhost:3000/'\n// },\n{\n  name: 'dev',\n  url: 'https://id.unipass.vip',\n  model: 1\n}, {\n  name: 'Aggron-Preview',\n  url: 'https://t.unipass.xyz',\n  model: 0\n}, {\n  name: 'Lina-Preview',\n  url: 'https://rc.unipass.xyz',\n  model: 0\n}, {\n  name: 'Lina',\n  url: 'https://unipass.xyz'\n}];\nexports.nets = nets;\nconst AggronCellDeps = [new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x04a1ac7fe15e454741d3c5c9a409efb9a967714ad2f530870514417978a9f655', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x3d41e1c543f0fddcbb17157d15a2845d7c5fb0363561cd8f50ecd0e118b34f84', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0xd346695aa3293a84e9f985448668e9692892c959e7e83d6d8042e59c08b8cf5c', '0x0'))];\nconst LinaCellDeps = [new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x1a04142a2a745fb3b7e0e9b61241676c1c94ad8cdacb36f223661130a23fb007', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0xf247a0e9dfe9d559ad8486428987071b65d441568075465c2810409e889f4081', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x1196caaf9e45f1959ea3583f92914ee8306d42e27152f7068f9eeb52ac23eeae', '0x0'))];\n\nfunction getCellDeps(isLina = false) {\n  let data = AggronCellDeps;\n  if (isLina) data = LinaCellDeps;\n  return data;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferCkbBuilder = void 0;\n\nvar _errors = require(\"../errors\");\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _TransferCkbPwBuilder = require(\"./pw/TransferCkbPwBuilder\");\n\n// just for testing case, do not use it\nclass TransferCkbBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider, sender) {\n    super();\n    this.options = options;\n    this.provider = provider;\n    this.sender = sender;\n  }\n\n  async build() {\n    const transferToSelf = this.options.recipients.some(item => item.recipient === this.sender && item.capacityPolicy === 'findAcp');\n    if (transferToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: this.sender\n    });\n    const builder = new _TransferCkbPwBuilder.TransferCkbPwBuilder(this.options, this.provider, this.sender);\n    return builder.build();\n  }\n\n}\n\nexports.TransferCkbBuilder = TransferCkbBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferCkbPwBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass TransferCkbPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, sender) {\n    super(provider);\n    this.options = options;\n    this.sender = sender;\n  }\n\n  async build() {\n    const recipientCreatedCells = this.options.recipients.filter(item => item.capacityPolicy === 'createCell').map(item => new _pwCore.Cell(new _pwCore.Amount(item.amount, 0), _pw.Pw.toPwScript(this.provider.parseToScript(item.recipient))));\n    const acpOptions = this.options.recipients.filter(item => item.capacityPolicy === 'findAcp');\n    const recipientAcpCells$ = (0, _rxjs.from)(acpOptions).pipe((0, _rxjs.mergeMap)(async item => {\n      const resolveds = await this.provider.collectCkbLiveCells(item.recipient, '0');\n      const resolved = resolveds[0];\n      if (!resolved) throw new _errors.NoAvailableCellError({\n        lock: this.provider.parseToScript(item.recipient)\n      }); // increase capacity\n\n      const cell = _pw.Pw.toPwCell(resolved);\n\n      cell.capacity = cell.capacity.add(new _pwCore.Amount(item.amount, 0));\n      return cell;\n    }), (0, _rxjs.toArray)());\n    const recipientAcpCells = await (0, _rxjs.lastValueFrom)(recipientAcpCells$);\n    const createdCapacity = recipientCreatedCells.reduce((totalCapacity, cell) => totalCapacity.add(cell.capacity), _pwCore.Amount.ZERO);\n    const injectedAcpCapacity = acpOptions.reduce((totalCapacity, item) => totalCapacity.add(new _pwCore.Amount(item.amount, 0)), _pwCore.Amount.ZERO);\n    const senderOutpoints = await this.provider.collectCkbLiveCells(this.sender, injectedAcpCapacity.add(createdCapacity) // 61 ckb to ensure change cell capacity is enough\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfLockOnlyCell)()))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1')).toHexString());\n    const senderCells = senderOutpoints.map(_pw.Pw.toPwCell);\n\n    if (!senderCells.length || !senderCells[0]) {\n      throw new _errors.NoAvailableCellError({\n        lock: this.provider.parseToScript(this.sender)\n      });\n    } // accumulate all sender capacity into one cell\n\n\n    const senderOutput = senderCells[0];\n    senderOutput.capacity = senderCells.reduce((acc, cell) => acc.add(cell.capacity), new _pwCore.Amount('0', 0));\n    const inputCells = [...senderCells, ...recipientAcpCells];\n    const outputs = [senderOutput, ...recipientAcpCells, ...recipientCreatedCells];\n    const tx = new _pwCore.Transaction(new _pwCore.RawTransaction(inputCells, outputs, this.getCellDepsByCells(inputCells, outputs)), [this.getWitnessPlaceholder(this.sender)]);\n    const fee = TransferCkbPwBuilder.calcFee(tx);\n    senderOutput.capacity = senderOutput.capacity.sub(createdCapacity).sub(injectedAcpCapacity).sub(fee);\n    return tx;\n  }\n\n}\n\nexports.TransferCkbPwBuilder = TransferCkbPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MintSudtBuilder = void 0;\n\nvar _errors = require(\"../errors\");\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _MintSudtPwBuilder = require(\"./pw/MintSudtPwBuilder\");\n\nclass MintSudtBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider, sender) {\n    super();\n    this.options = options;\n    this.provider = provider;\n    this.sender = sender;\n  }\n\n  async buildPwTransaction() {\n    const builder = new _MintSudtPwBuilder.NonAcpPwMintBuilder(this.options, this.provider, this.sender);\n    return await builder.build();\n  }\n\n  async build() {\n    const mintToSelf = this.options.recipients.some(item => item.recipient === this.sender && item.capacityPolicy !== 'createCell');\n    if (mintToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: this.sender\n    });\n    return this.buildPwTransaction();\n  }\n\n}\n\nexports.MintSudtBuilder = MintSudtBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NonAcpPwMintBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _helpers = require(\"../../helpers\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass NonAcpPwMintBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, issuerAddress) {\n    super(provider);\n    this.options = options;\n    this.issuerAddress = issuerAddress;\n  }\n\n  async build() {\n    const senderMintedUdtType = this.provider.newSudtScript(this.issuerAddress); // capacity provided by issuer\n\n    const createdRecipientCells = this.options.recipients.filter(item => item.capacityPolicy === 'createCell').map(item => {\n      var _item$sudt;\n\n      const recipientLockArgsBytesLen = (this.provider.parseToScript(item.recipient).args.length - 2) / 2;\n      return new _pwCore.Cell(new _pwCore.Amount(String((0, _helpers.BN)(item.additionalCapacity || 0)), 0).add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)(recipientLockArgsBytesLen)))), _pw.Pw.toPwScript(this.provider.parseToScript(item.recipient)), // recipient lock\n      _pw.Pw.toPwScript((_item$sudt = item.sudt) !== null && _item$sudt !== void 0 ? _item$sudt : senderMintedUdtType), // issued sudt type\n      undefined, new _pwCore.Amount(item.amount, 0).toUInt128LE());\n    }); // capacity provided by recipient\n\n    const resolvedFindAcpCells = this.options.recipients.filter(item => item.capacityPolicy === 'findAcp');\n    const foundRecipientCells$ = (0, _rxjs.from)(resolvedFindAcpCells).pipe( // collect the udt cell from recipients, throw an error if no udt cell is found\n    (0, _rxjs.mergeMap)(async item => {\n      var _item$sudt2;\n\n      const resolved = (await this.provider.collectUdtCells(item.recipient, (_item$sudt2 = item.sudt) !== null && _item$sudt2 !== void 0 ? _item$sudt2 : senderMintedUdtType, '0'))[0];\n\n      if (!resolved) {\n        throw new _errors.NoAvailableCellError({\n          lock: this.provider.parseToScript(item.recipient),\n          type: senderMintedUdtType\n        });\n      }\n\n      const cell = _pw.Pw.toPwCell(resolved);\n\n      cell.capacity = cell.capacity.add(new _pwCore.Amount(item.additionalCapacity || '0', 0));\n      cell.setSUDTAmount(cell.getSUDTAmount().add(new _pwCore.Amount(item.amount, 0)));\n      return cell;\n    }, 5), (0, _rxjs.toArray)());\n    const foundRecipientCells = await (0, _rxjs.lastValueFrom)(foundRecipientCells$);\n    const createdRecipientCellsCapacity = createdRecipientCells.reduce((sum, createdCell) => sum.add(createdCell.capacity), _pwCore.Amount.ZERO);\n    const foundRecipientCellsAdditionalCapacity = resolvedFindAcpCells.reduce((sum, foundCell) => sum.add(new _pwCore.Amount(foundCell.additionalCapacity || '0', 0)), _pwCore.Amount.ZERO);\n    const neededCapacityFromIssuer = createdRecipientCellsCapacity.add(foundRecipientCellsAdditionalCapacity) // additional 61 ckb to ensure capacity is enough for change cell\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfLockOnlyCell)()))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1'));\n    const issuerOutpoints = await this.provider.collectCkbLiveCells(this.issuerAddress, neededCapacityFromIssuer.toHexString());\n    const issuerCells = issuerOutpoints.map(_pw.Pw.toPwCell); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    const issuerOutput = issuerCells[0].clone();\n    issuerOutput.capacity = issuerCells.reduce((sum, inputCell) => sum.add(inputCell.capacity), _pwCore.Amount.ZERO);\n    const inputCells = [...issuerCells, ...foundRecipientCells];\n    const outputs = [issuerOutput, ...createdRecipientCells, ...foundRecipientCells];\n    const rawTx = new _pwCore.RawTransaction(inputCells, outputs, this.getCellDepsByCells(inputCells, outputs));\n    const tx = new _pwCore.Transaction(rawTx, [this.getWitnessPlaceholder(this.issuerAddress)]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    issuerOutput.capacity = issuerOutput.capacity.sub(fee).sub(createdRecipientCellsCapacity).sub(foundRecipientCellsAdditionalCapacity);\n    return tx;\n  }\n\n}\n\nexports.NonAcpPwMintBuilder = NonAcpPwMintBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _CreateRcUdtInfoCellBuilder = require(\"./CreateRcUdtInfoCellBuilder\");\n\nObject.keys(_CreateRcUdtInfoCellBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _CreateRcUdtInfoCellBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _CreateRcUdtInfoCellBuilder[key];\n    }\n  });\n});\n\nvar _MintRcUdtBuilder = require(\"./MintRcUdtBuilder\");\n\nObject.keys(_MintRcUdtBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _MintRcUdtBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _MintRcUdtBuilder[key];\n    }\n  });\n});\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nObject.keys(_rcLock).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _rcLock[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _rcLock[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CreateRcUdtInfoCellBuilder = void 0;\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _AbstractTransactionBuilder = require(\"../AbstractTransactionBuilder\");\n\nvar _CreateRcUdtInfoCellPwBuilder = require(\"./CreateRcUdtInfoCellPwBuilder\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * ```yaml\n * Data:\n *  - <1 byte version>\n *  - <16 bytes current supply>\n *  - <16 bytes max supply>\n *  - <32 bytes sUDT script hash>\n *  - info: molecule table\n *  - name: bytes\n *  - symbol: bytes\n *  - decimals: u8\n *  - description: bytes\n * Type: <Info Cell type ID>\n * Lock: <RC Lock Script 1>\n *  code_hash: RC Lock\n *  args: <flag: 1> <Eth pubkey hash> <RC lock flags: 8> <Info Cell Type Script Hash>\n * ```\n */\nclass CreateRcUdtInfoCellBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider) {\n    super();\n    this.options = options;\n    this.provider = provider;\n\n    _defineProperty(this, \"builtTransaction\", undefined);\n  }\n\n  async build() {\n    this.builtTransaction = await new _CreateRcUdtInfoCellPwBuilder.CreateRcUdtInfoCellPwBuilder(this.options, this.provider).build();\n    return this.builtTransaction;\n  }\n  /**\n   * the type hash is used as udt id\n   */\n\n\n  getTypeHash() {\n    if (!this.builtTransaction) throw new Error('Transaction is not built yet');\n    const rcUdtInfoCell = this.builtTransaction.raw.outputs[0];\n    (0, _utils.invariant)(rcUdtInfoCell && rcUdtInfoCell.type);\n    return rcUdtInfoCell.type.toHash();\n  }\n\n  getIssuerLockHash() {\n    if (!this.builtTransaction) throw new Error('Transaction is not built yet');\n    const rcUdtInfoCell = this.builtTransaction.raw.outputs[0];\n    (0, _utils.invariant)(rcUdtInfoCell && rcUdtInfoCell.type);\n    return rcUdtInfoCell.lock.toHash();\n  }\n\n}\n\nexports.CreateRcUdtInfoCellBuilder = CreateRcUdtInfoCellBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CreateRcUdtInfoCellPwBuilder = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _dist = require(\"@ckitjs/easy-byte/dist\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\n\nvar _helpers = require(\"../../helpers\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"../pw/AbstractPwSenderBuilder\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass CreateRcUdtInfoCellPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n    this.provider = provider;\n  }\n\n  async build() {\n    const {\n      sudtInfo,\n      rcIdentity\n    } = this.options;\n    const provider = this.provider;\n    const udtInfo = (0, _rcLock.SerializeUdtInfo)({\n      name: _ckbJsToolkit.Reader.fromRawString(sudtInfo.name).toArrayBuffer(),\n      symbol: _ckbJsToolkit.Reader.fromRawString(sudtInfo.symbol).toArrayBuffer(),\n      decimals: sudtInfo.decimals,\n      description: _ckbJsToolkit.Reader.fromRawString(sudtInfo.description).toArrayBuffer()\n    });\n    const rcUdtInfoCellSize = (0, _builderUtils.byteLenOfRcCell)(21\n    /*rc identity*/\n    + 1\n    /*rc flag*/\n    + 32\n    /*typeid script hash*/\n    , 32, 1\n    /*version*/\n    + 16\n    /*current supply*/\n    + 16\n    /*max supply*/\n    + 32\n    /* sudt script hash*/\n    + udtInfo.byteLength\n    /*udt info molecule table*/\n    );\n    const ownerRcLock = provider.newScript('RC_LOCK', _utils.bytes.concat(rcIdentity.flag, rcIdentity.pubkeyHash, 0));\n    const ownerRcAddress = provider.parseToAddress(ownerRcLock);\n    const senderOutpoints = await provider.collectCkbLiveCells(ownerRcAddress, _helpers.CkbAmount.fromCkb((0, _builderUtils.byteLenOfRcCell)(21\n    /*rc identity*/\n    + 1\n    /*rc flag*/\n    , 0, 0) + // owner live cell\n    rcUdtInfoCellSize + // udt cell\n    1 // tx fee\n    ).toHex());\n    (0, _utils.invariant)(senderOutpoints[0]);\n\n    const typeIdScript = _pw.Pw.toPwScript(provider.generateTypeIdScript({\n      previous_output: senderOutpoints[0].out_point,\n      since: '0x0'\n    }, '0x0'));\n\n    const rcLockScript = _pw.Pw.toPwScript(provider.newScript('RC_LOCK', _utils.bytes.concat(rcIdentity.flag, rcIdentity.pubkeyHash, '08'\n    /*supply flag: 0b100*/\n    , typeIdScript.toHash())));\n\n    const rcInfoCell = new _pwCore.Cell(new _pwCore.Amount(String(rcUdtInfoCellSize), 8), rcLockScript, typeIdScript, undefined, _utils.bytes.concat((0, _dist.formatByteLike)(_rcLock.OmniSupplyOutputData.encode({\n      version: 0,\n      current_supply: _jsbi.default.BigInt(0),\n      max_supply: _jsbi.default.BigInt(sudtInfo.maxSupply),\n      sudt_script_hash: _base.utils.computeScriptHash(provider.newSudtScript(_pw.Pw.fromPwScript(rcLockScript)))\n    })), (0, _dist.formatByteLike)(new Uint8Array(udtInfo))));\n    const senderCells = senderOutpoints.map(_pw.Pw.toPwCell);\n    const senderOutput = senderCells[0];\n    (0, _utils.invariant)(senderOutput);\n    senderOutput.capacity = senderCells.reduce((acc, next) => acc.add(next.capacity), new _pwCore.Amount('0'));\n    const rawTransaction = new _pwCore.RawTransaction(senderCells, [rcInfoCell, senderOutput], this.getCellDepsByCells(senderCells, [rcInfoCell, senderOutput]));\n    const tx = new _pwCore.Transaction(rawTransaction, [this.getWitnessPlaceholder(provider.parseToAddress(provider.newScript('RC_LOCK')))]);\n    const fee = CreateRcUdtInfoCellPwBuilder.calcFee(tx);\n    senderOutput.capacity = senderOutput.capacity.sub(new _pwCore.Amount(String(rcUdtInfoCellSize), 8)).sub(fee);\n    return tx;\n  }\n\n}\n\nexports.CreateRcUdtInfoCellPwBuilder = CreateRcUdtInfoCellPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MintRcUdtBuilder = void 0;\n\nvar _AbstractTransactionBuilder = require(\"../AbstractTransactionBuilder\");\n\nvar _MintRcUdtPwBuilder = require(\"./MintRcUdtPwBuilder\");\n\n/**\n * Mint sUDT with RC-Supply-Lock, the capacity provider which is a rc-lock with {@link https://github.com/XuJiandong/docs-bank/blob/master/rc_lock.md#identity RcIdentity},\n */\nclass MintRcUdtBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider) {\n    super();\n    this.options = options;\n    this.provider = provider;\n  }\n\n  build() {\n    return new _MintRcUdtPwBuilder.MintRcUdtPwBuilder(this.options, this.provider).build();\n  }\n\n}\n\nexports.MintRcUdtBuilder = MintRcUdtBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MintRcUdtPwBuilder = void 0;\n\nvar _easyByte = require(\"@ckitjs/easy-byte\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _utils2 = require(\"../../utils\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"../pw/AbstractPwSenderBuilder\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass MintRcUdtPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n    this.provider = provider;\n  }\n\n  async determineFindOrCreate() {\n    const helper = new _rcLock.RcSupplyLockHelper(this.provider.mercury, {\n      rcLock: this.provider.newScriptTemplate('RC_LOCK'),\n      sudtType: this.provider.newScriptTemplate('SUDT')\n    });\n    const resolvedInfoCells = await helper.listCreatedInfoCells(this.options);\n    const rcUdtInfoCell = (0, _utils2.nonNullable)(resolvedInfoCells[0]);\n    const udtType = this.provider.newSudtScript(this.provider.parseToAddress(rcUdtInfoCell.output.lock)); // recipients -> [findOrCreate, findAcp + createCell]\n\n    const [findOrCreatePolicies, alreadyDetermined] = (0, _lodash.partition)(this.options.recipients, item => item.capacityPolicy === 'findOrCreate'); // findOrCreate -> {'addr1': [option1, option2], 'addr2': [option3]}\n\n    const groupByRecipient = (0, _lodash.groupBy)(findOrCreatePolicies, item => item.recipient); // {'addr1': [option1, option2], 'addr2': [option1]} -> [ merge(option1, option2), merge(option3) ]\n\n    const mergedFindOrCreatePolicies = (0, _lodash.map)(groupByRecipient, items => items.reduce((left, right) => ({ ...left,\n      amount: new _pwCore.Amount(left.amount, 0).add(new _pwCore.Amount(right.amount, 0)).toHexString(),\n      additionalCapacity: new _pwCore.Amount(left.additionalCapacity || '0', 0).add(new _pwCore.Amount(right.additionalCapacity || '0', 0)).toHexString()\n    })));\n    const recipients = (0, _rxjs.from)(mergedFindOrCreatePolicies).pipe((0, _rxjs.mergeMap)(item => this.provider.collectUdtCells(item.recipient, udtType, '0').then(cells => ({ ...item,\n      capacityPolicy: cells.length > 0 ? 'findAcp' : 'createCell'\n    })), 5), (0, _rxjs.toArray)());\n    const determinedFindOrUpdatePolicies = await (0, _rxjs.lastValueFrom)(recipients);\n    return determinedFindOrUpdatePolicies.concat(alreadyDetermined);\n  }\n\n  async build() {\n    this.options = { ...this.options,\n      recipients: await this.determineFindOrCreate()\n    };\n    const helper = new _rcLock.RcSupplyLockHelper(this.provider.mercury, {\n      rcLock: this.provider.newScriptTemplate('RC_LOCK'),\n      sudtType: this.provider.newScriptTemplate('SUDT')\n    });\n    const resolvedInfoCells = await helper.listCreatedInfoCells(this.options);\n    const rcUdtInfoCell = (0, _utils2.nonNullable)(resolvedInfoCells[0]);\n\n    const {\n      rc_identity_flag,\n      rc_identity_pubkey_hash\n    } = _rcLock.RcSupplyLockArgs.decode((0, _easyByte.toBuffer)(rcUdtInfoCell.output.lock.args));\n\n    const infoCell = _pw.Pw.toPwCell(rcUdtInfoCell);\n\n    const capacityProviderAddress = this.provider.parseToAddress(this.provider.newScript('RC_LOCK', (0, _easyByte.formatByteLike)(_rcLock.RcIdentityLockArgs.encode({\n      rc_identity_flag,\n      rc_identity_pubkey_hash,\n      rc_lock_flag: 0\n      /* owner mode */\n\n    }), {\n      pad0x: true\n    })));\n    const udtType = this.provider.newSudtScript(this.provider.parseToAddress(rcUdtInfoCell.output.lock)); // capacity provided by issuer\n\n    const createdRecipientCells = this.options.recipients.filter(item => item.capacityPolicy === 'createCell').map(item => new _pwCore.Cell(new _pwCore.Amount(String(item.additionalCapacity || 0), 0).add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)()))), _pw.Pw.toPwScript(this.provider.parseToScript(item.recipient)), // recipient lock\n    _pw.Pw.toPwScript(udtType), // issued sudt type\n    undefined, new _pwCore.Amount(item.amount, 0).toUInt128LE())); // capacity provided by recipient\n\n    const resolvedFindAcpCells = this.options.recipients.filter(item => item.capacityPolicy === 'findAcp');\n    const foundRecipientCells$ = (0, _rxjs.from)(resolvedFindAcpCells).pipe( // collect the udt cell from recipients, throw an error if no udt cell is found\n    (0, _rxjs.mergeMap)(async item => {\n      const resolved = (await this.provider.collectUdtCells(item.recipient, udtType, '0'))[0];\n\n      if (!resolved) {\n        throw new _errors.NoAvailableCellError({\n          lock: this.provider.parseToScript(item.recipient),\n          type: udtType\n        });\n      }\n\n      const cell = _pw.Pw.toPwCell(resolved);\n\n      cell.capacity = cell.capacity.add(new _pwCore.Amount(item.additionalCapacity || '0', 0));\n      cell.setSUDTAmount(cell.getSUDTAmount().add(new _pwCore.Amount(item.amount, 0)));\n      return cell;\n    }, 5), (0, _rxjs.toArray)());\n    const foundRecipientCells = await (0, _rxjs.lastValueFrom)(foundRecipientCells$); // occupied + additional\n\n    const createdRecipientCellsCapacity = createdRecipientCells.reduce((sum, createdCell) => sum.add(createdCell.capacity), _pwCore.Amount.ZERO);\n    const foundRecipientCellsAdditionalCapacity = resolvedFindAcpCells.reduce((sum, foundCell) => sum.add(new _pwCore.Amount(foundCell.additionalCapacity || '0', 0)), _pwCore.Amount.ZERO);\n\n    const neededCapacityFromIssuer = _pwCore.Amount.ZERO // createCell pocily needed capcacity\n    .add(createdRecipientCellsCapacity) // findAcp policy needed additional capacity\n    .add(foundRecipientCellsAdditionalCapacity) // additional rc-lock script occupied ckb to ensure capacity is enough for change cell\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfLockOnlyCell)(_rcLock.RcIdentityLockArgs.byteWidth)))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1'));\n\n    const issuerOutpoints = await this.provider.collectCkbLiveCells(capacityProviderAddress, neededCapacityFromIssuer.toHexString());\n    const senderCells = issuerOutpoints.map(_pw.Pw.toPwCell); // sender change cell\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    const senderOutput = senderCells[0].clone();\n    senderOutput.capacity = senderCells.reduce((sum, inputCell) => sum.add(inputCell.capacity), _pwCore.Amount.ZERO); // modify current_supply\n\n    const mintedSudtAmount = this.options.recipients.reduce((acc, recipient) => _jsbi.default.add(acc, _jsbi.default.BigInt(recipient.amount)), _jsbi.default.BigInt(0));\n    const dataBuf = (0, _easyByte.toBuffer)(infoCell.getHexData());\n\n    const decoded = _rcLock.OmniSupplyOutputData.decode(dataBuf);\n\n    const encoded = _rcLock.OmniSupplyOutputData.encode({ ...decoded,\n      current_supply: _jsbi.default.add(decoded.current_supply, mintedSudtAmount)\n    });\n\n    dataBuf.write(encoded.toString('hex'), 'hex');\n    infoCell.setHexData(_utils.bytes.toHex(dataBuf));\n    const inputCells = [infoCell, ...senderCells, ...foundRecipientCells];\n    const rawTx = new _pwCore.RawTransaction(inputCells, [infoCell, senderOutput, ...createdRecipientCells, ...foundRecipientCells], this.getCellDepsByCells(inputCells, [infoCell, senderOutput, ...createdRecipientCells, ...foundRecipientCells]));\n    const tx = new _pwCore.Transaction(rawTx, [this.getWitnessPlaceholder(capacityProviderAddress), // info lock\n    this.getWitnessPlaceholder(capacityProviderAddress) // capacity provider lock\n    ]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    senderOutput.capacity = senderOutput.capacity.sub(fee).sub(createdRecipientCellsCapacity).sub(foundRecipientCellsAdditionalCapacity);\n    return tx;\n  }\n\n}\n\nexports.MintRcUdtPwBuilder = MintRcUdtPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ChequeDepositBuilder = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../helpers/pw\");\n\nvar _utils = require(\"../utils\");\n\nvar _builderUtils = require(\"./builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./pw/AbstractPwSenderBuilder\");\n\n/**\n * ```yaml\n * Lock:\n *  code_hash: <cheque_cell_lock_script>\n *  hash_type: type\n *  args:  <receiver_lock_hash[:20]> | <sender_lock_hash[:20]>\n * ```\n */\nclass ChequeDepositBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n    const {\n      receiver,\n      sender,\n      skipCheck\n    } = options;\n    if (skipCheck === true) return;\n    (0, _utils.asserts)(provider.isTemplateOf('SECP256K1_BLAKE160', receiver), 'receiver must be a SECP256K1_BLAKE160 script');\n    (0, _utils.asserts)(provider.isTemplateOf('SECP256K1_BLAKE160', sender) || provider.isTemplateOf('RC_LOCK', sender), 'sender must be a SECP256K1_BLAKE160 script or a RC_LOCK script');\n  }\n\n  async build() {\n    const {\n      amount,\n      receiver,\n      sender,\n      sudt\n    } = this.options;\n    const receiverLock = this.provider.parseToScript(receiver);\n    const senderLock = this.provider.parseToScript(sender);\n\n    const receiverLockHash = _base.utils.computeScriptHash(receiverLock).slice(2, 42);\n\n    const senderLockHash = _base.utils.computeScriptHash(senderLock).slice(2, 42);\n\n    const chequeLock = this.provider.newScript('CHEQUE', `0x${receiverLockHash}${senderLockHash}`);\n    const chequeOccupied = (0, _builderUtils.occupiedShannon)((0, _builderUtils.byteLenOfChequeCell)());\n\n    const chequeCell = _pw.Pw.toPwCell({\n      data: (0, _pwCore.toBigUInt128LE)(amount),\n      cell_output: {\n        capacity: chequeOccupied,\n        lock: chequeLock,\n        type: sudt\n      }\n    });\n\n    const changeNeededCapacity = new _pwCore.Amount(chequeOccupied, 0) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1')) // capacity for change cell\n    .add(new _pwCore.Amount((0, _builderUtils.byteLenOfLockOnlyCell)((0, _pwCore.hexDataOccupiedBytes)(senderLock.args)).toString()));\n    const collectedSudtCells = (await this.provider.collectUdtCells(this.options.sender, sudt, amount)).map(_pw.Pw.toPwCell);\n    const collectedSudtCapacityAndAmount = collectedSudtCells.reduce((acc, cell) => {\n      return {\n        ckb: acc.ckb.add(cell.capacity),\n        sudt: acc.sudt.add(cell.getSUDTAmount())\n      };\n    }, {\n      ckb: _pwCore.Amount.ZERO,\n      sudt: _pwCore.Amount.ZERO\n    });\n    const sudtChangeCell = new _pwCore.Cell(new _pwCore.Amount((0, _builderUtils.byteLenOfSudt)((0, _pwCore.hexDataOccupiedBytes)(senderLock.args)).toString()), _pw.Pw.toPwScript(senderLock), _pw.Pw.toPwScript(sudt), undefined, collectedSudtCapacityAndAmount.sudt.sub(new _pwCore.Amount(amount, 0)).toUInt128LE());\n    const [collectedLockOnlyCells, capacityChangeCell] = await (async () => {\n      const isCollectedSudtEnoughForChangeCell = collectedSudtCapacityAndAmount.ckb.sub(sudtChangeCell.capacity).gte(changeNeededCapacity);\n\n      if (isCollectedSudtEnoughForChangeCell) {\n        return [[], new _pwCore.Cell(collectedSudtCapacityAndAmount.ckb.sub(sudtChangeCell.capacity), _pw.Pw.toPwScript(senderLock))];\n      }\n\n      const lockOnlyCells = (await this.provider.collectCkbLiveCells(sender, changeNeededCapacity.toHexString())).map(_pw.Pw.toPwCell);\n      return [lockOnlyCells, new _pwCore.Cell( // capacity(collectedLockOnly) + capacity(sudtChangeRemain)\n      lockOnlyCells.reduce((acc, cell) => acc.add(cell.capacity), _pwCore.Amount.ZERO).add(collectedSudtCapacityAndAmount.ckb.sub(sudtChangeCell.capacity)).sub(chequeCell.capacity), _pw.Pw.toPwScript(senderLock))];\n    })();\n    const inputCells = [...collectedSudtCells, ...collectedLockOnlyCells];\n    const outputCells = [chequeCell, sudtChangeCell, capacityChangeCell];\n    const tx = new _pwCore.Transaction(new _pwCore.RawTransaction(inputCells, outputCells, this.getCellDepsByCells(inputCells, outputCells)), [this.getWitnessPlaceholder(sender)]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    capacityChangeCell.capacity = capacityChangeCell.capacity.sub(fee);\n    return tx;\n  }\n\n}\n\nexports.ChequeDepositBuilder = ChequeDepositBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ChequeClaimBuilder = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../helpers/pw\");\n\nvar _builderUtils = require(\"./builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./pw/AbstractPwSenderBuilder\");\n\nclass ChequeClaimBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n  }\n\n  async build() {\n    const {\n      sender,\n      receiver,\n      sudt\n    } = this.options;\n    const senderLock = this.provider.parseToScript(sender);\n    const receiverLock = this.provider.parseToScript(receiver);\n    const searchKey = {\n      script: this.provider.newScript('CHEQUE', `0x${_base.utils.computeScriptHash(receiverLock).slice(2, 42)}${_base.utils.computeScriptHash(senderLock).slice(2, 42)}`),\n      ...(sudt ? {\n        filter: {\n          script: sudt\n        }\n      } : {}),\n      script_type: 'lock'\n    };\n    const unclaimedCells = await this.provider.collectCells({\n      searchKey\n    }, // claim up to 1000 cells at a time\n    cells => cells.length <= 1000);\n    const [claimedSudtCell] = (0, _builderUtils.ejectExtraCapacity)({\n      cell: (0, _builderUtils.mergeSudtCells)({\n        cells: unclaimedCells,\n        lock: receiverLock\n      }),\n      lock: receiverLock\n    });\n    const claimedEmptyChequeCell = unclaimedCells.map(cell => ({ ...cell,\n      cell_output: { ...cell.cell_output,\n        type: undefined,\n        lock: senderLock\n      },\n      data: '0x'\n    }));\n    const inputCapacityCells = await this.provider.collectLockOnlyCells(receiverLock, new _pwCore.Amount(claimedSudtCell.cell_output.capacity, 0) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1')).add(new _pwCore.Amount((0, _builderUtils.byteLenOfLockOnlyCell)((0, _builderUtils.byteLenOfHexData)(receiverLock.args)).toString())).toHexString());\n\n    const changeCell = _pw.Pw.toPwCell((0, _builderUtils.mergeLockOnlyCells)(inputCapacityCells));\n\n    const tx = new _pwCore.Transaction(new _pwCore.RawTransaction([...inputCapacityCells.map(_pw.Pw.toPwCell), ...unclaimedCells.map(_pw.Pw.toPwCell)], [...claimedEmptyChequeCell.map(_pw.Pw.toPwCell), _pw.Pw.toPwCell(claimedSudtCell), changeCell], this.getCellDepsByCells([...inputCapacityCells.map(_pw.Pw.toPwCell), ...unclaimedCells.map(_pw.Pw.toPwCell)], [...claimedEmptyChequeCell.map(_pw.Pw.toPwCell), _pw.Pw.toPwCell(claimedSudtCell), changeCell])), [this.getWitnessPlaceholder(receiver)]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    changeCell.capacity = changeCell.capacity.sub(_pw.Pw.toPwCell(claimedSudtCell).capacity).sub(fee);\n    return tx;\n  }\n\n}\n\nexports.ChequeClaimBuilder = ChequeClaimBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ChequeWithdrawBuilder = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _helpers = require(\"@ckb-lumos/helpers\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _helpers2 = require(\"../helpers\");\n\nvar _pw = require(\"../helpers/pw\");\n\nvar _utils2 = require(\"../utils\");\n\nvar _builderUtils = require(\"./builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./pw/AbstractPwSenderBuilder\");\n\nclass ChequeWithdrawBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n  }\n\n  async build() {\n    const {\n      sender,\n      receiver,\n      sudt\n    } = this.options;\n    const provider = this.provider;\n    const senderLock = provider.parseToScript(sender);\n    const receiverLock = provider.parseToScript(receiver);\n    const searchKey = {\n      script: provider.newScript('CHEQUE', `0x${_base.utils.computeScriptHash(receiverLock).slice(2, 42)}${_base.utils.computeScriptHash(senderLock).slice(2, 42)}`),\n      ...(sudt ? {\n        filter: {\n          script: sudt\n        }\n      } : {}),\n      script_type: 'lock'\n    };\n    const unwithdrawnCells = await provider.collectCells({\n      searchKey\n    }, cells => cells.length <= 1000);\n    const currEpoch = await provider.rpc.get_current_epoch();\n    const validEpoch = Number(currEpoch.number) - 6;\n    const validWithdrawCells = [];\n    const req = [];\n\n    for (const cell of unwithdrawnCells) {\n      req.push({\n        method: 'get_header_by_number',\n        params: cell.block_number\n      });\n    }\n\n    const result = await this.provider.batchRequestCkb(req);\n\n    for (let i = 0; i < result.length; i++) {\n      const epoch = Number('0x' + (0, _utils2.nonNullable)(result[i]).epoch.substring(9));\n      if (epoch < validEpoch) validWithdrawCells.push((0, _utils2.nonNullable)(unwithdrawnCells[i]));\n    }\n\n    if (validWithdrawCells.length === 0) throw new Error('No valid cheque to withdraw');\n    let withdrawnChangeCapacity = (0, _helpers2.BN)(0);\n    let extraNeededCapacity = (0, _helpers2.BN)(0);\n    const withdrawnSudtCells = validWithdrawCells.map(function (cell) {\n      const sudtCell = { ...cell,\n        cell_output: { ...cell.cell_output,\n          lock: senderLock\n        }\n      };\n\n      const sudtCapacity = _utils.bytes.toHex((0, _helpers.minimalCellCapacity)(sudtCell));\n\n      withdrawnChangeCapacity = withdrawnChangeCapacity.plus((0, _helpers2.BN)(cell.cell_output.capacity).minus(sudtCapacity));\n      return { ...cell,\n        cell_output: { ...cell.cell_output,\n          lock: senderLock,\n          capacity: sudtCapacity\n        }\n      };\n    });\n    const withdrawnChangeCell = {\n      data: '0x',\n      cell_output: {\n        capacity: '0x0',\n        lock: senderLock,\n        type: undefined\n      }\n    };\n    const minimalCapacity = (0, _helpers.minimalCellCapacity)(withdrawnChangeCell);\n\n    if (withdrawnChangeCapacity.toNumber() < minimalCapacity) {\n      withdrawnChangeCell.cell_output.capacity = _utils.bytes.toHex(minimalCapacity);\n      extraNeededCapacity = extraNeededCapacity.plus((0, _helpers2.BN)(minimalCapacity).minus(withdrawnChangeCapacity));\n    } else {\n      withdrawnChangeCell.cell_output.capacity = _utils.bytes.toHex(withdrawnChangeCapacity);\n    }\n\n    const inputCapacityCells = await provider.collectLockOnlyCells(senderLock, new _pwCore.Amount(_utils.bytes.toHex(extraNeededCapacity), 0).add(new _pwCore.Amount('1')).add(new _pwCore.Amount((0, _builderUtils.byteLenOfLockOnlyCell)((0, _builderUtils.byteLenOfHexData)(receiverLock.args)).toString())).toHexString());\n\n    const changeCell = _pw.Pw.toPwCell((0, _builderUtils.mergeLockOnlyCells)(inputCapacityCells));\n\n    const inputSince = _base.since.generateSince({\n      relative: true,\n      type: 'epochNumber',\n      value: {\n        number: 6,\n        length: 0,\n        index: 0\n      }\n    });\n\n    const rawTx = new _pwCore.RawTransaction([...inputCapacityCells.map(_pw.Pw.toPwCell), ...validWithdrawCells.map(_pw.Pw.toPwCell)], [...withdrawnSudtCells.map(_pw.Pw.toPwCell), _pw.Pw.toPwCell(withdrawnChangeCell), changeCell], this.getCellDepsByCells([...inputCapacityCells.map(_pw.Pw.toPwCell), ...validWithdrawCells.map(_pw.Pw.toPwCell)], [...withdrawnSudtCells.map(_pw.Pw.toPwCell), _pw.Pw.toPwCell(withdrawnChangeCell), changeCell]));\n    rawTx.inputs = rawTx.inputCells.map(function (cell) {\n      const cellInput = (0, _utils2.nonNullable)(cell.toCellInput());\n      const script = {\n        code_hash: cell.lock.codeHash,\n        hash_type: cell.lock.hashType,\n        args: cell.lock.args\n      };\n\n      if (provider.isTemplateOf('CHEQUE', script)) {\n        return new _pwCore.CellInput(cellInput.previousOutput, inputSince);\n      } else {\n        return new _pwCore.CellInput(cellInput.previousOutput, '0x0');\n      }\n    });\n    const tx = new _pwCore.Transaction(rawTx, [this.getWitnessPlaceholder(sender)]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(provider.config.MIN_FEE_RATE));\n\n    changeCell.capacity = changeCell.capacity.sub(fee).sub(new _pwCore.Amount(_utils.bytes.toHex(extraNeededCapacity), 0));\n    return tx;\n  }\n\n}\n\nexports.ChequeWithdrawBuilder = ChequeWithdrawBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PwAdapterSigner = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../../helpers/pw\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nclass PwAdapterSigner {\n  constructor(rawSigner, provider, hasher = new _pwCore.Blake2bHasher()) {\n    this.rawSigner = rawSigner;\n    this.provider = provider;\n    this.hasher = hasher;\n  }\n\n  async signMessages(messages) {\n    const sigs = [];\n\n    const signerLock = _pw.Pw.toPwScript(this.provider.parseToScript(await this.rawSigner.getAddress()));\n\n    for (const item of messages) {\n      if (item.lock.codeHash !== signerLock.codeHash || item.lock.hashType !== signerLock.hashType) continue;\n      const sig = await this.rawSigner.signMessage(item.message);\n      sigs.push(sig);\n    }\n\n    return sigs;\n  }\n\n  async sign(tx) {\n    const messages = this.toMessages(tx);\n    const witnesses = await this.signMessages(messages);\n\n    for (let i = 0; i < messages.length; i++) {\n      const {\n        index\n      } = messages[i];\n\n      if (index < tx.witnessArgs.length && typeof tx.witnessArgs[index] !== 'string') {\n        witnesses[i] = new _pwCore.Reader((0, _pwCore.SerializeWitnessArgs)(_pwCore.normalizers.NormalizeWitnessArgs({ ...tx.witnessArgs[index],\n          lock: witnesses[i]\n        }))).serializeJson();\n      }\n    }\n\n    tx = FillSignedWitnesses(tx, messages, witnesses);\n    return tx;\n  }\n\n  toMessages(tx) {\n    tx.validate();\n\n    if (tx.raw.inputs.length !== tx.raw.inputCells.length) {\n      throw new Error('Input number does not match!');\n    }\n\n    const txHash = new _pwCore.Blake2bHasher().hash(new _pwCore.Reader((0, _pwCore.SerializeRawTransaction)(_pwCore.normalizers.NormalizeRawTransaction(_pwCore.transformers.TransformRawTransaction(tx.raw)))));\n    const messages = [];\n    const used = tx.raw.inputs.map(_input => false);\n\n    for (let i = 0; i < tx.raw.inputs.length; i++) {\n      if (used[i] || tx.witnesses[i] === '0x') {\n        continue;\n      }\n\n      if (i >= tx.witnesses.length) {\n        throw new Error(`Input ${i} starts a new script group, but witness is missing!`);\n      }\n\n      used[i] = true;\n      this.hasher.update(txHash);\n      const firstWitness = new _pwCore.Reader(tx.witnesses[i]);\n      this.hasher.update(serializeBigInt(firstWitness.length()));\n      this.hasher.update(firstWitness);\n\n      for (let j = i + 1; j < tx.raw.inputs.length && j < tx.witnesses.length; j++) {\n        if (tx.raw.inputCells[i].lock.sameWith(tx.raw.inputCells[j].lock)) {\n          used[j] = true;\n          const currentWitness = new _pwCore.Reader(tx.witnesses[j]);\n          this.hasher.update(serializeBigInt(currentWitness.length()));\n          this.hasher.update(currentWitness);\n        }\n      }\n\n      messages.push({\n        index: i,\n        message: this.hasher.digest().serializeJson(),\n        // hex string\n        lock: tx.raw.inputCells[i].lock\n      });\n      this.hasher.reset();\n    }\n\n    return messages;\n  }\n\n}\n\nexports.PwAdapterSigner = PwAdapterSigner;\n\nfunction FillSignedWitnesses(tx, messages, witnesses) {\n  if (messages.length !== witnesses.length) {\n    throw new Error('Invalid number of witnesses!');\n  }\n\n  for (let i = 0; i < messages.length; i++) {\n    tx.witnesses[messages[i].index] = witnesses[i];\n  }\n\n  return tx;\n}\n\nfunction serializeBigInt(i) {\n  const view = new DataView(new ArrayBuffer(8));\n  view.setUint32(0, i, true);\n  return view.buffer;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Secp256k1Signer = exports.Secp256k1Wallet = void 0;\n\nvar _hd = require(\"@ckb-lumos/hd\");\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nvar _privateKey = /*#__PURE__*/new WeakMap();\n\nclass Secp256k1Wallet extends _base.AbstractWallet {\n  constructor(privateKey, provider, lockConfig) {\n    super();\n    this.provider = provider;\n    this.lockConfig = lockConfig;\n\n    _privateKey.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    this.setDescriptor({\n      features: ['issue-sudt']\n    });\n\n    _classPrivateFieldSet(this, _privateKey, privateKey);\n  }\n\n  async tryConnect() {\n    return new Secp256k1Signer(_classPrivateFieldGet(this, _privateKey), this.provider, this.lockConfig);\n  }\n\n}\n\nexports.Secp256k1Wallet = Secp256k1Wallet;\n\nvar _privateKey2 = /*#__PURE__*/new WeakMap();\n\nclass Secp256k1Signer extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  static privateKeyToBlake160(privateKey) {\n    return _hd.key.privateKeyToBlake160(privateKey);\n  }\n\n  constructor(privateKey, provider, lockConfig) {\n    super({\n      provider: provider\n    });\n    this.provider = provider;\n    this.lockConfig = lockConfig;\n\n    _privateKey2.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey2, privateKey);\n  }\n\n  getAddress() {\n    return this.provider.parseToAddress({ ...this.lockConfig,\n      args: Secp256k1Signer.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey2))\n    });\n  }\n\n  signMessage(message) {\n    const signature = _hd.key.signRecoverable(message, _classPrivateFieldGet(this, _privateKey2));\n\n    return Promise.resolve(signature);\n  }\n\n}\n\nexports.Secp256k1Signer = Secp256k1Signer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UnipassWallet = void 0;\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nvar _UnipassAdapter = require(\"./unipass/UnipassAdapter\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass UnipassWallet extends _base.AbstractWallet {\n  constructor(provider, adapterConfig) {\n    super();\n    this.provider = provider;\n\n    _defineProperty(this, \"adapter\", void 0);\n\n    this.setDescriptor({\n      name: 'UnipassWallet',\n      description: 'Interacting with CKB via an Email',\n      features: ['acp']\n    });\n    this.adapter = new _UnipassAdapter.UnipassRedirectAdapter(adapterConfig !== null && adapterConfig !== void 0 ? adapterConfig : {});\n  }\n\n  async tryConnect() {\n    const unipassLockArgs = await this.adapter.getLockArgs();\n    const provider = this.provider;\n\n    const getAddress = () => {\n      return Promise.resolve(provider.parseToAddress(provider.newScript('UNIPASS', unipassLockArgs)));\n    };\n\n    const signMessage = message => {\n      return Promise.resolve(this.adapter.sign(message));\n    };\n\n    return new class extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n      getAddress() {\n        return getAddress();\n      }\n\n      signMessage(message) {\n        return signMessage(message);\n      }\n\n      seal(tx) {\n        return super.seal(tx);\n      }\n\n    }({\n      provider: this.provider\n    });\n  }\n\n}\n\nexports.UnipassWallet = UnipassWallet;\n\n_defineProperty(UnipassWallet, \"UnipassRedirectAdapter\", _UnipassAdapter.UnipassRedirectAdapter);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pubkeyToLockArgs = pubkeyToLockArgs;\nexports.getRetFromSearchParams = getRetFromSearchParams;\nexports.redirect = redirect;\nexports.UnipassRedirectAdapter = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _utils = require(\"../../utils\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction isUnipassLoginData(x) {\n  if (typeof x !== 'object' || x === null) return false;\n  return 'email' in x && 'pubkey' in x;\n}\n\nfunction isUnipassSigData(x) {\n  if (typeof x !== 'object' || x === null) return false;\n  return 'sig' in x && 'pubkey' in x;\n}\n\nfunction pubkeyToLockArgs(pubkey) {\n  return _base.utils.ckbHash((0, _utils.hexToBytes)(pubkey).buffer).serializeJson().slice(0, 42);\n}\n\nfunction getRetFromSearchParams(check, replace = false) {\n  const searchParams = new URLSearchParams(location.search.slice(1));\n  const json = searchParams.get('unipass_ret');\n  if (!json) return undefined;\n  const res = JSON.parse(json);\n  if (!check(res.data)) return undefined;\n  if (res.code !== 200) throw new Error(res.info || 'Unknown error when connecting to UniPass');\n  searchParams.delete('unipass_ret');\n  const {\n    pathname,\n    host,\n    protocol\n  } = window.location;\n  const qs = searchParams.toString();\n  const newUrl = `${protocol}//${host}${pathname}${qs ? `?${qs}` : ''}`;\n  if (replace) window.history.replaceState({\n    path: newUrl\n  }, '', newUrl);\n  return res.data;\n}\n\nasync function redirect(href) {\n  window.location.href = href; // wait 60s to avoid error before redirect\n\n  return new Promise(resolve => setTimeout(resolve, 60 * 1000));\n}\n\nclass UnipassRedirectAdapter {\n  constructor(options) {\n    var _options$host, _options$loginDataCac;\n\n    _defineProperty(this, \"config\", void 0);\n\n    this.config = {\n      host: (_options$host = options.host) !== null && _options$host !== void 0 ? _options$host : 'https://t.unipass.xyz',\n      loginDataCacheKey: (_options$loginDataCac = options.loginDataCacheKey) !== null && _options$loginDataCac !== void 0 ? _options$loginDataCac : '__unipass__'\n    };\n  }\n  /**\n   * check is logged, if `unipass_ret` is found, it will clear the `unipass_ret` and save the unipass login data to cache\n   */\n\n\n  saveLoginInfo() {\n    this.getLoginDataFromUrl() && this.getLoginDataFromCache();\n  }\n\n  hasLoginInfo() {\n    return !!getRetFromSearchParams(isUnipassLoginData);\n  }\n\n  hasSigData() {\n    return !!getRetFromSearchParams(isUnipassSigData);\n  }\n  /**\n   * get unipass lock_args. If it is not retrieved from the cache or url, it will redirect to the unipass page\n   */\n\n\n  async getLockArgs() {\n    var _ref, _this$getLoginDataFro;\n\n    const loginData = (_ref = (_this$getLoginDataFro = this.getLoginDataFromCache()) !== null && _this$getLoginDataFro !== void 0 ? _this$getLoginDataFro : this.getLoginDataFromUrl()) !== null && _ref !== void 0 ? _ref : await this.redirectToLogin();\n    return pubkeyToLockArgs(loginData.pubkey);\n  }\n\n  sign(message) {\n    var _this$getSignatureFro;\n\n    return Promise.resolve((_this$getSignatureFro = this.getSignatureFromUrl()) !== null && _this$getSignatureFro !== void 0 ? _this$getSignatureFro : this.redirectToSign(message));\n  }\n\n  redirectToLogin() {\n    const loginUrl = this.generateUnipassNewUrl(this.config.host, 'login', {\n      success_url: window.location.href\n    });\n    return redirect(loginUrl);\n  }\n\n  redirectToSign(message) {\n    var _this$getLoginDataFro2;\n\n    const pubkey = (_this$getLoginDataFro2 = this.getLoginDataFromCache()) === null || _this$getLoginDataFro2 === void 0 ? void 0 : _this$getLoginDataFro2.pubkey;\n    if (!pubkey) throw new Error('UniPass should login before sign');\n    const signUrl = this.generateUnipassNewUrl(this.config.host, 'sign', {\n      success_url: window.location.href,\n      pubkey,\n      message\n    });\n    return redirect(signUrl);\n  }\n\n  saveLoginDataToCache(data) {\n    localStorage.setItem(this.config.loginDataCacheKey, JSON.stringify(data));\n  }\n\n  getLoginDataFromCache() {\n    const serialized = localStorage.getItem(this.config.loginDataCacheKey);\n    if (serialized == null) return;\n    return JSON.parse(serialized);\n  }\n\n  getLoginDataFromUrl() {\n    const loginData = getRetFromSearchParams(isUnipassLoginData, true);\n    if (!loginData) return;\n    this.saveLoginDataToCache(loginData);\n    return loginData;\n  }\n\n  getSignatureFromUrl() {\n    const signature = getRetFromSearchParams(isUnipassSigData, true);\n    if (!signature) return; // FIXME comment meaning for the 0x01\n\n    return '0x01' + signature.sig.replace('0x', '');\n  }\n\n  generateUnipassNewUrl(host, action, params) {\n    const urlObj = new URL(`${host}/${action.toLowerCase()}`);\n    Object.entries(params).forEach(([key, val]) => urlObj.searchParams.set(key, val));\n    return urlObj.href;\n  }\n\n}\n\nexports.UnipassRedirectAdapter = UnipassRedirectAdapter;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RcPwSigner = exports.RcOwnerWallet = void 0;\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nvar _PwWallet = require(\"./PwWallet\");\n\n/**\n * The RC wallet now only supported Eth identity via MetaMask\n */\nclass RcOwnerWallet extends _base.AbstractWallet {\n  constructor(provider) {\n    super();\n    this.provider = provider;\n    this.setDescriptor({\n      name: 'RcWallet'\n    });\n  }\n\n  describeFeatures() {\n    return ['issue-sudt'];\n  }\n\n  async tryConnect() {\n    const ethProvider = await (0, _PwWallet.detect)(); // request to connect to MetaMask if never been connected\n\n    if (!ethProvider.selectedAddress) {\n      await ethProvider.request({\n        method: 'eth_requestAccounts'\n      });\n    }\n\n    ethProvider.addListener('accountsChanged', signer => {\n      if (signer && signer.length > 0) {\n        super.emitChangedSigner(new RcPwSigner(this.provider, ethProvider));\n        return;\n      }\n\n      super.emitConnectStatusChanged('disconnected');\n    });\n    return new RcPwSigner(this.provider, ethProvider);\n  }\n\n}\n\nexports.RcOwnerWallet = RcOwnerWallet;\n\nclass RcPwSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(provider, ethProvider) {\n    super({\n      provider\n    });\n    this.provider = provider;\n    this.ethProvider = ethProvider;\n  }\n\n  getAddress() {\n    const rcOwnerLockArgs = _utils.bytes.toHex(_rcLock.RcIdentityLockArgs.encode({\n      rc_identity_flag: _rcLock.RcIdentityFlag.ETH,\n      rc_identity_pubkey_hash: this.ethProvider.selectedAddress,\n      rc_lock_flag: 0\n    }));\n\n    return this.provider.parseToAddress(this.provider.newScript('RC_LOCK', rcOwnerLockArgs));\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _rcLock.RcIdentityFlag.ETH,\n      pubkeyHash: this.ethProvider.selectedAddress\n    };\n  }\n\n  async personalSign(message) {\n    const from = this.ethProvider.selectedAddress;\n    return this.ethProvider.request({\n      method: 'personal_sign',\n      params: [from, message]\n    });\n  }\n\n  async signMessage(message) {\n    const signedMessage = await this.personalSign(message);\n    let v = Number.parseInt(signedMessage.slice(-2), 16);\n    if (v >= 27) v -= 27;\n    const signature = '0x' + signedMessage.slice(2, -2) + v.toString(16).padStart(2, '0');\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RcPwSigner = RcPwSigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MercuryProvider = require(\"./mercury/MercuryProvider\");\n\nObject.keys(_MercuryProvider).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _MercuryProvider[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _MercuryProvider[key];\n    }\n  });\n});\n\nvar _CkitProvider = require(\"./CkitProvider\");\n\nObject.keys(_CkitProvider).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _CkitProvider[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _CkitProvider[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MercuryClient = void 0;\n\nvar _clientJs = require(\"@open-rpc/client-js\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass MercuryClient {\n  constructor(uri) {\n    _defineProperty(this, \"client\", void 0);\n\n    const transport = new _clientJs.HTTPTransport(uri, {\n      headers: {\n        'content-type': 'application/json'\n      }\n    });\n    this.client = new _clientJs.Client(new _clientJs.RequestManager([transport]));\n  }\n\n  get_cells(payload) {\n    const {\n      search_key,\n      order = 'asc',\n      limit = '0x3e8'\n      /*1_000*/\n      ,\n      after_cursor\n    } = payload;\n    return this.client.request({\n      method: 'get_cells',\n      params: [search_key, order, limit, after_cursor]\n    });\n  }\n\n  get_tip() {\n    return this.client.request({\n      method: 'get_tip'\n    });\n  }\n\n  get_transactions() {\n    return this.client.request({\n      method: 'get_transactions',\n      params: []\n    });\n  }\n\n}\n\nexports.MercuryClient = MercuryClient;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MercuryCellProvider = void 0;\n\nclass MercuryCellProvider {\n  constructor(mercury) {\n    this.mercury = mercury;\n  }\n\n  collector(queries) {\n    const {\n      lock,\n      type\n    } = queries;\n    let searchKey;\n\n    if (lock !== undefined) {\n      searchKey = {\n        script: lock,\n        script_type: 'lock'\n      };\n\n      if (type != undefined && type !== 'empty') {\n        searchKey.filter = {\n          script: type\n        };\n      }\n    } else {\n      if (type != undefined && type != 'empty') {\n        searchKey = {\n          script: type,\n          script_type: 'type'\n        };\n      } else {\n        throw new Error(`should specify either type or lock in queries, queries now: ${JSON.stringify(queries)}`);\n      }\n    }\n\n    const queryData = queries.data || '0x';\n    const mercury = this.mercury;\n    return {\n      collect() {\n        return {\n          async *[Symbol.asyncIterator]() {\n            const sizeLimit = 100;\n\n            for (;;) {\n              const res = await mercury.get_cells({\n                search_key: searchKey\n              });\n              const liveCells = res.objects;\n\n              for (const cell of liveCells) {\n                if (queryData === 'any' || queryData === cell.output_data) {\n                  yield {\n                    cell_output: cell.output,\n                    data: cell.output_data,\n                    out_point: cell.out_point,\n                    block_number: cell.block_number\n                  };\n                }\n              }\n\n              if (liveCells.length < sizeLimit) {\n                break;\n              }\n            }\n          }\n\n        };\n      }\n\n    };\n  }\n\n}\n\nexports.MercuryCellProvider = MercuryCellProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CkitProvider = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _MercuryProvider = require(\"./mercury/MercuryProvider\");\n\nclass CkitProvider extends _MercuryProvider.MercuryProvider {\n  get config() {\n    return super.config;\n  }\n\n  init(config) {\n    return super.init(config);\n  }\n\n  getScriptConfig(key) {\n    const scriptConfig = super.getScriptConfig(key);\n    if (!scriptConfig) throw new Error(`cannot find the ${key} script config, maybe init failed`);\n    return scriptConfig;\n  }\n\n  newScript(configKey, args = '0x') {\n    const script = super.newScript(configKey, args);\n    if (!script) throw new Error(`cannot find the ${configKey} script config, maybe init failed`);\n    return script;\n  }\n\n  newScriptTemplate(configKey) {\n    const template = this.newScript(configKey);\n    return {\n      code_hash: template.code_hash,\n      hash_type: template.hash_type\n    };\n  }\n\n  newSudtScript(issuer) {\n    const issuerLockHash = typeof issuer === 'string' ? _base.utils.computeScriptHash(this.parseToScript(issuer)) : _base.utils.computeScriptHash(issuer);\n    return this.newScript('SUDT', issuerLockHash);\n  }\n\n  getCellDep(configKey) {\n    const dep = super.getCellDep(configKey);\n    if (!dep) throw new Error(`cannot find the ${configKey} script config, maybe init failed`);\n    return dep;\n  }\n\n  isTemplateOf(key, scriptLice) {\n    const script = typeof scriptLice === 'string' ? this.parseToScript(scriptLice) : scriptLice;\n    const scriptConfig = this.getScriptConfig(key);\n    return scriptConfig.CODE_HASH === script.code_hash && scriptConfig.HASH_TYPE === script.hash_type;\n  }\n\n}\n\nexports.CkitProvider = CkitProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.predefined = void 0;\n\nvar Aggron = _interopRequireWildcard(require(\"./aggron\"));\n\nvar Lina = _interopRequireWildcard(require(\"./lina\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst AggronCkitConfig = {\n  PREFIX: 'ckt',\n  SCRIPTS: Aggron.SCRIPTS\n};\nconst LinaCkitConfig = {\n  PREFIX: 'ckb',\n  SCRIPTS: Lina.SCRIPTS\n};\nconst predefined = {\n  Aggron: AggronCkitConfig,\n  Lina: LinaCkitConfig\n};\nexports.predefined = predefined;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SCRIPTS = void 0;\n\nvar _configManager = require(\"@ckb-lumos/config-manager\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nconst SCRIPTS = {\n  SECP256K1_BLAKE160: _configManager.predefined.AGGRON4.SCRIPTS.SECP256K1_BLAKE160,\n  ANYONE_CAN_PAY: _configManager.predefined.AGGRON4.SCRIPTS.ANYONE_CAN_PAY,\n  SUDT: _configManager.predefined.AGGRON4.SCRIPTS.SUDT,\n\n  /**\n   * @deprecated replace with rc-lock\n   */\n  PW_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x093ba9759e1c4a79dd81b0a50de83ab108ffe4eb983b05637bf1f5c1834f31eb',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x834d1827950545da5cca779903ca8268aecbc7bfadb1d1cc18ba90f3b312cd41',\n    INDEX: '0x2',\n    DEP_TYPE: 'code'\n  },\n\n  /**\n   * @deprecated replace with rc-lock\n   */\n  PW_NON_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x87366c3678f14ccbd6647386a18e05ae27c97978d4a6952fb5820cc698263835',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x834d1827950545da5cca779903ca8268aecbc7bfadb1d1cc18ba90f3b312cd41',\n    INDEX: '0x3',\n    DEP_TYPE: 'code'\n  },\n  UNIPASS: {\n    INDEX: '0x0',\n    TX_HASH: '0x03dd2a5594ed2d79196b396c83534e050ba0ad07fa5c1cd61a7094f9fb60a592',\n    DEP_TYPE: 'code',\n    CODE_HASH: '0x124a60cd799e1fbca664196de46b3f7f0ecb7138133dcaea4893c51df5b02be6',\n    HASH_TYPE: 'type'\n  },\n  RC_LOCK: {\n    CODE_HASH: '0x79f90bb5e892d80dd213439eeab551120eb417678824f282b4ffb5f21bad2e1e',\n    HASH_TYPE: 'type',\n    TX_HASH: '0x9154df4f7336402114d04495175b37390ce86a4906d2d4001cf02c3e6d97f39c',\n    INDEX: '0x0',\n    DEP_TYPE: 'code'\n  },\n  CHEQUE: {\n    CODE_HASH: '0x60d5f39efce409c587cb9ea359cefdead650ca128f0bd9cb3855348f98c70d5b',\n    HASH_TYPE: 'type',\n    TX_HASH: '0x7f96858be0a9d584b4a9ea190e0420835156a6010a5fde15ffcdc9d9c721ccab',\n    INDEX: '0x0',\n    DEP_TYPE: 'dep_group'\n  }\n};\nexports.SCRIPTS = SCRIPTS;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SCRIPTS = void 0;\n\nvar _configManager = require(\"@ckb-lumos/config-manager\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nconst SCRIPTS = {\n  SECP256K1_BLAKE160: _configManager.predefined.LINA.SCRIPTS.SECP256K1_BLAKE160,\n  ANYONE_CAN_PAY: _configManager.predefined.LINA.SCRIPTS.ANYONE_CAN_PAY,\n  SUDT: _configManager.predefined.LINA.SCRIPTS.SUDT,\n\n  /**\n   * @deprecated the pw-lock would be replace with rc-lock\n   */\n  PW_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x',\n    INDEX: '0x',\n    DEP_TYPE: 'code'\n  },\n\n  /**\n   * @deprecated the pw-lock would be replace with rc-lock\n   */\n  PW_NON_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x',\n    INDEX: '0x',\n    DEP_TYPE: 'code'\n  },\n  UNIPASS: {\n    INDEX: '0x0',\n    TX_HASH: '0x1a04142a2a745fb3b7e0e9b61241676c1c94ad8cdacb36f223661130a23fb007',\n    DEP_TYPE: 'code',\n    CODE_HASH: '0x614d40a86e1b29a8f4d8d93b9f3b390bf740803fa19a69f1c95716e029ea09b3',\n    HASH_TYPE: 'type'\n  },\n  RC_LOCK: {\n    CODE_HASH: '0x9f3aeaf2fc439549cbc870c653374943af96a0658bd6b51be8d8983183e6f52f',\n    HASH_TYPE: 'type',\n    TX_HASH: '0xaa8ab7e97ed6a268be5d7e26d63d115fa77230e51ae437fc532988dd0c3ce10a',\n    INDEX: '0x1',\n    DEP_TYPE: 'code'\n  },\n  CHEQUE: {\n    CODE_HASH: '0xe4d4ecc6e5f9a059bf2f7a82cca292083aebc0c421566a52484fe2ec51a9fb0c',\n    HASH_TYPE: 'type',\n    TX_HASH: '0x04632cc459459cf5c9d384b43dee3e36f542a464bdd4127be7d6618ac6f8d268',\n    INDEX: '0x0',\n    DEP_TYPE: 'dep_group'\n  }\n};\nexports.SCRIPTS = SCRIPTS;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"serialize\", {\n  enumerable: true,\n  get: function () {\n    return _pw.serialize;\n  }\n});\nObject.defineProperty(exports, \"deserialize\", {\n  enumerable: true,\n  get: function () {\n    return _pw.deserialize;\n  }\n});\nexports.Pw = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"./pw.serde\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nfunction fromPwCellDep(x) {\n  return {\n    dep_type: x.depType,\n    out_point: {\n      tx_hash: x.outPoint.txHash,\n      index: x.outPoint.index\n    }\n  };\n}\n\nfunction toPwCellDep(x) {\n  return new _pwCore.CellDep(x.dep_type === 'dep_group' ? _pwCore.DepType.depGroup : _pwCore.DepType.code, new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index));\n}\n\nfunction fromPwScript(x) {\n  return {\n    code_hash: x.codeHash,\n    args: x.args,\n    hash_type: x.hashType\n  };\n}\n\nfunction toPwScript(x) {\n  return new _pwCore.Script(x.code_hash, x.args, x.hash_type === 'type' ? _pwCore.HashType.type : _pwCore.HashType.data);\n}\n\nfunction fromPwCell(x) {\n  return {\n    cell_output: {\n      capacity: x.capacity.toHexString(),\n      type: x.type ? fromPwScript(x.type) : undefined,\n      lock: fromPwScript(x.lock)\n    },\n    out_point: x.outPoint ? {\n      tx_hash: x.outPoint.txHash,\n      index: x.outPoint.index\n    } : undefined,\n    data: x.getData()\n  };\n}\n\nfunction isLumosCell(x) {\n  if (typeof x !== 'object' || x == null) return false;\n  return 'cell_output' in x;\n}\n\nfunction toPwCell(x) {\n  if (isLumosCell(x)) {\n    return new _pwCore.Cell(new _pwCore.Amount(x.cell_output.capacity, 0), toPwScript(x.cell_output.lock), x.cell_output.type ? toPwScript(x.cell_output.type) : undefined, x.out_point ? new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index) : undefined, x.data);\n  }\n\n  return new _pwCore.Cell(new _pwCore.Amount(x.output.capacity, 0), toPwScript(x.output.lock), x.output.type ? toPwScript(x.output.type) : undefined, x.out_point ? new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index) : undefined, x.output_data);\n}\n\nfunction toPwOutPoint(x) {\n  return new _pwCore.OutPoint(x.tx_hash, x.index);\n}\n/**\n * from: PW => Lumos\n * to: Lumos => PW\n */\n\n\nconst Pw = {\n  fromPwCellDep,\n  toPwCellDep,\n  fromPwCell,\n  toPwCell,\n  toPwScript,\n  fromPwScript,\n  toPwOutPoint\n};\nexports.Pw = Pw;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unimplemented = unimplemented;\nexports.asyncSleep = asyncSleep;\nexports.randomHexString = randomHexString;\nexports.nonNullable = nonNullable;\nexports.bytesToHex = bytesToHex;\nexports.hexToBytes = hexToBytes;\nexports.boom = boom;\nexports.asserts = asserts;\n\nfunction unimplemented() {\n  throw new Error('unimplemented');\n}\n\nfunction asyncSleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n/**\n *\n * @param lengthWithOut0x expected length does not contain the beginning 0x\n * @example\n * ```ts\n * randomHexString(1); // 0xa\n * randomHexString(1); // 0x2\n * randomHexString(2); // 0xf8\n * ```\n */\n\n\nfunction randomHexString(lengthWithOut0x) {\n  return '0x' + [...Array(lengthWithOut0x)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');\n}\n\nfunction nonNullable(x) {\n  if (x == null) throw new Error('Null check failed');\n  return x;\n}\n\nfunction bytesToHex(bytes) {\n  return `0x${[...bytes].map(b => b.toString(16).padStart(2, '0')).join('')}`;\n}\n\nfunction hexToBytes(hex) {\n  hex = hex.startsWith('0x') ? hex.slice(2) : hex;\n  const match = hex.match(/.{1,2}/g);\n  if (!match) throw new Error(`cannot parse ${hex} into Uint8Array`);\n  return Uint8Array.from(match.map(byte => parseInt(byte, 16)));\n}\n\nfunction boom(message) {\n  throw new Error(message);\n}\n\nfunction asserts(condition, err) {\n  if (condition) return;\n\n  if (typeof err === 'function') {\n    throw err();\n  }\n\n  if (typeof err === 'string') boom(err);\n  if (err instanceof Error) throw err;\n  boom();\n}","import { CkitInitOptions, predefined } from '@ckitjs/ckit';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { useMemo } from 'react';\n\nexport interface LocalConfig {\n  ckitConfig: CkitInitOptions;\n  mecuryRPC: string;\n  ckbRPC: string;\n  nervosExploreTxUrlPrefix: string;\n  nervosExploreAddressUrlPrefix: string;\n  nervosExploreSudtUrlPrefix: string;\n}\n\n// TODO remove random when predefined config is ready\nexport function useConfigStorage(): [LocalConfig, (newValue: LocalConfig) => void, () => void] {\n  const initialConfig = useMemo<LocalConfig>(() => {\n    // TODO check network first\n    const ckitConfig: CkitInitOptions = predefined.Aggron;\n    const mecuryRPC = 'https://testnet.ckb.dev/indexer';\n    const ckbRPC = 'https://testnet.ckb.dev/rpc';\n    const nervosExploreTxUrlPrefix = 'https://explorer.nervos.org/aggron/transaction/';\n    const nervosExploreAddressUrlPrefix = 'https://explorer.nervos.org/aggron/address/';\n    const nervosExploreSudtUrlPrefix = 'https://explorer.nervos.org/aggron/sudt/';\n    return {\n      ckitConfig: ckitConfig,\n      mecuryRPC: mecuryRPC,\n      ckbRPC: ckbRPC,\n      nervosExploreTxUrlPrefix: nervosExploreTxUrlPrefix,\n      nervosExploreAddressUrlPrefix: nervosExploreAddressUrlPrefix,\n      nervosExploreSudtUrlPrefix: nervosExploreSudtUrlPrefix,\n    };\n  }, []);\n\n  return useLocalStorage<LocalConfig>('localConfig', initialConfig);\n}\n","import { CkitProvider } from '@ckitjs/ckit';\nimport { useEffect, useState } from 'react';\nimport { createContainer } from 'unstated-next';\nimport { useConfigStorage } from 'hooks/useConfigStorage';\n\nexport const CkitProviderContainer = createContainer<CkitProvider | undefined>(() => {\n  const [ckitProvider, setCkitProvider] = useState<CkitProvider>();\n  const [localConfig] = useConfigStorage();\n  useEffect(() => {\n    const provider = new CkitProvider(localConfig.mecuryRPC, localConfig.ckbRPC);\n    void provider.init({ ...localConfig.ckitConfig }).then(() => setCkitProvider(provider));\n  }, [localConfig]);\n\n  return ckitProvider;\n});\n\nexport function useProvider(): CkitProvider {\n  const provider = CkitProviderContainer.useContainer();\n\n  if (!provider) throw new Error('Cannot find provider, make suer useProvider in CkitProviderContainer');\n\n  return provider;\n}\n","import { CkitProvider, NonAcpPwLockWallet } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableNonAcpPwLockWallet extends NonAcpPwLockWallet {\n  constructor(ckitProvider: CkitProvider) {\n    super(ckitProvider);\n    this.setDescriptor({ name: 'MetaMask(Non-ACP)' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { CkitProvider, AcpPwLockWallet } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableAcpPwLockWallet extends AcpPwLockWallet {\n  constructor(ckitProvider: CkitProvider) {\n    super(ckitProvider);\n    this.setDescriptor({ name: 'MetaMask(ACP)' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { UnipassWallet, CkitProvider } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableUnipassWallet extends UnipassWallet {\n  constructor(provider: CkitProvider) {\n    super(provider);\n    this.setDescriptor({ name: 'UniPass' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { AbstractWallet, ConnectStatus } from '@ckitjs/ckit';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { autorun, runInAction } from 'mobx';\nimport { useLocalObservable } from 'mobx-react-lite';\nimport { useCallback, useEffect, useState } from 'react';\nimport { createContainer } from 'unstated-next';\nimport { CkitProviderContainer } from '../CkitProviderContainer';\nimport { ObservableAcpPwLockWallet, ObservableNonAcpPwLockWallet, ObservableUnipassWallet } from 'wallets';\n\nexport interface WalletConnectError {\n  error: Error;\n  index: number;\n}\n\nfunction useWallet() {\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const [currentWalletName, setCurrentWalletName] = useLocalStorage<string | null>('currentWalletName');\n\n  // TODO refactor to Wallets class\n  const wallets = useLocalObservable<AbstractWallet[]>(() => []);\n  const [signerAddress, setSignerAddress] = useState<string>();\n  const [error, setError] = useState<WalletConnectError | null>(null);\n  const [visible, setVisible] = useState(false);\n  const [isInitialized, setIsInitialized] = useState(false);\n\n  const setModalVisible = useCallback((visible: boolean) => {\n    setVisible(visible);\n    setError(null);\n  }, []);\n\n  useEffect(() => {\n    if (!ckitProvider) return;\n    // when the provider has changed, wallets should be construct with the new provider\n    runInAction(() => {\n      wallets.splice(0);\n      wallets.push(\n        new ObservableUnipassWallet(ckitProvider),\n        new ObservableNonAcpPwLockWallet(ckitProvider),\n        new ObservableAcpPwLockWallet(ckitProvider),\n      );\n      wallets.find((value) => value.descriptor.name === currentWalletName)?.connect();\n    });\n  }, [ckitProvider]);\n\n  useEffect(\n    () =>\n      autorun(() => {\n        if (!wallets) return;\n        wallets.forEach((wallet, index) => {\n          const onConnectStatusChanged = (connectStatus: ConnectStatus) => {\n            if (connectStatus === 'disconnected') {\n              const remainConnectedWallet = wallets.find((w) => w.connectStatus === 'connected');\n              if (!remainConnectedWallet) {\n                setCurrentWalletName(null);\n              } else {\n                setCurrentWalletName(remainConnectedWallet.descriptor.name);\n              }\n            }\n            if (connectStatus === 'connected') {\n              setModalVisible(false);\n              const connectedWallet = wallets.find((w) => w.descriptor.name === wallet.descriptor.name);\n              if (!connectedWallet) {\n                throw new Error('exception: wallet could not be found');\n              } else {\n                setCurrentWalletName(connectedWallet.descriptor.name);\n              }\n            }\n          };\n          wallet.on('connectStatusChanged', onConnectStatusChanged);\n          wallet.on('error', (err) =>\n            setError({\n              error: err as Error,\n              index: index,\n            }),\n          );\n        });\n      }),\n    [setModalVisible, wallets],\n  );\n\n  const currentWallet = wallets.find((value) => value.descriptor.name === currentWalletName);\n\n  useEffect(() => {\n    autorun(() => {\n      setSignerAddress(undefined);\n      const wallet = wallets.find((value) => value.descriptor.name === currentWalletName);\n      void Promise.resolve(wallet?.signer?.getAddress()).then((address) => {\n        setSignerAddress(address);\n        setIsInitialized(true);\n      });\n    });\n  }, [currentWalletName]);\n\n  return {\n    isInitialized,\n    wallets,\n    currentWallet,\n    setCurrentWalletName,\n    signerAddress,\n    error,\n    setError,\n    visible,\n    setModalVisible,\n  };\n}\n\nexport const WalletContainer = createContainer(useWallet);\n\nexport const displayWalletName = (name: string | undefined): string => {\n  return name || 'unknown';\n};\n","import { UnipassWallet } from '@ckitjs/ckit';\nimport { useLocalStorage } from '@rehooks/local-storage';\n\ninterface UnipassContext {\n  shouldLogin: boolean;\n  cacheLogin: () => void;\n  shouldSendTx: boolean;\n  cacheTx: (tx: string | null) => void;\n  clearTx: () => void;\n  cachedTx: string | null;\n}\n\nexport function useUnipass(): UnipassContext {\n  const [cachedTx, cacheTx] = useLocalStorage<string | null>('unipassTx');\n  const adapter = new UnipassWallet.UnipassRedirectAdapter({ host: 'https://unipass.xyz' }); // TODO  use the config\n  return {\n    shouldLogin: adapter.hasLoginInfo(),\n    cacheLogin: () => adapter.saveLoginInfo(),\n    shouldSendTx: adapter.hasSigData(),\n    cacheTx,\n    clearTx: () => cacheTx(null),\n    cachedTx,\n  };\n}\n","import { BigNumber } from 'bignumber.js';\n\nexport class AssetAmount {\n  rawAmount: BigNumber;\n  decimals: number;\n\n  constructor(rawAmount: string | BigNumber, decimals: number) {\n    this.rawAmount = new BigNumber(rawAmount);\n    this.decimals = decimals;\n  }\n\n  static fromRaw(rawAmount: string, decimals: number): AssetAmount {\n    return new AssetAmount(rawAmount, decimals);\n  }\n\n  static fromHumanize(humanizeAmount: string, decimals: number): AssetAmount {\n    const rawAmount = new BigNumber(humanizeAmount).times(10 ** decimals);\n    return new AssetAmount(rawAmount, decimals);\n  }\n\n  toRawString(): string {\n    return this.rawAmount.toString();\n  }\n\n  toHexString(): string {\n    return '0x' + this.rawAmount.toString(16);\n  }\n\n  toHumanizeString(): string {\n    const humanizeAmount = this.rawAmount.times(10 ** -this.decimals);\n    const originDecimalPlaces = humanizeAmount.decimalPlaces();\n    const rounded = humanizeAmount.decimalPlaces(originDecimalPlaces, BigNumber.ROUND_FLOOR);\n    return rounded.toFormat().toString();\n  }\n}\n","export * from './AssetAmount';\n\nexport function hasProp<O, K extends string | number | symbol>(obj: O, key: K): obj is Record<K, unknown> & O {\n  return obj != null && typeof obj === 'object' && key in obj;\n}\n\nexport function truncateMiddle(str: string, start: number, end = start): string {\n  if (!start || !end || start <= 0 || end <= 0) throw new Error('start or end is invalid');\n  if (str.length <= start + end) return str;\n  return str.slice(0, start) + '...' + str.slice(-end);\n}\n\nconst HEX_REGEX = /^0[xX][0-9a-fA-F]*$/;\n\nexport function isValidHexString(value: string): boolean {\n  return HEX_REGEX.test(value);\n}\n","import { Hash } from '@ckb-lumos/base';\nimport { AbstractTransactionBuilder, CkitProvider, EntrySigner } from '@ckitjs/ckit';\nimport { Transaction } from '@lay2/pw-core';\nimport { Modal } from 'antd';\nimport React from 'react';\nimport { useMutation, UseMutationResult } from 'react-query';\nimport { useConfigStorage } from './useConfigStorage';\nimport { useUnipass } from './useUnipass';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { hasProp } from 'utils';\n\ntype SendTransactionOption = Transaction | ((provider: CkitProvider, signer: EntrySigner) => Promise<Transaction>);\n\nexport function useSendTransaction(): UseMutationResult<{ txHash: Hash }, unknown, SendTransactionOption> {\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const { currentWallet } = WalletContainer.useContainer();\n  const [localConfig] = useConfigStorage();\n  const { cacheTx, clearTx } = useUnipass();\n\n  return useMutation(\n    async (option: SendTransactionOption) => {\n      if (!currentWallet?.signer) throw new Error('exception: signer undefined');\n      if (!ckitProvider) throw new Error('exception: ckitProvider undefined');\n\n      const tx = typeof option === 'function' ? await option(ckitProvider, currentWallet.signer) : option;\n      if (currentWallet.descriptor.name === 'UniPass') {\n        const serializedTx = AbstractTransactionBuilder.serde.serialize(tx);\n        cacheTx(JSON.stringify(serializedTx));\n      }\n      const txHash = await ckitProvider.sendTransaction(await currentWallet.signer.seal(tx));\n      if (currentWallet.descriptor.name === 'UniPass') {\n        clearTx();\n      }\n      return { txHash: txHash };\n    },\n    {\n      onSuccess({ txHash }) {\n        const href = localConfig.nervosExploreTxUrlPrefix + txHash;\n        Modal.success({\n          title: 'Tx sent',\n          content: (\n            <p>\n              The transaction was sent, check it in&nbsp;\n              <a href={href} target=\"_blank\" rel=\"noreferrer\">\n                explorer\n              </a>\n              <details>\n                <summary>transaction id</summary>\n                {txHash}\n              </details>\n            </p>\n          ),\n        });\n      },\n      onError(error) {\n        const errorMsg: string = hasProp(error, 'message') ? String(error.message) : 'Unknown error';\n        Modal.error({ title: 'Tx failed', content: errorMsg, width: 360 });\n      },\n    },\n  );\n}\n","import { AbstractTransactionBuilder } from '@ckitjs/ckit';\nimport { Transaction } from '@lay2/pw-core';\nimport { Spin } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { WalletContainer } from 'containers';\nimport { useSendTransaction } from 'hooks/useSendTransaction';\nimport { useUnipass } from 'hooks/useUnipass';\n\nexport const OnIncomplete: React.FC = ({ children }) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const { isInitialized, setCurrentWalletName } = WalletContainer.useContainer();\n  const { mutateAsync: sendTransaction } = useSendTransaction();\n  const { shouldLogin, cacheLogin, shouldSendTx, cachedTx } = useUnipass();\n\n  useEffect(() => {\n    void (async () => {\n      if (shouldLogin) {\n        setCurrentWalletName('UniPass');\n        cacheLogin();\n      }\n\n      if (shouldSendTx) {\n        if (!isInitialized) return;\n        if (!cachedTx) throw new Error('Could not find transaction to send');\n        const txToSend = AbstractTransactionBuilder.serde.deserialize(cachedTx);\n        await sendTransaction(txToSend as Transaction).catch(() => setIsLoaded(true));\n      }\n\n      setIsLoaded(true);\n    })();\n  }, [isInitialized]);\n\n  if (!isLoaded) return <Spin />;\n  return <>{children}</>;\n};\n","import styled from 'styled-components';\n\nexport const StyledCardWrapper = styled.div`\n  width: 360px;\n  padding: 24px;\n  margin-bottom: 48px;\n  border-radius: 16px;\n  background: #fff;\n  box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.08);\n`;\n","import { CheckCircleTwoTone } from '@ant-design/icons';\nimport { Button, Space } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { displayWalletName, WalletContainer } from 'containers/WalletContainer';\n\nexport const WalletConnectFC: React.FC = () => {\n  const { currentWallet, setModalVisible } = WalletContainer.useContainer();\n\n  if (currentWallet) {\n    return (\n      <Button size=\"small\" onClick={() => setModalVisible(true)}>\n        <Space>\n          {displayWalletName(currentWallet.descriptor.name)}\n          <CheckCircleTwoTone />\n        </Space>\n      </Button>\n    );\n  }\n\n  return (\n    <Button size=\"small\" type=\"primary\" onClick={() => setModalVisible(true)}>\n      Connect\n    </Button>\n  );\n};\n\nexport const WalletConnect = observer(WalletConnectFC);\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { RecipientOptions, helpers, MintSudtBuilder, CkitProvider, EntrySigner } from '@ckitjs/ckit';\nimport { useMutation, UseMutationResult } from 'react-query';\nimport { useSendTransaction } from './useSendTransaction';\n\nexport interface SendIssueTxInput {\n  recipient: Address;\n  amount: HexNumber;\n  operationKind: 'invite' | 'issue';\n}\n\nexport function useSendIssueTx(): UseMutationResult<unknown, unknown, SendIssueTxInput> {\n  const { mutateAsync: sendTransaction } = useSendTransaction();\n\n  return useMutation(['sendIssueTx'], async (input: SendIssueTxInput) => {\n    const buildTx = async (provider: CkitProvider, signer: EntrySigner) => {\n      const recipientsParams: RecipientOptions = {\n        recipient: input.recipient,\n        amount: input.amount,\n      };\n      if (input.operationKind === 'invite') {\n        recipientsParams.capacityPolicy = 'createCell';\n        recipientsParams.additionalCapacity = helpers.CkbAmount.fromCkb(1).toHex();\n        recipientsParams.amount = '0';\n      } else {\n        recipientsParams.capacityPolicy = 'findAcp';\n      }\n      const txBuilder = new MintSudtBuilder({ recipients: [recipientsParams] }, provider, await signer.getAddress());\n      return txBuilder.build();\n    };\n\n    await sendTransaction(buildTx);\n  });\n}\n","import { CkbTypeScript } from '@ckitjs/base';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { useCallback, useMemo } from 'react';\n\nexport interface AssetMeta {\n  symbol: string;\n  decimal: number;\n  script?: CkbTypeScript;\n}\n\nexport function useAssetMetaStorage(): { assetsMeta: AssetMeta[]; addAssetMeta: (newValue: AssetMeta) => void } {\n  const initialAssetMeta = useMemo<AssetMeta[]>(() => [{ symbol: 'ckb', decimal: 8 }], []);\n  const [assetsMeta, setAssetsMeta] = useLocalStorage<AssetMeta[]>('assetMeta', initialAssetMeta);\n  const addAssetMeta = useCallback(\n    (newValue: AssetMeta) => {\n      setAssetsMeta(assetsMeta.concat(newValue));\n    },\n    [assetsMeta, setAssetsMeta],\n  );\n  return { assetsMeta, addAssetMeta };\n}\n","import { Address, Script } from '@ckb-lumos/base';\nimport { useCallback } from 'react';\nimport { useProvider } from 'containers';\nimport { AssetAmount } from 'utils';\n\ninterface ValidationHelper {\n  validateCkbAddress: (value: Address) => string | undefined;\n  validateInviteAddress: (value: Address, sudtScript: Script) => Promise<string | undefined>;\n  validateIssueAddress: (value: Address, sudtScript: Script) => Promise<string | undefined>;\n  validateTransferAddress: (value: Address, sudtScript: Script) => Promise<string | undefined>;\n  validateAmount: (amount: string, decimal: number) => string | undefined;\n}\n\nexport function useFormValidate(): ValidationHelper {\n  const provider = useProvider();\n\n  const validateCkbAddress = useCallback(\n    (value: Address) => {\n      try {\n        provider.parseToScript(value);\n      } catch (e) {\n        return 'invalid ckb address';\n      }\n    },\n    [provider],\n  );\n\n  // TODO refactor with ScriptManager\n  const isLockscriptACP = useCallback(\n    (script: Script) => {\n      const scripts = provider.config.SCRIPTS;\n      return (\n        script.code_hash === scripts.ANYONE_CAN_PAY.CODE_HASH ||\n        script.code_hash === scripts.PW_ANYONE_CAN_PAY.CODE_HASH ||\n        script.code_hash === scripts.UNIPASS.CODE_HASH\n      );\n    },\n    [provider],\n  );\n\n  const validateACPAddress = useCallback(\n    (value: Address) => {\n      const error = validateCkbAddress(value);\n      if (error) return error;\n      if (!isLockscriptACP(provider.parseToScript(value))) return 'address not anyone can pay';\n    },\n    [provider, validateCkbAddress, isLockscriptACP],\n  );\n\n  const validateInviteAddress = useCallback(\n    async (value: Address, sudtScript: Script) => {\n      const error = validateACPAddress(value);\n      if (error) return error;\n      const sudtCells = await provider.collectUdtCells(value, sudtScript, '0');\n      if (sudtCells.length > 0) return 'user already invited';\n    },\n    [provider, validateACPAddress],\n  );\n\n  const validateIssueAddress = useCallback(\n    async (value: Address, sudtScript: Script) => {\n      const error = validateACPAddress(value);\n      if (error) return error;\n      const sudtCells = await provider.collectUdtCells(value, sudtScript, '0');\n      if (sudtCells.length === 0) return 'please invite first';\n    },\n    [provider, validateACPAddress],\n  );\n\n  const validateTransferAddress = useCallback(\n    async (value: Address, sudtScript: Script) => {\n      const error = validateACPAddress(value);\n      if (error) return error;\n      const sudtCells = await provider.collectUdtCells(value, sudtScript, '0');\n      if (sudtCells.length === 0) return 'no available acp sudt cell for recipient';\n    },\n    [provider, validateACPAddress],\n  );\n\n  const validateAmount = useCallback((amount: string, decimal: number) => {\n    const assetAmount = AssetAmount.fromHumanize(amount, decimal);\n    if (assetAmount.rawAmount.isNaN()) return 'invalid number';\n    if (assetAmount.rawAmount.lt(1)) return 'at least issue one token';\n  }, []);\n\n  return { validateCkbAddress, validateInviteAddress, validateIssueAddress, validateTransferAddress, validateAmount };\n}\n","import { Button, Col, Empty, Row, Tooltip, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { WalletContainer } from 'containers/WalletContainer';\nimport { useConfigStorage } from 'hooks';\nimport { truncateMiddle } from 'utils';\n\nexport const WalletChange = observer(() => {\n  const { signerAddress, setModalVisible } = WalletContainer.useContainer();\n  const [localConfig] = useConfigStorage();\n  if (!signerAddress) return <Empty />;\n  const truncatedAddress = truncateMiddle(signerAddress, 8);\n  const href = localConfig.nervosExploreAddressUrlPrefix + signerAddress;\n  return (\n    <div style={{ marginTop: '32px', marginBottom: '32px' }}>\n      <Row>\n        <Col span={8} offset={6}>\n          <div style={{ textAlign: 'center' }}>\n            <Tooltip title={<AddressTip copyable>{signerAddress}</AddressTip>}>\n              <a href={href} target=\"_blank\" rel=\"noreferrer\">\n                {truncatedAddress}\n              </a>\n            </Tooltip>\n          </div>\n        </Col>\n        <Col span={8} offset={2}>\n          <div style={{ float: 'right' }}>\n            <Button size=\"small\" onClick={() => setModalVisible(true)}>\n              change\n            </Button>\n          </div>\n        </Col>\n      </Row>\n    </div>\n  );\n});\n\nconst AddressTip = styled(Typography.Text)`\n  color: #ffffff;\n`;\n","import { SyncOutlined, CheckCircleTwoTone, UsbOutlined } from '@ant-design/icons';\nimport { AbstractWallet } from '@ckitjs/base';\nimport { List, Modal, Space, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { displayWalletName, WalletContainer } from 'containers/WalletContainer';\n\nconst ModalBorderWrapper = styled.div`\n  .ant-list-item {\n    padding: 4px 0;\n    margin: 4px 0;\n    border-radius: 8px;\n    border: 1px solid rgba(0, 0, 0, 0);\n\n    &:hover {\n      border: 1px solid rgba(0, 0, 0, 0.2);\n      border-radius: 8px;\n      cursor: pointer;\n    }\n  }\n`;\n\nexport const WalletList = observer(() => {\n  const { wallets, setCurrentWalletName, visible, setError, setModalVisible } = WalletContainer.useContainer();\n\n  return (\n    <Modal\n      closable\n      title={'Choose wallets'}\n      width={312}\n      visible={visible}\n      onCancel={() => setModalVisible(false)}\n      footer={null}\n    >\n      <ModalBorderWrapper>\n        <List\n          pagination={false}\n          dataSource={wallets}\n          renderItem={(item, index) => (\n            <List.Item\n              onClick={() => {\n                setError(null);\n                if (item.connectStatus === 'disconnected') {\n                  item.connect();\n                }\n                if (item.connectStatus === 'connected') {\n                  setCurrentWalletName(item.descriptor.name);\n                  setModalVisible(false);\n                }\n              }}\n            >\n              <WalletListItem wallet={item} index={index} />\n            </List.Item>\n          )}\n        />\n      </ModalBorderWrapper>\n    </Modal>\n  );\n});\n\nexport interface WalletListItemProps {\n  wallet: AbstractWallet;\n  index: number;\n}\n\nexport const WalletListItem = observer((props: WalletListItemProps) => {\n  const { wallet, index } = props;\n  const { error } = WalletContainer.useContainer();\n  if (wallet.connectStatus === 'disconnected') {\n    return (\n      <div>\n        <Space>\n          {displayWalletName(wallet.descriptor.name)}\n          <UsbOutlined />\n        </Space>\n        {error && error.index === index && <Typography.Text type=\"danger\"> {error.error.message}</Typography.Text>}\n      </div>\n    );\n  }\n  if (wallet.connectStatus === 'connecting') {\n    return (\n      <div>\n        <Space>\n          {displayWalletName(wallet.descriptor.name)}\n          <SyncOutlined spin />\n        </Space>\n      </div>\n    );\n  }\n  return (\n    <div>\n      <Space>\n        {displayWalletName(wallet.descriptor.name)}\n        <CheckCircleTwoTone />\n      </Space>\n    </div>\n  );\n});\n","import { Typography, Row, Col } from 'antd';\nimport React from 'react';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { WalletList, WalletChange, WalletConnect } from 'components/Wallet';\n\nexport const AccountView: React.FC = () => {\n  return (\n    <StyledCardWrapper>\n      <div style={{ marginBottom: '24px' }}>\n        <Row>\n          <Col span={12}>\n            <Typography.Title level={3}> Account </Typography.Title>\n          </Col>\n          <Col span={12}>\n            <div style={{ float: 'right', paddingTop: '5px' }}>\n              <WalletConnect />\n            </div>\n          </Col>\n        </Row>\n      </div>\n      <WalletList />\n      <WalletChange />\n    </StyledCardWrapper>\n  );\n};\n","import { LoadingOutlined } from '@ant-design/icons';\nimport { Typography } from 'antd';\nimport React from 'react';\nimport { useQuery } from 'react-query';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { AssetMeta } from 'hooks';\nimport { AssetAmount } from 'utils';\n\ntype AssetBalanceProps = Pick<AssetMeta, 'decimal'> & { script: AssetMeta['script'] };\n\nexport const AssetBalance: React.FC<AssetBalanceProps> = (props) => {\n  const { script, decimal } = props;\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const { signerAddress } = WalletContainer.useContainer();\n  const query = useQuery(\n    ['queryBalance', { script: script, address: signerAddress }],\n    () => {\n      if (!ckitProvider || !signerAddress) throw new Error('exception: signer should exist');\n      if (script) {\n        return ckitProvider.getUdtBalance(signerAddress, script);\n      }\n      return ckitProvider.getCkbLiveCellsBalance(signerAddress);\n    },\n    {\n      enabled: !!signerAddress,\n    },\n  );\n  if (query.isError) {\n    return <Typography.Text type=\"danger\">error</Typography.Text>;\n  }\n  if (query.data) {\n    return <Typography.Text>{AssetAmount.fromRaw(query.data, decimal).toHumanizeString()}</Typography.Text>;\n  }\n  return <LoadingOutlined />;\n};\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { CkbTypeScript } from '@ckitjs/base';\nimport { Button, Col, Input, Modal, Row, Typography } from 'antd';\nimport { useFormik } from 'formik';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { AssetMeta, useFormValidate, useSendIssueTx, useSendTransferTx } from 'hooks';\nimport { AssetAmount } from 'utils';\n\ntype AssetMetaProps = Pick<AssetMeta, 'symbol' | 'decimal'> & { script: AssetMeta['script'] };\n\nexport const SendButton: React.FC<AssetMetaProps> = (props) => {\n  const { script, decimal } = props;\n  const [visible, setVisible] = useState<boolean>(false);\n  const provider = CkitProviderContainer.useContainer();\n  const { signerAddress } = WalletContainer.useContainer();\n\n  const issuableSudtScript = useMemo<CkbTypeScript>(() => {\n    if (!provider) throw new Error('excepiton: provider undefined');\n    if (!signerAddress) throw new Error('excepiton: signerAddress undefined');\n    return provider.newSudtScript(signerAddress);\n  }, [provider, signerAddress]);\n\n  const isMint =\n    props.script?.code_hash === issuableSudtScript.code_hash &&\n    props.script.hash_type === issuableSudtScript.hash_type &&\n    props.script.args === issuableSudtScript.args;\n\n  const buttonContent = isMint ? 'mint' : 'send';\n\n  const query = useQuery(\n    ['queryBalance', { script: script, address: signerAddress }],\n    () => {\n      if (!provider || !signerAddress) throw new Error('exception: signer should exist');\n      if (script) {\n        return provider.getUdtBalance(signerAddress, script);\n      }\n      return provider.getCkbLiveCellsBalance(signerAddress);\n    },\n    {\n      enabled: !!signerAddress,\n    },\n  );\n\n  const disabled =\n    !isMint &&\n    (query.isLoading || query.isError || !query.data || AssetAmount.fromRaw(query.data, decimal).rawAmount.eq(0));\n\n  return (\n    <div>\n      <Button type=\"link\" disabled={disabled} onClick={() => setVisible(true)}>\n        {buttonContent}\n      </Button>\n      <ModalForm visible={visible} setVisible={setVisible} assetMeta={props} isMint={isMint} />\n    </div>\n  );\n};\n\ninterface ModalFormProps {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  assetMeta: AssetMetaProps;\n  isMint: boolean;\n}\n\ninterface ModalFormValues {\n  recipient: Address;\n  amount: HexNumber;\n}\n\ninterface ModalFormErrors {\n  recipient?: string;\n  amount?: string;\n}\n\nexport const ModalForm: React.FC<ModalFormProps> = (props) => {\n  const { visible, setVisible, assetMeta, isMint } = props;\n\n  const { validateCkbAddress, validateIssueAddress, validateTransferAddress, validateAmount } = useFormValidate();\n  const { mutateAsync: sendTransferTransaction, isLoading: isTransferLoading } = useSendTransferTx();\n  const { mutateAsync: sendIssueTransaction, isLoading: isIssueLoading } = useSendIssueTx();\n\n  const initialValues: ModalFormValues = { recipient: '', amount: '' };\n  const title = (isMint ? 'Mint ' : 'Send ') + assetMeta.symbol;\n  const onSubmit = useCallback(\n    (values: ModalFormValues) => {\n      if (isMint) {\n        sendIssueTransaction({\n          recipient: values.recipient,\n          amount: AssetAmount.fromHumanize(values.amount, assetMeta.decimal).toRawString(),\n          operationKind: 'issue',\n        }).then(() => setVisible(false));\n      } else {\n        sendTransferTransaction({\n          recipient: values.recipient,\n          amount: AssetAmount.fromHumanize(values.amount, assetMeta.decimal).toRawString(),\n          script: assetMeta.script,\n        }).then(() => setVisible(false));\n      }\n    },\n    [isMint, sendIssueTransaction, sendTransferTransaction, assetMeta, setVisible],\n  );\n  const loading = isMint ? isIssueLoading : isTransferLoading;\n\n  const validate = async (values: ModalFormValues): Promise<ModalFormErrors> => {\n    const errors: ModalFormErrors = {};\n\n    if (isMint) {\n      // issue sudt\n      if (!assetMeta.script) throw new Error('exception: issued sudt should have script');\n      const recipientError = await validateIssueAddress(values.recipient, assetMeta.script);\n      if (recipientError) errors.recipient = recipientError;\n    } else {\n      if (assetMeta.script) {\n        // transfer sudt\n        const recipientError = await validateTransferAddress(values.recipient, assetMeta.script);\n        if (recipientError) errors.recipient = recipientError;\n      } else {\n        // transfer ckb\n        const recipientError = await validateCkbAddress(values.recipient);\n        if (recipientError) errors.recipient = recipientError;\n      }\n    }\n    if (!values.recipient) errors.recipient = 'recipient required';\n\n    const amountError = validateAmount(values.amount, assetMeta.decimal);\n    if (amountError) errors.amount = amountError;\n    if (!values.amount) errors.amount = 'amount required';\n\n    return errors;\n  };\n\n  const formik = useFormik({\n    initialValues,\n    validate,\n    onSubmit,\n  });\n\n  const onCancel = useCallback(() => {\n    formik.resetForm();\n    setVisible(false);\n  }, [formik, setVisible]);\n\n  return (\n    <Modal title={title} closable width={312} visible={visible} onCancel={onCancel} footer={null}>\n      <div>\n        <Row justify=\"center\" align=\"middle\">\n          <Col span={7}>\n            <label htmlFor=\"recipient\">recipient</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"recipient\" placeholder=\"ckb address\" {...formik.getFieldProps('recipient')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.recipient && formik.errors.recipient && (\n              <Typography.Text type=\"danger\">{formik.errors.recipient}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row justify=\"center\" align=\"middle\">\n          <Col span={7}>\n            <label htmlFor=\"amount\">amount:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"amount\" {...formik.getFieldProps('amount')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.amount && formik.errors.amount && (\n              <Typography.Text type=\"danger\">{formik.errors.amount}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '30px', textAlign: 'center' }}>\n        <Button loading={loading} onClick={formik.submitForm}>\n          submit\n        </Button>\n      </div>\n    </Modal>\n  );\n};\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { AcpTransferSudtBuilder, TransferCkbBuilder, CkitProvider, EntrySigner } from '@ckitjs/ckit';\nimport { useMutation, UseMutationResult } from 'react-query';\nimport { AssetMeta } from './useAssetMetaStorage';\nimport { useSendTransaction } from './useSendTransaction';\n\nexport interface SendTransferTxInput {\n  recipient: Address;\n  amount: HexNumber;\n  script: AssetMeta['script'];\n}\n\nexport function useSendTransferTx(): UseMutationResult<unknown, unknown, SendTransferTxInput> {\n  const { mutateAsync: sendTransaction } = useSendTransaction();\n\n  return useMutation(['sendTransferTx'], async (input: SendTransferTxInput) => {\n    const buildTx = async (provider: CkitProvider, signer: EntrySigner) => {\n      if (input.script) {\n        const txBuilder = new AcpTransferSudtBuilder(\n          {\n            recipients: [\n              {\n                recipient: input.recipient,\n                sudt: input.script,\n                amount: input.amount,\n                policy: 'findAcp',\n              },\n            ],\n          },\n          provider,\n          await signer.getAddress(),\n        );\n        return txBuilder.build();\n      } else {\n        const txBuilder = new TransferCkbBuilder(\n          { recipients: [{ recipient: input.recipient, amount: input.amount, capacityPolicy: 'createCell' }] },\n          provider,\n          await signer.getAddress(),\n        );\n        return txBuilder.build();\n      }\n    };\n\n    await sendTransaction(buildTx);\n  });\n}\n","import { Table } from 'antd';\nimport { ColumnsType } from 'antd/lib/table';\nimport React from 'react';\nimport { AssetBalance } from './AssetBalance';\nimport { SendButton } from './SendButton';\nimport { AssetMeta, useAssetMetaStorage } from 'hooks';\n\nexport const AssetList: React.FC = () => {\n  const { assetsMeta } = useAssetMetaStorage();\n  const columns: ColumnsType<AssetMeta> = [\n    {\n      render: (value, record) => <div>{record.symbol}</div>,\n    },\n    {\n      render: (value, record) => <AssetBalance decimal={record.decimal} script={record.script} />,\n    },\n    {\n      render: (value, record) => <SendButton symbol={record.symbol} decimal={record.decimal} script={record.script} />,\n    },\n  ];\n\n  return (\n    <div>\n      <Table size=\"small\" showHeader={false} columns={columns} dataSource={assetsMeta} pagination={{ pageSize: 5 }} />\n    </div>\n  );\n};\n","import { Hash, HashType, HexString } from '@ckb-lumos/base';\nimport { Button, ButtonProps, Col, Input, InputNumber, Modal, Radio, Row, Typography } from 'antd';\nimport { useFormik } from 'formik';\nimport React, { useCallback, useState } from 'react';\nimport { AssetMeta, useAssetMetaStorage } from 'hooks';\nimport { isValidHexString } from 'utils';\n\ninterface AddAssetButtonProps extends ButtonProps {\n  initialAssetMeta?: Partial<ModalFormValues>;\n  buttonContent?: string;\n}\n\nexport const AddAssetButton: React.FC<AddAssetButtonProps> = (props) => {\n  const { initialAssetMeta, buttonContent, ...buttonProps } = props;\n  const [visible, setVisible] = useState<boolean>(false);\n  return (\n    <div>\n      <Button {...buttonProps} onClick={() => setVisible(true)}>\n        {buttonContent ? buttonContent : ''}\n      </Button>\n      <ModalForm visible={visible} setVisible={setVisible} initialAssetMeta={initialAssetMeta} />\n    </div>\n  );\n};\n\ninterface ModalFormProps {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  initialAssetMeta?: Partial<ModalFormValues>;\n}\n\ninterface ModalFormValues {\n  symbol: string;\n  decimal: number;\n  codeHash: Hash;\n  hashType: HashType;\n  args: HexString;\n}\n\ninterface ModalFormErrors {\n  symbol?: string;\n  decimal?: string;\n  codeHash?: string;\n  hashType?: string;\n  args?: string;\n}\n\nexport const ModalForm: React.FC<ModalFormProps> = (props) => {\n  const { visible, setVisible, initialAssetMeta } = props;\n\n  const { addAssetMeta } = useAssetMetaStorage();\n\n  const initialValues: ModalFormValues = {\n    symbol: initialAssetMeta?.symbol ? initialAssetMeta.symbol : '',\n    decimal: initialAssetMeta?.decimal ? initialAssetMeta.decimal : 8,\n    codeHash: initialAssetMeta?.codeHash ? initialAssetMeta.codeHash : '',\n    hashType: initialAssetMeta?.hashType ? initialAssetMeta.hashType : 'type',\n    args: initialAssetMeta?.args ? initialAssetMeta.args : '',\n  };\n\n  const validate = (values: ModalFormValues): ModalFormErrors => {\n    const errors: ModalFormErrors = {};\n    if (!values.symbol) {\n      errors.symbol = 'symbol required';\n    }\n    if (values.decimal <= 0) {\n      errors.decimal = 'decimal should be greater than 0';\n    }\n    if (!values.codeHash) {\n      errors.codeHash = 'code hash required';\n    } else {\n      if (!isValidHexString(values.codeHash)) {\n        errors.codeHash = 'code hash invalid hex string';\n      }\n    }\n    if (!values.args) {\n      errors.args = 'args required';\n    } else {\n      if (!isValidHexString(values.args)) {\n        errors.args = 'args invalid hex string';\n      }\n    }\n    return errors;\n  };\n\n  const formik = useFormik({\n    initialValues,\n    validate,\n    onSubmit: (values: ModalFormValues, { setSubmitting }) => {\n      const newAssetMeta: AssetMeta = {\n        symbol: values.symbol,\n        decimal: values.decimal,\n        script: {\n          code_hash: values.codeHash,\n          hash_type: values.hashType,\n          args: values.args,\n        },\n      };\n      addAssetMeta(newAssetMeta);\n      setSubmitting(false);\n      setVisible(false);\n    },\n  });\n\n  const onCancel = useCallback(() => {\n    formik.resetForm();\n    setVisible(false);\n  }, [formik, setVisible]);\n\n  return (\n    <Modal title=\"Add asset\" closable width={312} visible={visible} onCancel={onCancel} footer={null}>\n      <div>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"symbol\">symbol:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"symbol\" {...formik.getFieldProps('symbol')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.symbol && formik.errors.symbol && (\n              <Typography.Text type=\"danger\">{formik.errors.symbol}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"decimal\">decimal:</label>\n          </Col>\n          <Col span={16}>\n            <InputNumber\n              id=\"decimal\"\n              onChange={(value) => {\n                void formik.setFieldValue('decimal', value, true);\n              }}\n              onBlur={formik.handleBlur}\n              value={formik.values.decimal}\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.decimal && formik.errors.decimal && (\n              <Typography.Text type=\"danger\">{formik.errors.decimal}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"codeHash\">code hash:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"codeHash\" {...formik.getFieldProps('codeHash')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.codeHash && formik.errors.codeHash && (\n              <Typography.Text type=\"danger\">{formik.errors.codeHash}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"hashType\">hash type:</label>\n          </Col>\n          <Col span={16}>\n            <Radio.Group id=\"hashType\" name=\"hashType\" onChange={formik.handleChange} value={formik.values.hashType}>\n              <Radio value=\"type\">type</Radio>\n              <Radio value=\"data\">data</Radio>\n            </Radio.Group>\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.hashType && formik.errors.hashType && (\n              <Typography.Text type=\"danger\">{formik.errors.hashType}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"args\">args:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"args\" {...formik.getFieldProps('args')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.args && formik.errors.args && (\n              <Typography.Text type=\"danger\">{formik.errors.args}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '36px', textAlign: 'center' }}>\n        <Button onClick={formik.submitForm}>submit</Button>\n      </div>\n    </Modal>\n  );\n};\n","import { PlusCircleOutlined } from '@ant-design/icons';\nimport { Col, Empty, Row, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { AddAssetButton, AssetList } from 'components/Assets';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { WalletContainer } from 'containers/WalletContainer';\n\nexport const AssetsView: React.FC = observer(() => {\n  const { signerAddress } = WalletContainer.useContainer();\n  return (\n    <div>\n      <StyledCardWrapper>\n        <div style={{ marginBottom: '12px' }}>\n          <Row>\n            <Col span={12}>\n              <Typography.Title level={3}> Asset </Typography.Title>\n            </Col>\n            <Col span={12}>\n              <div style={{ float: 'right' }}>\n                {signerAddress && (\n                  <AddAssetButton type=\"link\" size=\"large\" icon={<PlusCircleOutlined style={{ fontSize: '24px' }} />} />\n                )}\n              </div>\n            </Col>\n          </Row>\n        </div>\n        <div>\n          {signerAddress && <AssetList />}\n          {!signerAddress && <Empty />}\n        </div>\n      </StyledCardWrapper>\n    </div>\n  );\n});\n","import { utils } from '@ckb-lumos/base';\nimport { CkbTypeScript } from '@ckitjs/base';\nimport { Tooltip, Typography, Row, Col } from 'antd';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { useConfigStorage } from 'hooks';\nimport { truncateMiddle } from 'utils';\n\ninterface AssetMetaDisplayProps {\n  symbol: string;\n  decimal: string;\n  script: CkbTypeScript;\n}\n\nexport const AssetMetaDisplay: React.FC<AssetMetaDisplayProps> = (props) => {\n  const { symbol, decimal, script } = props;\n  const [localConfig] = useConfigStorage();\n  const scriptHash = utils.computeScriptHash(script);\n\n  return (\n    <div style={{ marginTop: '24px' }}>\n      <Row>\n        <Col span={7} offset={3}>\n          <Typography.Text>symbol:</Typography.Text>\n        </Col>\n        <Col span={14}>\n          <Typography.Text>{symbol}</Typography.Text>\n        </Col>\n      </Row>\n      <Row style={{ marginTop: '8px' }}>\n        <Col span={7} offset={3}>\n          <Typography.Text>decimal:</Typography.Text>\n        </Col>\n        <Col span={14}>\n          <Typography.Text>{decimal}</Typography.Text>\n        </Col>\n      </Row>\n      <Row style={{ marginTop: '8px' }}>\n        <Col span={7} offset={3}>\n          <Typography.Text>script hash:</Typography.Text>\n        </Col>\n        <Col span={14}>\n          <Tooltip title={<ScriptTip copyable>{JSON.stringify(script)}</ScriptTip>}>\n            <Typography.Link\n              href={localConfig.nervosExploreSudtUrlPrefix + scriptHash}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {truncateMiddle(scriptHash, 8)}\n            </Typography.Link>\n          </Tooltip>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nconst ScriptTip = styled(Typography.Text)`\n  color: #ffffff;\n`;\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { Button, Col, Input, Modal, Row, Typography } from 'antd';\nimport { useFormik } from 'formik';\nimport { observer } from 'mobx-react-lite';\nimport React, { useCallback, useState } from 'react';\nimport { AssetMeta, useFormValidate, useSendIssueTx } from 'hooks';\nimport { AssetAmount } from 'utils';\n\ntype OperationKind = 'invite' | 'issue';\n\ninterface IssueOperationProps {\n  assetMeta: AssetMeta;\n}\n\nexport const IssueOperation = observer((props: IssueOperationProps) => {\n  const { assetMeta } = props;\n  const [visible, setVisible] = useState<boolean>(false);\n  const [operationKind, setOperationKind] = useState<OperationKind>('invite');\n\n  const onClickInvite = () => {\n    setOperationKind('invite');\n    setVisible(true);\n  };\n  const onClickIssue = () => {\n    setOperationKind('issue');\n    setVisible(true);\n  };\n\n  return (\n    <div style={{ marginBottom: '12px' }}>\n      <Row>\n        <Col span={4} offset={4}>\n          <Button onClick={onClickInvite}>invite</Button>\n        </Col>\n        <Col span={4} offset={8}>\n          <Button onClick={onClickIssue}>issue</Button>\n        </Col>\n      </Row>\n      <ModalForm visible={visible} setVisible={setVisible} operationKind={operationKind} assetMeta={assetMeta} />\n    </div>\n  );\n});\n\ninterface ModalFormProps {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  operationKind: OperationKind;\n  assetMeta: AssetMeta;\n}\n\ninterface ModalFormValues {\n  inviteRecipient: Address;\n  issueRecipient: Address;\n  amount: HexNumber;\n}\n\ninterface ModalFormErrors {\n  inviteRecipient?: string;\n  issueRecipient?: string;\n  amount?: string;\n}\n\nexport const ModalForm: React.FC<ModalFormProps> = (props) => {\n  const { visible, setVisible, operationKind, assetMeta } = props;\n\n  const { validateInviteAddress, validateIssueAddress, validateAmount } = useFormValidate();\n  const { mutateAsync: sendIssueTransaction, isLoading: isIssueLoading } = useSendIssueTx();\n\n  const initialValues: ModalFormValues = { inviteRecipient: '', issueRecipient: '', amount: '' };\n  const title = operationKind === 'invite' ? 'Invite user' : 'Issue ' + assetMeta.symbol;\n  const recipientFieldDisplayName = operationKind === 'invite' ? 'user:' : 'recipient:';\n\n  const validate = async (values: ModalFormValues): Promise<ModalFormErrors> => {\n    if (!assetMeta.script) throw new Error('exception: issued sudt should have script');\n    const errors: ModalFormErrors = {};\n\n    if (operationKind === 'invite') {\n      if (!values.inviteRecipient) {\n        errors.inviteRecipient = 'recipient required';\n      } else {\n        const error = await validateInviteAddress(values.inviteRecipient, assetMeta.script);\n        if (error) errors.inviteRecipient = error;\n      }\n    }\n\n    if (operationKind === 'issue') {\n      if (!values.issueRecipient) {\n        errors.issueRecipient = 'recipient required';\n      } else {\n        const recipientError = await validateIssueAddress(values.issueRecipient, assetMeta.script);\n        if (recipientError) errors.issueRecipient = recipientError;\n      }\n      if (!values.amount) {\n        errors.amount = 'amount required';\n      } else {\n        const amountError = validateAmount(values.amount, assetMeta.decimal);\n        if (amountError) errors.amount = amountError;\n      }\n    }\n\n    return errors;\n  };\n\n  const formik = useFormik({\n    initialValues,\n    validate,\n    onSubmit: (values: ModalFormValues) => {\n      sendIssueTransaction({\n        recipient: values.inviteRecipient,\n        amount: AssetAmount.fromHumanize(values.amount, assetMeta.decimal).toRawString(),\n        operationKind: operationKind,\n      }).then(() => setVisible(false));\n    },\n  });\n\n  const onCancel = useCallback(() => {\n    formik.resetForm();\n    setVisible(false);\n  }, [formik, setVisible]);\n\n  return (\n    <Modal title={title} closable width={312} visible={visible} onCancel={onCancel} footer={null}>\n      {operationKind === 'invite' && (\n        <div>\n          <Row justify=\"center\" align=\"middle\">\n            <Col span={4}>\n              <label htmlFor=\"inviteRecipient\">{recipientFieldDisplayName}</label>\n            </Col>\n            <Col span={16}>\n              <Input id=\"inviteRecipient\" placeholder=\"ckb address\" {...formik.getFieldProps('inviteRecipient')} />\n            </Col>\n          </Row>\n          <Row>\n            <Col offset={6}>\n              {formik.touched.inviteRecipient && formik.errors.inviteRecipient && (\n                <Typography.Text type=\"danger\">{formik.errors.inviteRecipient}</Typography.Text>\n              )}\n            </Col>\n          </Row>\n        </div>\n      )}\n\n      {operationKind === 'issue' && (\n        <div>\n          <div>\n            <Row justify=\"center\" align=\"middle\">\n              <Col span={7}>\n                <label htmlFor=\"issueRecipient\">{recipientFieldDisplayName}</label>\n              </Col>\n              <Col span={16}>\n                <Input id=\"issueRecipient\" placeholder=\"ckb address\" {...formik.getFieldProps('issueRecipient')} />\n              </Col>\n            </Row>\n            <Row>\n              <Col offset={8}>\n                {formik.touched.issueRecipient && formik.errors.issueRecipient && (\n                  <Typography.Text type=\"danger\">{formik.errors.issueRecipient}</Typography.Text>\n                )}\n              </Col>\n            </Row>\n          </div>\n\n          <div style={{ marginTop: '24px' }}>\n            <Row justify=\"center\" align=\"middle\">\n              <Col span={7}>\n                <label htmlFor=\"amount\">amount:</label>\n              </Col>\n              <Col span={16}>\n                <Input id=\"amount\" {...formik.getFieldProps('amount')} />\n              </Col>\n            </Row>\n            <Row>\n              <Col offset={8}>\n                {formik.touched.amount && formik.errors.amount && (\n                  <Typography.Text type=\"danger\">{formik.errors.amount}</Typography.Text>\n                )}\n              </Col>\n            </Row>\n          </div>\n        </div>\n      )}\n\n      <div style={{ marginTop: '30px', textAlign: 'center' }}>\n        <Button loading={isIssueLoading} onClick={formik.submitForm}>\n          submit\n        </Button>\n      </div>\n    </Modal>\n  );\n};\n","import { CkbTypeScript } from '@ckitjs/base';\nimport React, { useMemo } from 'react';\nimport { AddAssetButton } from '../Assets';\nimport { AssetMetaDisplay } from './AssetMetaDisplay';\nimport { IssueOperation } from './IssueOperation';\nimport { CkitProviderContainer } from 'containers';\nimport { AssetMeta, useAssetMetaStorage } from 'hooks';\n\ninterface IssueAreaProps {\n  issuerAddress: string;\n}\n\nexport const IssueArea: React.FC<IssueAreaProps> = (props) => {\n  const { issuerAddress } = props;\n  const provider = CkitProviderContainer.useContainer();\n  const { assetsMeta } = useAssetMetaStorage();\n\n  const udtScript = useMemo<CkbTypeScript>(() => {\n    if (!provider) throw new Error('excepiton: provider undefined');\n    return provider.newSudtScript(issuerAddress);\n  }, [provider, issuerAddress]);\n\n  const assetMeta = useMemo<AssetMeta | undefined>(() => {\n    return assetsMeta.find(\n      (value) =>\n        value.script?.hash_type === udtScript.hash_type &&\n        value.script.code_hash === udtScript.code_hash &&\n        value.script.args === udtScript.args,\n    );\n  }, [udtScript, assetsMeta]);\n\n  const symbol = assetMeta ? assetMeta.symbol : '?';\n  const decimal = assetMeta ? assetMeta.decimal.toString() : '?';\n\n  return (\n    <>\n      <AssetMetaDisplay symbol={symbol} decimal={decimal} script={udtScript} />\n      <div style={{ marginTop: '36px', textAlign: 'center' }}>\n        {!assetMeta && (\n          <AddAssetButton\n            type=\"primary\"\n            buttonContent=\"Add asset info\"\n            initialAssetMeta={{\n              codeHash: udtScript.code_hash,\n              hashType: udtScript.hash_type,\n              args: udtScript.args,\n            }}\n          />\n        )}\n        {assetMeta && <IssueOperation assetMeta={assetMeta} />}\n      </div>\n    </>\n  );\n};\n","import { Empty, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { IssueArea } from 'components/Issue';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { WalletContainer } from 'containers/WalletContainer';\n\nexport const IssueView: React.FC = observer(() => {\n  const { currentWallet, signerAddress } = WalletContainer.useContainer();\n  const isSupportIssue = currentWallet?.checkSupported('issue-sudt');\n\n  return (\n    <div>\n      {isSupportIssue && (\n        <StyledCardWrapper>\n          <div>\n            <Typography.Title level={3}> Issue </Typography.Title>\n          </div>\n          {!signerAddress && <Empty />}\n          {signerAddress && <IssueArea issuerAddress={signerAddress} />}\n        </StyledCardWrapper>\n      )}\n    </div>\n  );\n});\n","import React from 'react';\nimport styled from 'styled-components';\nimport { AccountView } from './Account';\nimport { AssetsView } from './Assets';\nimport { IssueView } from './Issue';\n\nexport const AppView: React.FC = () => {\n  return (\n    <BodyWrapper>\n      <div className=\"app\">\n        <AccountView />\n        <IssueView />\n        <AssetsView />\n      </div>\n    </BodyWrapper>\n  );\n};\n\nconst BodyWrapper = styled.div`\n  padding-bottom: 32px;\n  min-height: 100vh;\n  background: linear-gradient(111.44deg, #a6ded2 0%, #8c99c2 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n","import React from 'react';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { OnIncomplete } from 'components/OnLoaded';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { AppView } from 'views';\nimport './App.less';\n\nconst App: React.FC = () => {\n  const queryClient = new QueryClient();\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <CkitProviderContainer.Provider>\n        <WalletContainer.Provider>\n          <OnIncomplete>\n            <AppView />\n          </OnIncomplete>\n        </WalletContainer.Provider>\n      </CkitProviderContainer.Provider>\n    </QueryClientProvider>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    void import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"debug\", {\n  enumerable: true,\n  get: function () {\n    return _debug.debug;\n  }\n});\nObject.defineProperty(exports, \"createDebugger\", {\n  enumerable: true,\n  get: function () {\n    return _debug.createDebugger;\n  }\n});\nObject.defineProperty(exports, \"invariant\", {\n  enumerable: true,\n  get: function () {\n    return _invariant.invariant;\n  }\n});\nObject.defineProperty(exports, \"unimplemented\", {\n  enumerable: true,\n  get: function () {\n    return _assertion.unimplemented;\n  }\n});\nexports.bytes = void 0;\n\nvar _debug = require(\"./debug\");\n\nvar _invariant = require(\"./invariant\");\n\nvar _assertion = require(\"./assertion\");\n\nvar _bytes = _interopRequireWildcard(require(\"./bytes\"));\n\nexports.bytes = _bytes;\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RecipientSameWithSenderError = exports.NoEnoughUdtError = exports.NoEnoughCkbError = exports.NoAvailableCellError = exports.CkitError = void 0;\n\nclass CkitError extends Error {\n  constructor(metadata, message) {\n    super(message);\n    this.metadata = metadata;\n  }\n\n}\n\nexports.CkitError = CkitError;\n\nclass NoAvailableCellError extends CkitError {\n  constructor(metadata, message = 'Cannot find available cell') {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoAvailableCellError = NoAvailableCellError;\n\nclass NoEnoughCkbError extends CkitError {\n  constructor(metadata, message = `Ckb is not enough, expected minimal amount: ${metadata.expected}, actual: ${metadata.actual}`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoEnoughCkbError = NoEnoughCkbError;\n\nclass NoEnoughUdtError extends CkitError {\n  constructor(metadata, message = `Udt is not enough, expected minimal amount: ${metadata.expected}, actual: ${metadata.actual}`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoEnoughUdtError = NoEnoughUdtError;\n\nclass RecipientSameWithSenderError extends CkitError {\n  constructor(metadata, message = `The recipient and sender cannot be the same one`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.RecipientSameWithSenderError = RecipientSameWithSenderError;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.byteLenOfSudt = byteLenOfSudt;\nexports.byteLenOfLockOnlyCell = byteLenOfLockOnlyCell;\nexports.byteLenOfRcCell = byteLenOfRcCell;\nexports.byteLenOfChequeCell = byteLenOfChequeCell;\nexports.occupiedShannon = occupiedShannon;\nexports.byteLenOfHexData = byteLenOfHexData;\nexports.toBigUint128LE = toBigUint128LE;\nexports.readBigUint128LE = readBigUint128LE;\nexports.mergeSudtCells = mergeSudtCells;\nexports.mergeLockOnlyCells = mergeLockOnlyCells;\nexports.ejectExtraCapacity = ejectExtraCapacity;\nexports.pipe = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _helpers = require(\"@ckb-lumos/helpers\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _helpers2 = require(\"../helpers\");\n\nfunction byteLenOfSudt(lockArgsByteLen = 20) {\n  return 8\n  /* capacity: u64 */\n  +\n  /* lock script */\n  32\n  /* code_hash: U256 */\n  + lockArgsByteLen + 1\n  /* hash_type: u8 */\n  +\n  /* type script */\n  32\n  /* code_hash: U256 */\n  + 32\n  /* args: U256, issuer lock hash */\n  + 1\n  /* hash_type: u8 */\n  +\n  /* output_data */\n  16\n  /* data: u128, amount, little-endian */\n  ;\n}\n\nfunction byteLenOfLockOnlyCell(lockArgsByteLen = 20) {\n  // prettier-ignore\n  return 8\n  /* capacity: u64 */\n  + 32\n  /* code_hash: U256 */\n  + lockArgsByteLen + 1\n  /* hash_type: u8 */\n  ;\n}\n/**\n *  * Data:\n *  - <1 byte version>\n *  - <16 bytes current supply>\n *  - <16 bytes max supply>\n *  - <32 bytes sUDT script hash>\n *  - info: molecule table\n *  - name: bytes\n *  - symbol: bytes\n *  - decimals: u32\n *  - description: bytes\n * Type: <Info Cell type ID>\n * Lock: <RC Lock Script 1>\n *  code_hash: RC Lock\n *  args: <flag: 1> <Eth pubkey hash> <RC lock flags: 8> <Info Cell Type Script Hash>\n * ```\n */\n\n\nfunction byteLenOfRcCell(lockArgsByteLen, typeArgsByteLen, dataLen) {\n  const typeScriptLen = typeArgsByteLen ? 32\n  /* code_hash: U256 */\n  + typeArgsByteLen\n  /* args: U256, issuer lock hash */\n  + 1\n  /* hash_type: u8 */\n  : 0; // prettier-ignore\n\n  return 8\n  /*capacity: u64*/\n  +\n  /* lock script */\n  32\n  /* code_hash: U256 */\n  + lockArgsByteLen + 1\n  /* hash_type: u8 */\n  +\n  /* type script */\n  typeScriptLen +\n  /* output_data */\n  dataLen\n  /* data: u128, amount, little-endian */\n  ;\n}\n\nfunction byteLenOfChequeCell(dataLen = 16\n/* u128 */\n) {\n  return 8\n  /*capacity: u64*/\n  +\n  /* lock script */\n  32\n  /* code_hash: U256 */\n  + 40\n  /* receiver_lock_hash[:20]+sender_lock_hash[:20] */\n  + 1\n  /* hash_type: u8 */\n  +\n  /* type script */\n  32\n  /* code_hash: U256 */\n  + 32\n  /* issuer lock hash */\n  + 1\n  /* hash_type: u8 */\n  + dataLen;\n}\n\nfunction occupiedShannon(byteLen) {\n  return '0x' + (byteLen * 10 ** 8).toString(16);\n}\n\nfunction byteLenOfHexData(data) {\n  return data.startsWith('0x') ? data.slice(2).length / 2 : data.length / 2;\n} // function compose<X1, Y1>(fn1: (x: X1) => Y1): (x: X1) => Y1;\n// function compose<X1, Y1, Y2>(fn1: (x: X1) => Y1, fn2: (x: Y1) => Y2): (x: X1) => Y2;\n// function compose<X1, Y1, Y2, Y3>(fn1: (x: X1) => Y1, fn2: (x: Y1) => Y2, fn3: (x: Y2) => Y3): (x: X1) => Y3;\n// // prettier-ignore\n// function compose<X1, Y1, Y2, Y3, Y4>( fn1: (x: X1) => Y1, fn2: (x: Y1) => Y2, fn3: (x: Y2) => Y3, fn4: (x: Y3) => Y4): (x: X1) => Y4;\n// export function compose() {\n// }\n\n\nconst pipe = (...fn) => {\n  return fn.reduce((fx, fg) => arg => fg(fx(arg)));\n};\n\nexports.pipe = pipe;\npipe(byteLenOfHexData, num => num.toString(16), x => Number(x), x => x.toFixed(3), x => x.toUpperCase());\n\nfunction toBigUint128LE(x) {\n  return _base.utils.toBigUInt128LE(BigInt(x.toString()));\n}\n\nfunction readBigUint128LE(hex) {\n  return (0, _helpers2.BN)(_base.utils.readBigUInt128LE(hex));\n}\n\nfunction mergeSudtCells({\n  cells,\n  lock\n}) {\n  if (!cells[0]) throw new Error('cells is empty');\n  const [capacity, amount] = cells.reduce(([totalCapacity, totalAmount], cell) => {\n    return [totalCapacity.plus(cell.cell_output.capacity), totalAmount.plus(readBigUint128LE(cell.data))];\n  }, [(0, _helpers2.BN)(0)\n  /* capacity */\n  , (0, _helpers2.BN)(0)\n  /* sudt amount */\n  ]);\n  lock = lock || cells[0].cell_output.lock;\n  return { ...cells[0],\n    cell_output: {\n      capacity: _utils.bytes.toHex(capacity),\n      lock,\n      type: cells[0].cell_output.type\n    },\n    data: toBigUint128LE(amount)\n  };\n}\n\nfunction mergeLockOnlyCells(cells) {\n  if (!cells[0]) throw new Error('cells is empty');\n  const totalCapacity = cells.reduce((total, cell) => total.plus(cell.cell_output.capacity), (0, _helpers2.BN)(0));\n  return { ...cells[0],\n    cell_output: { ...cells[0].cell_output,\n      capacity: _utils.bytes.toHex(totalCapacity)\n    }\n  };\n}\n\nfunction ejectExtraCapacity({\n  cell,\n  lock\n}) {\n  const refinedCell = { ...cell,\n    cell_output: { ...cell.cell_output,\n      lock\n    }\n  };\n\n  const refinedCapacity = _utils.bytes.toHex((0, _helpers.minimalCellCapacity)(refinedCell));\n\n  return [{ ...cell,\n    cell_output: { ...cell.cell_output,\n      capacity: refinedCapacity\n    }\n  }, {\n    data: '0x',\n    cell_output: {\n      capacity: _utils.bytes.toHex((0, _helpers2.BN)(cell.cell_output.capacity).minus(refinedCapacity)),\n      lock\n    }\n  }];\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractPwSenderBuilder = void 0;\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _lodash = require(\"lodash\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _utils = require(\"../../utils\");\n\nvar _config = require(\"../unipass/config\");\n\nclass AbstractPwSenderBuilder extends _pwCore.Builder {\n  constructor(provider) {\n    super(Number(provider.config.MIN_FEE_RATE));\n    this.provider = provider;\n  }\n\n  getCellDepByKey(key) {\n    if (key === 'RC_LOCK') {\n      return [_pw.Pw.toPwCellDep(this.provider.getCellDep('RC_LOCK')), _pw.Pw.toPwCellDep(this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'SUDT') return [_pw.Pw.toPwCellDep(this.provider.getCellDep('SUDT'))];\n\n    if (key === 'ANYONE_CAN_PAY') {\n      return [_pw.Pw.toPwCellDep(this.provider.getCellDep('ANYONE_CAN_PAY')), _pw.Pw.toPwCellDep(this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'UNIPASS') return (0, _config.getCellDeps)(this.provider.config.PREFIX === 'ckb');\n\n    if (key === 'PW_ANYONE_CAN_PAY') {\n      return [_pw.Pw.toPwCellDep(this.provider.getCellDep('PW_ANYONE_CAN_PAY')), _pw.Pw.toPwCellDep(this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'PW_NON_ANYONE_CAN_PAY') {\n      return [_pw.Pw.toPwCellDep(this.provider.getCellDep('PW_NON_ANYONE_CAN_PAY')), _pw.Pw.toPwCellDep(this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'SECP256K1_BLAKE160') {\n      return [_pw.Pw.toPwCellDep(this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'CHEQUE') {\n      return [_pw.Pw.toPwCellDep(this.provider.getCellDep('CHEQUE'))];\n    }\n\n    return [];\n  }\n\n  getCellDepByScript(script) {\n    // typeid script has no deps\n    if (script.code_hash === '0x00000000000000000000000000000000000000000000000000545950455f4944') return [];\n\n    const keyToTemplate = () => {\n      const foundEntry = Object.entries(this.provider.config.SCRIPTS).find(([, config]) => {\n        return config.CODE_HASH === script.code_hash && config.HASH_TYPE === script.hash_type;\n      });\n      if (foundEntry) return foundEntry[0];\n      return undefined;\n    };\n\n    const key = keyToTemplate();\n    if (!key) throw new Error(`Unknown script, code_hash: ${script.code_hash}, hash_type: ${script.hash_type}`);\n    return this.getCellDepByKey(key);\n  }\n\n  getCellDeps(scripts = []) {\n    return (0, _lodash.uniqWith)(scripts.flatMap(script => this.getCellDepByScript(script)), (dep1, dep2) => dep1.sameWith(dep2));\n  }\n\n  getCellDepsByCells(inputCells, outputCells) {\n    const inputLockAndTypeScripts = inputCells.flatMap(cell => cell.type ? [cell.lock.serializeJson(), cell.type.serializeJson()] : [cell.lock.serializeJson()]);\n    const outputTypeScripts = outputCells.flatMap(cell => cell.type ? [cell.type.serializeJson()] : []);\n    return this.getCellDeps(inputLockAndTypeScripts.concat(outputTypeScripts));\n  } // TODO refactor to ConfigManager\n\n\n  getWitnessPlaceholder(address) {\n    const isTemplateOf = (key, address) => {\n      const script = this.provider.parseToScript(address);\n      const scriptConfig = this.provider.getScriptConfig(key);\n      return scriptConfig.CODE_HASH === script.code_hash && scriptConfig.HASH_TYPE === script.hash_type;\n    };\n\n    if (isTemplateOf('SECP256K1_BLAKE160', address)) {\n      return {\n        lock: '0x' + '0'.repeat(130),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('PW_NON_ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(132),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('PW_NON_ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(132),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(130),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('UNIPASS', address)) {\n      return {\n        lock: '0x' + '0'.repeat(2082),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('RC_LOCK', address)) {\n      const byteLength = (0, _rcLock.SerializeRcLockWitnessLock)({\n        signature: new _ckbJsToolkit.Reader('0x' + '0'.repeat(130))\n      }).byteLength;\n      return {\n        lock: '0x' + '0'.repeat(byteLength * 2),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    (0, _utils.boom)(`Unsupported lock ${address}`);\n  }\n\n}\n\nexports.AbstractPwSenderBuilder = AbstractPwSenderBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"ScriptManager\", {\n  enumerable: true,\n  get: function () {\n    return _ScriptManager.ScriptManager;\n  }\n});\nObject.defineProperty(exports, \"AbstractProvider\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractProvider.AbstractProvider;\n  }\n});\nObject.defineProperty(exports, \"ProviderConfig\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractProvider.ProviderConfig;\n  }\n});\nObject.defineProperty(exports, \"InitOptions\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractProvider.InitOptions;\n  }\n});\nObject.defineProperty(exports, \"AbstractWallet\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractWallet.AbstractWallet;\n  }\n});\n\nvar _ScriptManager = require(\"./ScriptManager\");\n\nvar _AbstractProvider = require(\"./AbstractProvider\");\n\nvar _AbstractWallet = require(\"./AbstractWallet\");","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  SerializeRcLockWitnessLock: true,\n  SerializeUdtInfo: true,\n  UdtInfo: true\n};\nObject.defineProperty(exports, \"SerializeRcLockWitnessLock\", {\n  enumerable: true,\n  get: function () {\n    return _rcLock.SerializeRcLockWitnessLock;\n  }\n});\nObject.defineProperty(exports, \"SerializeUdtInfo\", {\n  enumerable: true,\n  get: function () {\n    return _rc_udt_info.SerializeUdtInfo;\n  }\n});\nObject.defineProperty(exports, \"UdtInfo\", {\n  enumerable: true,\n  get: function () {\n    return _rc_udt_info.UdtInfo;\n  }\n});\n\nvar _rcLock = require(\"./generated/rc-lock\");\n\nvar _rc_udt_info = require(\"./generated/rc_udt_info\");\n\nvar _rc = require(\"./rc\");\n\nObject.keys(_rc).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _rc[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _rc[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractTransactionBuilder = void 0;\n\nvar _pw = require(\"../helpers/pw\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// TODO migrate to mercury mode\nclass AbstractTransactionBuilder {\n  serialize(tx) {\n    return AbstractTransactionBuilder.serde.serialize(tx);\n  }\n\n}\n\nexports.AbstractTransactionBuilder = AbstractTransactionBuilder;\n\n_defineProperty(AbstractTransactionBuilder, \"serde\", {\n  serialize(deserialized) {\n    return (0, _pw.serialize)(deserialized);\n  },\n\n  deserialize(serialized) {\n    return (0, _pw.deserialize)(serialized);\n  }\n\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Amount = require(\"./Amount\");\n\nObject.keys(_Amount).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _Amount[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _Amount[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractSingleEntrySigner = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _PwAdapterSigner = require(\"./pw/PwAdapterSigner\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AbstractSingleEntrySigner {\n  constructor(options) {\n    var _options$hasher;\n\n    _defineProperty(this, \"adapter\", void 0);\n\n    const hasher = (_options$hasher = options.hasher) !== null && _options$hasher !== void 0 ? _options$hasher : new _pwCore.Blake2bHasher();\n    this.adapter = new _PwAdapterSigner.PwAdapterSigner(this, options.provider, hasher);\n  }\n\n  // TODO refactor to sig entry to adapt mercury\n\n  /**\n   *\n   * @param tx the tx is actually PwTransaction, but may change in the future in order to migrate to mercury\n   */\n  async seal(tx) {\n    const signed = await this.adapter.sign(tx);\n    return _pwCore.transformers.TransformTransaction(signed);\n  }\n\n}\n\nexports.AbstractSingleEntrySigner = AbstractSingleEntrySigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require(\"./utils\");\n\nObject.keys(_utils).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _utils[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _utils[key];\n    }\n  });\n});\n\nvar _struct = require(\"./struct\");\n\nObject.keys(_struct).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _struct[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _struct[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.detect = detect;\nexports.hashMessage = hashMessage;\nexports.InternalNonAcpPwLockSigner = exports.NonAcpPwLockWallet = exports.AcpPwLockWallet = void 0;\n\nvar _hd = require(\"@ckb-lumos/hd\");\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _detectProvider = _interopRequireDefault(require(\"@metamask/detect-provider\"));\n\nvar _secp256k = require(\"secp256k1\");\n\nvar _utils = require(\"../utils\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction detect() {\n  return (0, _detectProvider.default)().then(() => window.ethereum);\n}\n\nclass AbstractPwWallet extends _base.AbstractWallet {\n  constructor(ckitProvider) {\n    super();\n    this.ckitProvider = ckitProvider;\n\n    _defineProperty(this, \"listener\", addresses => {\n      if (!Array.isArray(addresses)) return;\n\n      if (addresses.length === 0) {\n        this.emitConnectStatusChanged('disconnected');\n        return;\n      }\n\n      this.emitChangedSigner(this.produceSigner());\n    });\n\n    this.setDescriptor({\n      features: this.describeFeatures(),\n      description: 'Interacting with CKB via MetaMask',\n      name: 'NonAcpPwLockWallet'\n    });\n  }\n\n  disconnect() {\n    void detect().then(ethProvider => ethProvider.removeEventListener('accountsChanged', this.listener)).then(() => super.disconnect());\n  }\n\n  async tryConnect() {\n    const ethProvider = await detect();\n    ethProvider.addListener('accountsChanged', this.listener);\n    return ethProvider.enable().then(() => this.produceSigner());\n  }\n\n}\n\nclass AbstractPwSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n  }\n\n  async signMessage(message) {\n    const ethereumProvider = await detect();\n    const from = ethereumProvider.selectedAddress;\n    const result = await ethereumProvider.request({\n      method: 'personal_sign',\n      params: [from, message]\n    });\n    let v = Number.parseInt(result.slice(-2), 16);\n    if (v >= 27) v -= 27;\n    return '0x' + _pwCore.Platform.eth.toString(16).padStart(2, '0') + result.slice(2, -2) + v.toString(16).padStart(2, '0');\n  }\n\n}\n\nclass AcpPwLockWallet extends AbstractPwWallet {\n  produceSigner() {\n    return new class extends AbstractPwSigner {\n      async getAddress() {\n        const config = this.ckitProvider.getScriptConfig('PW_ANYONE_CAN_PAY');\n        return this.ckitProvider.parseToAddress({\n          hash_type: config.HASH_TYPE,\n          args: (await detect()).selectedAddress,\n          code_hash: config.CODE_HASH\n        });\n      }\n\n    }(this.ckitProvider);\n  }\n\n  describeFeatures() {\n    return ['acp'];\n  }\n\n}\n\nexports.AcpPwLockWallet = AcpPwLockWallet;\n\nclass NonAcpPwLockWallet extends AbstractPwWallet {\n  produceSigner() {\n    return new class extends AbstractPwSigner {\n      async getAddress() {\n        const config = this.ckitProvider.getScriptConfig('PW_NON_ANYONE_CAN_PAY');\n        return this.ckitProvider.parseToAddress({\n          hash_type: config.HASH_TYPE,\n          args: (await detect()).selectedAddress,\n          code_hash: config.CODE_HASH\n        });\n      }\n\n    }(this.ckitProvider);\n  }\n\n  describeFeatures() {\n    return ['issue-sudt'];\n  }\n\n}\n\nexports.NonAcpPwLockWallet = NonAcpPwLockWallet;\n\nfunction hashMessage(message) {\n  // https://github.com/XuJiandong/pw-lock/blob/develop/c/pw_chain_ethereum.h#L43\n  return new _pwCore.Keccak256Hasher().update('\\x19Ethereum Signed Message:\\n32').update((0, _utils.hexToBytes)(message).buffer).digest().serializeJson();\n}\n\nvar _privateKey = /*#__PURE__*/new WeakMap();\n\nclass InternalNonAcpPwLockSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey, privateKey);\n  }\n\n  getEthAddress() {\n    const pubkey = (0, _secp256k.publicKeyCreate)((0, _utils.hexToBytes)(_classPrivateFieldGet(this, _privateKey)), false).slice(1);\n    const keccak = new _pwCore.Keccak256Hasher();\n    return '0x' + keccak.update(pubkey.buffer).digest().serializeJson().slice(-40);\n  }\n\n  async getAddress() {\n    const config = this.ckitProvider.getScriptConfig('PW_NON_ANYONE_CAN_PAY');\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: this.getEthAddress()\n    });\n  }\n\n  async signMessage(message) {\n    const result = _hd.key.signRecoverable(hashMessage(message), _classPrivateFieldGet(this, _privateKey));\n\n    let v = Number.parseInt(result.slice(-2), 16);\n    if (v >= 27) v -= 27;\n\n    const platform = _pwCore.Platform.eth.toString(16).padStart(2, '0');\n\n    const sig = result.slice(2, -2);\n    return '0x' + platform + sig + v.toString(16).padStart(2, '0');\n  }\n\n}\n\nexports.InternalNonAcpPwLockSigner = InternalNonAcpPwLockSigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.startsWith0x = startsWith0x;\nexports.rm0x = rm0x;\nexports.pad0x = pad0x;\nexports.safePadZero = safePadZero;\nexports.prependZeroToEvenLength = prependZeroToEvenLength;\nexports.convertEndian = convertEndian;\nexports.formatByteLike = formatByteLike;\nexports.toUnfixedBuffer = toUnfixedBuffer;\nexports.toFixedBuffer = toFixedBuffer;\nexports.toBuffer = toBuffer;\nexports.pipe = void 0;\n\nvar _buffer = require(\"buffer\");\n\n// TODO replace with safe-buffer\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst pipe = (...fn) => {\n  if (fn.length === 1) return fn[0];\n  return fn.reduce((fn1, fn2) => x => fn2(fn1(x)));\n};\n\nexports.pipe = pipe;\n\nfunction startsWith0x(x) {\n  return typeof x === 'string' && x.startsWith('0x');\n}\n\nfunction rm0x(input) {\n  if (startsWith0x(input)) return input.slice(2);\n  return input;\n}\n\nfunction pad0x(input) {\n  if (startsWith0x(input)) return input;\n  return '0x' + input;\n}\n\nfunction safePadZero(input, le, byteSize) {\n  const isEvenLength = input.length % 2 === 0;\n  const isUnfixed = byteSize === undefined;\n  if (isEvenLength && isUnfixed) return input;\n  const padEvenLength = isEvenLength ? 0 : 1; // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n  const expectedByteSize = isUnfixed ? (input.length + padEvenLength) / 2 : byteSize; // a byte is composed by 2 hex character\n\n  const expectedByteStringLength = expectedByteSize * 2;\n\n  if (le) {\n    return input.slice(0, expectedByteStringLength).padEnd(expectedByteStringLength, '0');\n  }\n\n  return input.slice(-expectedByteStringLength).padStart(expectedByteStringLength, '0');\n}\n\nfunction prependZeroToEvenLength(input) {\n  if (input.length % 2 === 0) return input;\n  return `0${input}`;\n}\n/**\n * convert between little-endian and big-endian bytes.\n * make sure the input is a bytes string of even length and **NOT** starting with 0x\n * @param input\n */\n\n\nfunction convertEndian(input) {\n  if (!input || input.length < 2) return input;\n  const grouped = prependZeroToEvenLength(input).match(/../g); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n  return grouped.reverse().join('');\n}\n\n/**\n * A byte is generally composed of two hex characters, and this function ensures that\n * the length of the output byte string used to represent the byte is an even number\n */\nfunction formatByteLike(input, options = {}) {\n  let byteString;\n  if (typeof input === 'string') byteString = rm0x(input);else byteString = _buffer.Buffer.from(input).toString('hex');\n  byteString = safePadZero(byteString, options.le, options.byteSize);\n  const shouldPad0x = !options.rm0x && (options.pad0x || startsWith0x(input));\n  if (options.convertEndian) byteString = convertEndian(byteString);\n  if (shouldPad0x) byteString = pad0x(byteString);\n  return byteString;\n}\n\nfunction toUnfixedBuffer(input) {\n  if (_buffer.Buffer.isBuffer(input) || input instanceof Uint8Array) return _buffer.Buffer.from(input);\n  return _buffer.Buffer.from(formatByteLike(input, {\n    rm0x: true\n  }), 'hex');\n}\n\nfunction toFixedBuffer(buffer, byteSize) {\n  if (byteSize === 0) return _buffer.Buffer.from([]);\n  const unfixed = toUnfixedBuffer(buffer);\n  const unfixedSize = unfixed.length;\n  if (unfixedSize === 0) return _buffer.Buffer.alloc(byteSize);\n  if (unfixedSize === byteSize) return unfixed;\n  if (unfixedSize > byteSize) return unfixed.slice(unfixedSize - byteSize);\n  return _buffer.Buffer.concat([_buffer.Buffer.alloc(byteSize - unfixedSize), unfixed]);\n}\n\nfunction toBuffer(input, byteSize) {\n  if (byteSize === undefined) return toUnfixedBuffer(input);\n  return toFixedBuffer(input, byteSize);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SerializeUTF8Bytes = SerializeUTF8Bytes;\nexports.SerializeUint128 = SerializeUint128;\nexports.SerializeByte32 = SerializeByte32;\nexports.SerializeUdtInfo = SerializeUdtInfo;\nexports.SerializeUdtCellData = SerializeUdtCellData;\nexports.UdtCellData = exports.UdtInfo = exports.Byte32 = exports.Uint128 = exports.UTF8Bytes = void 0;\n\nfunction dataLengthError(actual, required) {\n  throw new Error(`Invalid data length! Required: ${required}, actual: ${actual}`);\n}\n\nfunction assertDataLength(actual, required) {\n  if (actual !== required) {\n    dataLengthError(actual, required);\n  }\n}\n\nfunction assertArrayBuffer(reader) {\n  if (reader instanceof Object && reader.toArrayBuffer instanceof Function) {\n    reader = reader.toArrayBuffer();\n  }\n\n  if (!(reader instanceof ArrayBuffer)) {\n    throw new Error(\"Provided value must be an ArrayBuffer or can be transformed into ArrayBuffer!\");\n  }\n\n  return reader;\n}\n\nfunction verifyAndExtractOffsets(view, expectedFieldCount, compatible) {\n  if (view.byteLength < 4) {\n    dataLengthError(view.byteLength, \">4\");\n  }\n\n  const requiredByteLength = view.getUint32(0, true);\n  assertDataLength(view.byteLength, requiredByteLength);\n\n  if (requiredByteLength === 4) {\n    return [requiredByteLength];\n  }\n\n  if (requiredByteLength < 8) {\n    dataLengthError(view.byteLength, \">8\");\n  }\n\n  const firstOffset = view.getUint32(4, true);\n\n  if (firstOffset % 4 !== 0 || firstOffset < 8) {\n    throw new Error(`Invalid first offset: ${firstOffset}`);\n  }\n\n  const itemCount = firstOffset / 4 - 1;\n\n  if (itemCount < expectedFieldCount) {\n    throw new Error(`Item count not enough! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  } else if (!compatible && itemCount > expectedFieldCount) {\n    throw new Error(`Item count is more than required! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  }\n\n  if (requiredByteLength < firstOffset) {\n    throw new Error(`First offset is larger than byte length: ${firstOffset}`);\n  }\n\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    const start = 4 + i * 4;\n    offsets.push(view.getUint32(start, true));\n  }\n\n  offsets.push(requiredByteLength);\n\n  for (let i = 0; i < offsets.length - 1; i++) {\n    if (offsets[i] > offsets[i + 1]) {\n      throw new Error(`Offset index ${i}: ${offsets[i]} is larger than offset index ${i + 1}: ${offsets[i + 1]}`);\n    }\n  }\n\n  return offsets;\n}\n\nfunction serializeTable(buffers) {\n  const itemCount = buffers.length;\n  let totalSize = 4 * (itemCount + 1);\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    offsets.push(totalSize);\n    totalSize += buffers[i].byteLength;\n  }\n\n  const buffer = new ArrayBuffer(totalSize);\n  const array = new Uint8Array(buffer);\n  const view = new DataView(buffer);\n  view.setUint32(0, totalSize, true);\n\n  for (let i = 0; i < itemCount; i++) {\n    view.setUint32(4 + i * 4, offsets[i], true);\n    array.set(new Uint8Array(buffers[i]), offsets[i]);\n  }\n\n  return buffer;\n}\n\nclass UTF8Bytes {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n  }\n\n  raw() {\n    return this.view.buffer.slice(4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(4 + i);\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.UTF8Bytes = UTF8Bytes;\n\nfunction SerializeUTF8Bytes(value) {\n  const item = assertArrayBuffer(value);\n  const array = new Uint8Array(4 + item.byteLength);\n  new DataView(array.buffer).setUint32(0, item.byteLength, true);\n  array.set(new Uint8Array(item), 4);\n  return array.buffer;\n}\n\nclass Uint128 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 16);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 16;\n  }\n\n}\n\nexports.Uint128 = Uint128;\n\nfunction SerializeUint128(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 16);\n  return buffer;\n}\n\nclass Byte32 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 32);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 32;\n  }\n\n}\n\nexports.Byte32 = Byte32;\n\nfunction SerializeByte32(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 32);\n  return buffer;\n}\n\nclass UdtInfo {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    if (offsets[1] - offsets[0] !== 1) {\n      throw new Error(`Invalid offset for decimals: ${offsets[0]} - ${offsets[1]}`);\n    }\n\n    new UTF8Bytes(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new UTF8Bytes(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new UTF8Bytes(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n  }\n\n  getDecimals() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getName() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new UTF8Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getSymbol() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new UTF8Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getDescription() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new UTF8Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UdtInfo = UdtInfo;\n\nfunction SerializeUdtInfo(value) {\n  const buffers = [];\n  const decimalsView = new DataView(new ArrayBuffer(1));\n  decimalsView.setUint8(0, value.decimals);\n  buffers.push(decimalsView.buffer);\n  buffers.push(SerializeUTF8Bytes(value.name));\n  buffers.push(SerializeUTF8Bytes(value.symbol));\n  buffers.push(SerializeUTF8Bytes(value.description));\n  return serializeTable(buffers);\n}\n\nclass UdtCellData {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    if (offsets[1] - offsets[0] !== 1) {\n      throw new Error(`Invalid offset for version: ${offsets[0]} - ${offsets[1]}`);\n    }\n\n    new Uint128(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new Uint128(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new Byte32(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n    new UdtInfo(this.view.buffer.slice(offsets[4], offsets[5]), {\n      validate: false\n    }).validate();\n  }\n\n  getVersion() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getCurrentSupply() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint128(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getMaxSupply() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint128(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getSudtScriptHash() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Byte32(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getUdtInfo() {\n    const start = 20;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new UdtInfo(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UdtCellData = UdtCellData;\n\nfunction SerializeUdtCellData(value) {\n  const buffers = [];\n  const versionView = new DataView(new ArrayBuffer(1));\n  versionView.setUint8(0, value.version);\n  buffers.push(versionView.buffer);\n  buffers.push(SerializeUint128(value.current_supply));\n  buffers.push(SerializeUint128(value.max_supply));\n  buffers.push(SerializeByte32(value.sudt_script_hash));\n  buffers.push(SerializeUdtInfo(value.udt_info));\n  return serializeTable(buffers);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  helpers: true,\n  errors: true,\n  utils: true,\n  predefined: true\n};\nObject.defineProperty(exports, \"predefined\", {\n  enumerable: true,\n  get: function () {\n    return _predefined.predefined;\n  }\n});\nexports.utils = exports.errors = exports.helpers = void 0;\n\nvar _base = require(\"@ckitjs/base\");\n\nObject.keys(_base).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _base[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _base[key];\n    }\n  });\n});\n\nvar _wallets = require(\"./wallets\");\n\nObject.keys(_wallets).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _wallets[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _wallets[key];\n    }\n  });\n});\n\nvar _providers = require(\"./providers\");\n\nObject.keys(_providers).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _providers[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _providers[key];\n    }\n  });\n});\n\nvar _txBuilders = require(\"./tx-builders\");\n\nObject.keys(_txBuilders).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _txBuilders[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _txBuilders[key];\n    }\n  });\n});\n\nvar _helpers = _interopRequireWildcard(require(\"./helpers\"));\n\nexports.helpers = _helpers;\n\nvar _errors = _interopRequireWildcard(require(\"./errors\"));\n\nexports.errors = _errors;\n\nvar _utils = _interopRequireWildcard(require(\"./utils\"));\n\nexports.utils = _utils;\n\nvar _predefined = require(\"./predefined\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  AbstractTransactionBuilder: true,\n  SerializedTx: true,\n  DeserializedTx: true\n};\nObject.defineProperty(exports, \"AbstractTransactionBuilder\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractTransactionBuilder.AbstractTransactionBuilder;\n  }\n});\nObject.defineProperty(exports, \"SerializedTx\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractTransactionBuilder.SerializedTx;\n  }\n});\nObject.defineProperty(exports, \"DeserializedTx\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractTransactionBuilder.DeserializedTx;\n  }\n});\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _AcpTransferSudtBuilder = require(\"./AcpTransferSudtBuilder\");\n\nObject.keys(_AcpTransferSudtBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _AcpTransferSudtBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _AcpTransferSudtBuilder[key];\n    }\n  });\n});\n\nvar _TransferCkbBuilder = require(\"./TransferCkbBuilder\");\n\nObject.keys(_TransferCkbBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _TransferCkbBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _TransferCkbBuilder[key];\n    }\n  });\n});\n\nvar _MintSudtBuilder = require(\"./MintSudtBuilder\");\n\nObject.keys(_MintSudtBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _MintSudtBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _MintSudtBuilder[key];\n    }\n  });\n});\n\nvar _rc = require(\"./rc\");\n\nObject.keys(_rc).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _rc[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _rc[key];\n    }\n  });\n});\n\nvar _ChequeDepositBuilder = require(\"./ChequeDepositBuilder\");\n\nObject.keys(_ChequeDepositBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _ChequeDepositBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _ChequeDepositBuilder[key];\n    }\n  });\n});\n\nvar _ChequeClaimBuilder = require(\"./ChequeClaimBuilder\");\n\nObject.keys(_ChequeClaimBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _ChequeClaimBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _ChequeClaimBuilder[key];\n    }\n  });\n});\n\nvar _ChequeWithdrawBuilder = require(\"./ChequeWithdrawBuilder\");\n\nObject.keys(_ChequeWithdrawBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _ChequeWithdrawBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _ChequeWithdrawBuilder[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MercuryProvider = void 0;\n\nvar _rpc = require(\"@ckb-lumos/rpc\");\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _mercuryClient = require(\"@ckitjs/mercury-client\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _isomorphicFetch = _interopRequireDefault(require(\"isomorphic-fetch\"));\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _helpers = require(\"../../helpers\");\n\nvar _utils = require(\"../../utils\");\n\nvar _IndexerCellProvider = require(\"./IndexerCellProvider\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction toCell(resolved) {\n  return {\n    cell_output: resolved.output,\n    data: resolved.output_data,\n    block_number: resolved.block_number,\n    out_point: resolved.out_point\n  };\n}\n\nclass MercuryProvider extends _base.AbstractProvider {\n  constructor(mercuryRpc = 'http://127.0.0.1:8116', ckbRpc = 'http://127.0.0.1:8114') {\n    super();\n\n    _defineProperty(this, \"mercury\", void 0);\n\n    _defineProperty(this, \"rpc\", void 0);\n\n    _defineProperty(this, \"rpcUrl\", void 0);\n\n    this.mercury = new _mercuryClient.MercuryClient(mercuryRpc);\n    this.rpc = new _rpc.RPC(ckbRpc);\n    this.rpcUrl = ckbRpc;\n  }\n\n  async batchRequestCkb(request) {\n    const batch = [];\n\n    for (let i = 0; i < request.length; i++) {\n      batch.push({\n        id: i,\n        jsonrpc: '2.0',\n        method: (0, _utils.nonNullable)(request[i]).method,\n        params: [(0, _utils.nonNullable)(request[i]).params]\n      });\n    }\n\n    const response = await (0, _isomorphicFetch.default)(this.rpcUrl, {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(batch)\n    });\n    const results = await response.json();\n    const res = [];\n\n    for (let i = 0; i < results.length; i++) {\n      const result = results[i];\n      if (result.error) throw new Error(result.error);\n      res.push(result.result);\n    }\n\n    return res;\n  }\n  /**\n   * @deprecated please migrate to {@link collectLockOnlyCells}\n   * @param address\n   * @param minimalCapacity\n   * @returns\n   */\n\n\n  async collectCkbLiveCells(address, minimalCapacity) {\n    const lock = this.parseToScript(address);\n    const searchKey = {\n      script: lock,\n      script_type: 'lock',\n      filter: {\n        output_data_len_range: ['0x0', '0x1']\n      } // ckb live cells only\n\n    };\n    const cells$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.filter)(cell => cell.output.type == null), // live cell only\n    (0, _rxjs.scan)((acc, next) => ({\n      cells: acc.cells.concat(next),\n      amount: (0, _helpers.BN)(acc.amount).plus((0, _helpers.BN)(next.output.capacity))\n    }), {\n      amount: (0, _helpers.BN)(0),\n      cells: []\n    }), (0, _rxjs.takeWhile)(acc => (0, _helpers.BN)(acc.amount).lt((0, _helpers.BN)(minimalCapacity)), true));\n    const acc = await (0, _rxjs.lastValueFrom)(cells$, {\n      defaultValue: {\n        amount: (0, _helpers.BN)(0),\n        cells: []\n      }\n    });\n\n    if (acc.amount.lt((0, _helpers.BN)(minimalCapacity))) {\n      throw new _errors.NoEnoughCkbError({\n        lock,\n        expected: minimalCapacity,\n        actual: _helpers.Amount.from(acc.amount).toHex()\n      });\n    }\n\n    return acc.cells;\n  }\n\n  async collectLockOnlyCells(lock, capacity) {\n    const result = await this.collectCkbLiveCells(typeof lock === 'string' ? lock : this.parseToAddress(lock), capacity);\n    return result.map(resolved => ({\n      cell_output: resolved.output,\n      data: resolved.output_data,\n      block_number: resolved.block_number,\n      out_point: resolved.out_point\n    }));\n  }\n\n  collectCells({\n    searchKey\n  }, takeWhile_) {\n    const cells$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects.map(toCell)), (0, _rxjs.scan)((acc, next) => acc.concat(next), []), (0, _rxjs.takeWhile)(acc => takeWhile_(acc)));\n    return (0, _rxjs.lastValueFrom)(cells$, {\n      defaultValue: []\n    });\n  }\n  /**\n   * Calculate the capacity of all cells with only locks\n   */\n\n\n  async getCkbLiveCellsBalance(address) {\n    const searchKey = {\n      script: this.parseToScript(address),\n      script_type: 'lock',\n      filter: {\n        output_data_len_range: ['0x0', '0x1']\n      } // ckb live cells only\n\n    };\n    const balance$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.filter)(cell => cell.output.type == null), (0, _rxjs.reduce)((balance, cell) => balance.plus((0, _helpers.BN)(cell.output.capacity)), (0, _helpers.BN)(0)));\n    const balance = await (0, _rxjs.lastValueFrom)(balance$, {\n      defaultValue: (0, _helpers.BN)(0)\n    });\n    return '0x' + balance.toString(16);\n  }\n\n  getTxPoolInfo() {\n    return this.rpc.tx_pool_info();\n  }\n\n  getChainInfo() {\n    return this.rpc.get_blockchain_info();\n  }\n\n  sendTransaction(tx) {\n    return this.rpc.send_transaction(tx, 'passthrough');\n  }\n\n  async collectUdtCells(address, udt, minimalAmount) {\n    const lock = this.parseToScript(address);\n    const searchKey = {\n      script: lock,\n      filter: {\n        script: udt\n      },\n      script_type: 'lock'\n    };\n    const cells$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.scan)((acc, resolvedCell) => ({\n      cells: acc.cells.concat(resolvedCell),\n      amount: (0, _helpers.BN)(acc.amount).plus((0, _helpers.BN)((0, _pwCore.toBigUInt128LE)(resolvedCell.output_data.slice(0, 34))))\n    }), {\n      amount: (0, _helpers.BN)(0),\n      cells: []\n    }), (0, _rxjs.takeWhile)(acc => (0, _helpers.BN)(acc.amount).lt(minimalAmount), true) // inclusive last to ensure cells are enough\n    );\n    const acc = await (0, _rxjs.lastValueFrom)(cells$, {\n      defaultValue: {\n        amount: (0, _helpers.BN)(0),\n        cells: []\n      }\n    });\n\n    if ((0, _helpers.BN)(acc.amount).lt(minimalAmount)) {\n      throw new _errors.NoEnoughUdtError({\n        lock,\n        expected: minimalAmount,\n        actual: _helpers.Amount.from(acc.amount).toHex()\n      });\n    }\n\n    return acc.cells;\n  }\n\n  getUdtBalance(address, udt) {\n    const searchKey = {\n      script: this.parseToScript(address),\n      filter: {\n        script: udt\n      },\n      script_type: 'lock'\n    };\n    const balance$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.reduce)((acc, resolvedCell) => (0, _helpers.BN)(acc).plus((0, _pwCore.toBigUInt128LE)(resolvedCell.output_data.slice(0, 34))), (0, _helpers.BN)(0)));\n    return (0, _rxjs.lastValueFrom)(balance$, {\n      defaultValue: (0, _helpers.BN)(0)\n    }).then(x => '0x' + x.toString(16));\n  }\n\n  async waitForTransactionCommitted(txHash, options = {}) {\n    const {\n      pollIntervalMs = 1000,\n      timeoutMs = 120000\n    } = options;\n    const start = Date.now();\n    let result = null;\n\n    while (Date.now() - start <= timeoutMs) {\n      var _tx$tx_status;\n\n      const tx = await this.rpc.get_transaction(txHash);\n\n      if ((tx === null || tx === void 0 ? void 0 : (_tx$tx_status = tx.tx_status) === null || _tx$tx_status === void 0 ? void 0 : _tx$tx_status.status) === 'committed') {\n        result = tx.transaction;\n        break;\n      }\n\n      await (0, _utils.asyncSleep)(pollIntervalMs);\n    }\n\n    const rpcTip = Number(await this.rpc.get_tip_block_number());\n\n    while (Date.now() - start <= timeoutMs) {\n      const mercuryTip = await this.mercury.get_tip();\n      if (Number(mercuryTip.block_number) >= rpcTip) break;\n      await (0, _utils.asyncSleep)(pollIntervalMs);\n    }\n\n    return result;\n  }\n\n  asIndexerCellProvider() {\n    return new _IndexerCellProvider.MercuryCellProvider(this.mercury);\n  }\n\n}\n\nexports.MercuryProvider = MercuryProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractProvider = void 0;\n\nvar _configManager = require(\"@ckb-lumos/config-manager\");\n\nvar _helpers = require(\"@ckb-lumos/helpers\");\n\nvar _typeid = require(\"./typeid\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AbstractProvider {\n  constructor() {\n    _defineProperty(this, \"initialized\", false);\n\n    _defineProperty(this, \"_config\", void 0);\n  }\n\n  get config() {\n    if (!this._config) throw new Error('Cannot find the config, maybe provider is not initialied');\n    return this._config;\n  }\n\n  getScriptConfig(key) {\n    return this.config.SCRIPTS[key];\n  }\n\n  newScript(configKey, args) {\n    const scriptConfig = this.getScriptConfig(configKey);\n    if (!scriptConfig) return undefined;\n    return {\n      code_hash: scriptConfig.CODE_HASH,\n      args,\n      hash_type: scriptConfig.HASH_TYPE\n    };\n  }\n\n  newTypeIdScript(args) {\n    return {\n      code_hash: '0x00000000000000000000000000000000000000000000000000545950455f4944',\n      // Buffer.from('TYPE_ID')\n      hash_type: 'type',\n      args\n    };\n  }\n\n  generateTypeIdScript(input, outputIndex) {\n    return (0, _typeid.generateTypeIdScript)(input, outputIndex);\n  }\n\n  getCellDep(configKey) {\n    const scriptConfig = this.getScriptConfig(configKey);\n    if (!scriptConfig) return undefined;\n    return {\n      dep_type: scriptConfig.DEP_TYPE,\n      out_point: {\n        tx_hash: scriptConfig.TX_HASH,\n        index: scriptConfig.INDEX\n      }\n    };\n  }\n\n  findCellDepByAddress(address) {\n    const script = this.parseToScript(address);\n    const scriptConfigs = Object.values(this.config.SCRIPTS);\n    if (scriptConfigs == null) return undefined;\n    const index = scriptConfigs.findIndex(scriptConfig => (scriptConfig === null || scriptConfig === void 0 ? void 0 : scriptConfig.CODE_HASH) === script.code_hash && (scriptConfig === null || scriptConfig === void 0 ? void 0 : scriptConfig.HASH_TYPE) === script.hash_type);\n    const found = scriptConfigs[index];\n    if (!found) return undefined;\n    return {\n      dep_type: found.DEP_TYPE,\n      out_point: {\n        tx_hash: found.TX_HASH,\n        index: found.INDEX\n      }\n    };\n  }\n\n  findCellDepByScript(script) {\n    return this.findCellDepByAddress(this.parseToAddress(script));\n  }\n  /**\n   * init the provider\n   * @param config if no config is provided, {@link getChainInfo} will be called to check the network type, and using the predefined config\n   */\n\n\n  async init(config) {\n    if (this.initialized) return;\n\n    if (config) {\n      const MIN_FEE_RATE = config.MIN_FEE_RATE ? config.MIN_FEE_RATE : (await this.getTxPoolInfo()).min_fee_rate;\n      this._config = { ...config,\n        MIN_FEE_RATE\n      };\n    } else {\n      const chainInfo = await this.getChainInfo();\n      const isMainnet = chainInfo.chain === 'ckb';\n      const txPoolInfo = await this.getTxPoolInfo();\n      this._config = isMainnet ? { ..._configManager.predefined.LINA,\n        MIN_FEE_RATE: txPoolInfo.min_fee_rate\n      } : { ..._configManager.predefined.AGGRON4,\n        MIN_FEE_RATE: txPoolInfo.min_fee_rate\n      };\n    }\n\n    this.initialized = true;\n  }\n\n  parseToAddress(script) {\n    return (0, _helpers.generateAddress)(script, {\n      config: this.config\n    });\n  }\n  /**\n   * parse an {@link Address} to script, throws an error when parsing failed\n   * @param address\n   */\n\n\n  parseToScript(address) {\n    return (0, _helpers.parseAddress)(address, {\n      config: this.config\n    });\n  }\n\n}\n\nexports.AbstractProvider = AbstractProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateTypeIdScript = generateTypeIdScript;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _easyByte = require(\"@ckitjs/easy-byte\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nfunction toArrayBuffer(buf) {\n  const ab = new ArrayBuffer(buf.length);\n  const view = new Uint8Array(ab);\n\n  for (let i = 0; i < buf.length; ++i) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    view[i] = buf[i];\n  }\n\n  return ab;\n}\n\nfunction toBigUInt64LE(num) {\n  const buf = (0, _easyByte.toBuffer)('', 8);\n\n  if (typeof num === 'bigint') {\n    buf.writeBigUInt64LE(num);\n  } else if (Number.isSafeInteger(Number(num))) {\n    num = Number(num);\n    buf.writeUInt32LE(num & 0xffffffff, 0);\n    buf.writeUInt32LE(num >>> 32 & 0xffffffff, 4);\n  } else {\n    throw new Error(`invalid input ${num}`);\n  }\n\n  return toArrayBuffer(buf);\n}\n\nfunction generateTypeID(input, outputIndex) {\n  const outPointBuf = _base.core.SerializeCellInput(_ckbJsToolkit.normalizers.NormalizeCellInput(input));\n\n  const outputIndexBuf = toBigUInt64LE(outputIndex);\n  const ckbHasher = new _base.utils.CKBHasher();\n  ckbHasher.update(outPointBuf);\n  ckbHasher.update(outputIndexBuf);\n  return ckbHasher.digestHex();\n}\n\nfunction generateTypeIdScript(input, outputIndex) {\n  const args = generateTypeID(input, outputIndex);\n  return {\n    code_hash: '0x00000000000000000000000000000000000000000000000000545950455f4944',\n    // Buffer.from('TYPE_ID')\n    hash_type: 'type',\n    args\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createField = createField;\nexports.createFixedStruct = createFixedStruct;\nexports.U128BEJSBI = exports.U128LEJSBI = exports.U64BEJSBI = exports.U64LEJSBI = exports.U128BE = exports.U128LE = exports.I128BE = exports.I128LE = exports.U64BE = exports.U64LE = exports.I64BE = exports.I64LE = exports.U32BE = exports.U32LE = exports.I32BE = exports.I32LE = exports.U16BE = exports.U16LE = exports.I16BE = exports.I16LE = exports.U8 = exports.I8 = exports.FixedStruct = void 0;\n\nvar _buffer = require(\"buffer\");\n\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction createReader(fnName) {\n  return function (buf, offset = 0) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    return buf[fnName](offset);\n  };\n}\n\nfunction createWriter(fnName) {\n  return function (buf, val, offset = 0) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    buf[fnName](val, offset);\n  };\n}\n\nfunction createField(byteWidth, read, write) {\n  return {\n    byteWidth,\n    read,\n    write\n  };\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nclass FixedStruct {\n  constructor(fields = []) {\n    _defineProperty(this, \"fields\", void 0);\n\n    _defineProperty(this, \"byteWidth\", void 0);\n\n    this.fields = fields;\n    this.byteWidth = fields.reduce((width, field) => width + field[1].byteWidth, 0);\n  }\n\n  field(name, field) {\n    const namedField = [name, field];\n    return new FixedStruct(this.fields.concat([namedField]));\n  }\n\n  decode(buf) {\n    const result = {};\n    let offset = 0;\n    this.fields.forEach(([name, field]) => {\n      const parsed = field.read(buf, offset);\n      offset += field.byteWidth;\n      result[name] = parsed;\n    });\n    return result;\n  }\n\n  encode(obj) {\n    const byteSize = this.fields.reduce((size, [, field]) => field.byteWidth + size, 0);\n\n    const buf = _buffer.Buffer.alloc(byteSize);\n\n    let offset = 0;\n    this.fields.forEach(([name, field]) => {\n      field.write(buf, obj[name], offset);\n      offset += field.byteWidth;\n    });\n    return buf;\n  }\n\n}\n\nexports.FixedStruct = FixedStruct;\n\nfunction bigIntReader(byteSize, le, signed) {\n  return function (buf, offset = 0) {\n    const byteString = (0, _utils.formatByteLike)(buf.slice(offset, offset + byteSize), {\n      byteSize,\n      // when the bytes are marked as little endian,\n      // in order to parse the bytes as the correct BigInt,\n      // the bytes need to be reversed to big endian\n      convertEndian: le,\n      // padding a 0x to ensure that it is considered by BigInt as hexadecimal\n      pad0x: true\n    });\n    const val = BigInt(byteString);\n    if (!signed) return val;\n    const signMask = BigInt(1) << BigInt(byteSize * 8 - 1);\n    const valueMask = signMask - BigInt(1);\n    if ((signMask & val) === BigInt(0)) return val;\n    return (valueMask & val) - signMask;\n  };\n}\n\nfunction bigIntWriter(byteSize, le, signed) {\n  return function (buf, input, offset = 0) {\n    let val = input;\n    if (signed && val < BigInt(0)) val = (BigInt(1) << BigInt(byteSize * 8)) + val;\n    const byteString = (0, _utils.formatByteLike)(val.toString(16), {\n      byteSize,\n      convertEndian: le\n    });\n    buf.write(byteString, offset, 'hex');\n  };\n}\n\nfunction jsbiReader(byteSize, le) {\n  return (buf, offset = 0) => _jsbi.default.BigInt((0, _utils.formatByteLike)(buf.slice(offset, offset + byteSize), {\n    byteSize,\n    convertEndian: le,\n    pad0x: true\n  }));\n}\n\nfunction jsbiWriter(byteSize, le) {\n  return (buf, input, offset = 0) => {\n    const byteString = (0, _utils.formatByteLike)(input.toString(16), {\n      byteSize,\n      convertEndian: le\n    });\n    buf.write(byteString, offset, 'hex');\n  };\n}\n\nconst I8 = createField(1, createReader('readInt8'), createWriter('writeInt8'));\nexports.I8 = I8;\nconst U8 = createField(1, createReader('readUInt8'), createWriter('writeUInt8'));\nexports.U8 = U8;\nconst I16LE = createField(2, createReader('readInt16LE'), createWriter('writeInt16LE'));\nexports.I16LE = I16LE;\nconst I16BE = createField(2, createReader('readInt16BE'), createWriter('writeInt16BE'));\nexports.I16BE = I16BE;\nconst U16LE = createField(2, createReader('readUInt16LE'), createWriter('writeUInt16LE'));\nexports.U16LE = U16LE;\nconst U16BE = createField(2, createReader('readUInt16BE'), createWriter('writeUInt16BE'));\nexports.U16BE = U16BE;\nconst I32LE = createField(4, createReader('readInt32LE'), createWriter('writeInt32LE'));\nexports.I32LE = I32LE;\nconst I32BE = createField(4, createReader('readInt32BE'), createWriter('writeInt32BE'));\nexports.I32BE = I32BE;\nconst U32LE = createField(4, createReader('readUInt32LE'), createWriter('writeUInt32LE'));\nexports.U32LE = U32LE;\nconst U32BE = createField(4, createReader('readUInt32BE'), createWriter('writeUInt32BE'));\nexports.U32BE = U32BE;\nconst I64LE = createField(8, createReader('readBigInt64LE'), createWriter('writeBigInt64LE'));\nexports.I64LE = I64LE;\nconst I64BE = createField(8, createReader('readBigInt64BE'), createWriter('writeBigInt64BE'));\nexports.I64BE = I64BE;\nconst U64LE = createField(8, createReader('readBigUInt64LE'), createWriter('writeBigUInt64LE'));\nexports.U64LE = U64LE;\nconst U64BE = createField(8, createReader('readBigUInt64BE'), createWriter('writeBigUInt64BE'));\nexports.U64BE = U64BE;\nconst I128LE = createField(16, bigIntReader(16, true, true), bigIntWriter(16, true, true));\nexports.I128LE = I128LE;\nconst I128BE = createField(16, bigIntReader(16, false, true), bigIntWriter(16, false, true));\nexports.I128BE = I128BE;\nconst U128LE = createField(16, bigIntReader(16, true, false), bigIntWriter(16, true, false));\nexports.U128LE = U128LE;\nconst U128BE = createField(16, bigIntReader(16, false, false), bigIntWriter(16, false, false));\nexports.U128BE = U128BE;\nconst U64LEJSBI = createField(8, jsbiReader(8, true), jsbiWriter(8, true));\nexports.U64LEJSBI = U64LEJSBI;\nconst U64BEJSBI = createField(8, jsbiReader(8, false), jsbiWriter(8, false));\nexports.U64BEJSBI = U64BEJSBI;\nconst U128LEJSBI = createField(16, jsbiReader(16, true), jsbiWriter(16, true));\nexports.U128LEJSBI = U128LEJSBI;\nconst U128BEJSBI = createField(16, jsbiReader(16, false), jsbiWriter(16, false));\n/**\n * Create a coder for a fixed-length byte\n * that can easily convert a string of bytes into a plain JS object\n * @example\n * ```typescript\n * const struct = createFixedStruct()\n *  .field('messageType', U8)\n *  .field('messageContent', U64);\n *\n * const parsed = struct.decode(Buffer.from('...'))\n * console.log(parsed) // { messageType: 0, messageContent: ...}\n * ```\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\n\nexports.U128BEJSBI = U128BEJSBI;\n\nfunction createFixedStruct() {\n  return new FixedStruct();\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractWallet = void 0;\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _eventemitter = _interopRequireDefault(require(\"eventemitter3\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AbstractWallet {\n  // do **NOT** change the value manually\n  // use {@link getConnectStatus} instead of\n  // do **NOT** change the value manually\n  // use {@link getSigner} instead of\n  constructor() {\n    _defineProperty(this, \"descriptor\", {\n      name: 'Unknown Wallet',\n      features: [],\n      description: 'an unknown wallet'\n    });\n\n    _defineProperty(this, \"connectStatus\", 'disconnected');\n\n    _defineProperty(this, \"signer\", void 0);\n\n    _defineProperty(this, \"emitter\", void 0);\n\n    _defineProperty(this, \"on\", (event, listener) => {\n      this.emitter.on(event, listener);\n    });\n\n    this.emitter = new _eventemitter.default();\n  }\n\n  connect() {\n    const isDisconnected = this.connectStatus === 'disconnected';\n    (0, _utils.invariant)(isDisconnected, `[${this.descriptor.name}]: Do not reconnect the wallet`);\n    if (!isDisconnected) return;\n    this.emitConnectStatusChanged('connecting');\n    void this.tryConnect().then(signer => {\n      this.emitConnectStatusChanged('connected');\n      this.emitChangedSigner(signer);\n    }, e => {\n      this.emitError(e);\n      this.emitConnectStatusChanged('disconnected');\n    });\n  }\n\n  disconnect() {\n    this.emitConnectStatusChanged('disconnected');\n    this.emitter.removeAllListeners();\n  }\n\n  checkSupported(feature) {\n    return this.descriptor.features.includes(feature);\n  }\n\n  getConnectStatus() {\n    return this.connectStatus;\n  }\n\n  getSigner() {\n    return this.signer;\n  }\n\n  emitConnectStatusChanged(status) {\n    this.connectStatus = status;\n    this.emitter.emit('connectStatusChanged', status);\n  }\n\n  emitChangedSigner(signer) {\n    this.signer = signer;\n    this.emitter.emit('signerChanged', signer);\n  }\n\n  emitError(error = new Error(`An unknown error occurred in the ${this.descriptor.name}`)) {\n    this.emitter.emit('error', error);\n  }\n\n  setDescriptor(descriptor) {\n    const {\n      name = this.descriptor.name,\n      features = this.descriptor.features,\n      description = this.descriptor.description\n    } = descriptor;\n    this.descriptor = {\n      name,\n      features,\n      description\n    };\n  }\n\n}\n\nexports.AbstractWallet = AbstractWallet;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createDebugger = createDebugger;\nexports.debug = void 0;\n\nvar _debug = _interopRequireDefault(require(\"debug\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createDebugger(namespace) {\n  if (!namespace.startsWith('ckit-')) namespace = 'ckit-' + namespace;\n  return (0, _debug.default)(namespace);\n}\n\nconst debug = (0, _debug.default)('ckit');\nexports.debug = debug;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"invariant\", {\n  enumerable: true,\n  get: function () {\n    return _tinyInvariant.default;\n  }\n});\n\nvar _tinyInvariant = _interopRequireDefault(require(\"tiny-invariant\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unimplemented = unimplemented;\n\nfunction unimplemented() {\n  throw new Error('unimplemented');\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.concat = concat;\nexports.rm0x = rm0x;\nexports.toHex = toHex;\n\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isNumberLike(x) {\n  if (typeof x === 'number') return true;\n  if (x === null || x === undefined) return false;\n  return typeof (x === null || x === void 0 ? void 0 : x.toString) === 'function';\n}\n/**\n * concat byte-like into a hex string\n *\n * @example\n * concat('00', '01') // 0x0001\n * @param hexes\n */\n\n\nfunction concat(...hexes) {\n  return '0x' + hexes.map(padToEven).join('');\n}\n/**\n * pad a big-endian string to even length\n * @param x\n */\n\n\nfunction padToEven(x) {\n  let result = rm0x(toHex(x));\n  if (result.length % 2 !== 0) result = '0' + x;\n  return result;\n}\n\nfunction rm0x(hexStringLike) {\n  if (hexStringLike.startsWith('0x')) hexStringLike = hexStringLike.slice(2);\n  return hexStringLike;\n}\n\nfunction toHex(x) {\n  if (typeof x === 'number') {\n    if (x < 0 || !Number.isInteger(x)) throw new Error(`Cannot parse ${x} to a hex string`);\n    return '0x' + x.toString(16);\n  }\n\n  if (typeof x === 'string') {\n    if (x.startsWith('0x')) return x;\n    return '0x' + x;\n  }\n\n  if (typeof x === 'bigint') {\n    return '0x' + x.toString(16);\n  }\n\n  if (Buffer.isBuffer(x)) {\n    return '0x' + x.toString('hex');\n  }\n\n  if (isNumberLike(x)) {\n    return '0x' + _jsbi.default.BigInt(x).toString(16);\n  }\n\n  throw new Error(`Cannot parse ${x} to a hex string`);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  internal: true,\n  AcpPwLockWallet: true,\n  NonAcpPwLockWallet: true,\n  RcOwnerWallet: true,\n  RcPwSigner: true\n};\nObject.defineProperty(exports, \"AcpPwLockWallet\", {\n  enumerable: true,\n  get: function () {\n    return _PwWallet.AcpPwLockWallet;\n  }\n});\nObject.defineProperty(exports, \"NonAcpPwLockWallet\", {\n  enumerable: true,\n  get: function () {\n    return _PwWallet.NonAcpPwLockWallet;\n  }\n});\nObject.defineProperty(exports, \"RcOwnerWallet\", {\n  enumerable: true,\n  get: function () {\n    return _RcOwnerWallet.RcOwnerWallet;\n  }\n});\nObject.defineProperty(exports, \"RcPwSigner\", {\n  enumerable: true,\n  get: function () {\n    return _RcOwnerWallet.RcPwSigner;\n  }\n});\nexports.internal = void 0;\n\nvar _RcInternalSigner = require(\"./RcInternalSigner\");\n\nvar _Secp256k1Wallet = require(\"./Secp256k1Wallet\");\n\nvar _PwWallet = require(\"./PwWallet\");\n\nvar _UnipassWallet = require(\"./UnipassWallet\");\n\nObject.keys(_UnipassWallet).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _UnipassWallet[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _UnipassWallet[key];\n    }\n  });\n});\n\nvar _RcOwnerWallet = require(\"./RcOwnerWallet\");\n\nconst internal = {\n  RcSecp256k1Signer: _RcInternalSigner.RcSecp256k1Signer,\n  Secp256k1Signer: _Secp256k1Wallet.Secp256k1Signer,\n  RcEthSigner: _RcInternalSigner.RcEthSigner\n};\nexports.internal = internal;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RcEthSigner = exports.RCLockSigner = exports.RC_MODE = exports.RcSecp256k1Signer = void 0;\n\nvar _hd = require(\"@ckb-lumos/hd\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _secp256k = require(\"secp256k1\");\n\nvar _txBuilders = require(\"../tx-builders\");\n\nvar _utils2 = require(\"../utils\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nvar _PwWallet = require(\"./PwWallet\");\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nvar _privateKey = /*#__PURE__*/new WeakMap();\n\n/**\n * Please do not use this signer directly in a production environment,\n * as it can only be used for testing purposes.\n */\nclass RcSecp256k1Signer extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey, privateKey);\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _txBuilders.RcIdentityFlag.CKB,\n      // pubkeyHash: this.getEthAddress(),\n      pubkeyHash: _hd.key.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey))\n    };\n  }\n\n  getAddress() {\n    const config = this.ckitProvider.getScriptConfig('RC_LOCK');\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: _utils.bytes.concat(this.getRcIdentity().flag, this.getRcIdentity().pubkeyHash, 0)\n    });\n  }\n\n  async signMessage(message) {\n    const signature = _hd.key.signRecoverable(message, _classPrivateFieldGet(this, _privateKey));\n\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RcSecp256k1Signer = RcSecp256k1Signer;\nlet RC_MODE;\nexports.RC_MODE = RC_MODE;\n\n(function (RC_MODE) {\n  RC_MODE[\"PUBKEY_HASH\"] = \"00\";\n  RC_MODE[\"ACP\"] = \"02\";\n})(RC_MODE || (exports.RC_MODE = RC_MODE = {}));\n\nvar _privateKey2 = /*#__PURE__*/new WeakMap();\n\nclass RCLockSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey2.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey2, privateKey);\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _txBuilders.RcIdentityFlag.CKB,\n      // pubkeyHash: this.getEthAddress(),\n      pubkeyHash: _hd.key.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey2))\n    };\n  }\n\n  async getAddress() {\n    return await this.getAddressByMode(RC_MODE.ACP);\n  }\n\n  async getAddressByMode(mode) {\n    let pubKeykHash = _hd.key.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey2));\n\n    if (pubKeykHash.startsWith('0x')) {\n      pubKeykHash = pubKeykHash.substring(2);\n    }\n\n    let rc_args = `0x00${pubKeykHash}00`;\n\n    switch (mode) {\n      case RC_MODE.ACP:\n        rc_args = `0x00${pubKeykHash}020000`;\n        break;\n\n      case RC_MODE.PUBKEY_HASH:\n        rc_args = `0x00${pubKeykHash}00`;\n        break;\n\n      default:\n        return Promise.reject(new Error('invalid rc mode'));\n    }\n\n    const config = await this.ckitProvider.getScriptConfig('RC_LOCK');\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: rc_args\n    });\n  }\n\n  async signMessage(message) {\n    const signature = _hd.key.signRecoverable(message, _classPrivateFieldGet(this, _privateKey2));\n\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RCLockSigner = RCLockSigner;\n\nvar _privateKey3 = /*#__PURE__*/new WeakMap();\n\nclass RcEthSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey3.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey3, privateKey);\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _txBuilders.RcIdentityFlag.ETH,\n      pubkeyHash: this.getEthAddress()\n    };\n  }\n\n  getAddress() {\n    const config = this.ckitProvider.getScriptConfig('RC_LOCK');\n    const ethAddress = this.getEthAddress();\n    const rc_args = `0x01${ethAddress.substring(2)}00`;\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: rc_args\n    });\n  }\n\n  getEthAddress() {\n    const pubkey = (0, _secp256k.publicKeyCreate)((0, _utils2.hexToBytes)(_classPrivateFieldGet(this, _privateKey3)), false).slice(1);\n    const keccak = new _pwCore.Keccak256Hasher();\n    return '0x' + keccak.update(pubkey.buffer).digest().serializeJson().slice(-40);\n  }\n\n  async signMessage(message) {\n    const result = _hd.key.signRecoverable((0, _PwWallet.hashMessage)(message), _classPrivateFieldGet(this, _privateKey3));\n\n    let v = Number.parseInt(result.slice(-2), 16);\n    if (v >= 27) v -= 27;\n    const sig = result.slice(2, -2);\n    const signature = '0x' + sig + v.toString(16).padStart(2, '0');\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RcEthSigner = RcEthSigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SerializeIdentity = SerializeIdentity;\nexports.SerializeRcIdentity = SerializeRcIdentity;\nexports.SerializeRcIdentityOpt = SerializeRcIdentityOpt;\nexports.SerializeRcLockWitnessLock = SerializeRcLockWitnessLock;\nexports.SerializeScriptVec = SerializeScriptVec;\nexports.SerializeScriptVecOpt = SerializeScriptVecOpt;\nexports.SerializeXudtWitnessInput = SerializeXudtWitnessInput;\nexports.SerializeRCRule = SerializeRCRule;\nexports.SerializeRCCellVec = SerializeRCCellVec;\nexports.SerializeRCData = SerializeRCData;\nexports.SerializeSmtProof = SerializeSmtProof;\nexports.SerializeSmtProofEntry = SerializeSmtProofEntry;\nexports.SerializeSmtProofEntryVec = SerializeSmtProofEntryVec;\nexports.SerializeSmtUpdateItem = SerializeSmtUpdateItem;\nexports.SerializeSmtUpdateItemVec = SerializeSmtUpdateItemVec;\nexports.SerializeSmtUpdateAction = SerializeSmtUpdateAction;\nexports.SerializeXudtData = SerializeXudtData;\nexports.SerializeUint32 = SerializeUint32;\nexports.SerializeUint64 = SerializeUint64;\nexports.SerializeUint128 = SerializeUint128;\nexports.SerializeByte32 = SerializeByte32;\nexports.SerializeUint256 = SerializeUint256;\nexports.SerializeBytes = SerializeBytes;\nexports.SerializeBytesOpt = SerializeBytesOpt;\nexports.SerializeBytesVec = SerializeBytesVec;\nexports.SerializeByte32Vec = SerializeByte32Vec;\nexports.SerializeScriptOpt = SerializeScriptOpt;\nexports.SerializeProposalShortId = SerializeProposalShortId;\nexports.SerializeUncleBlockVec = SerializeUncleBlockVec;\nexports.SerializeTransactionVec = SerializeTransactionVec;\nexports.SerializeProposalShortIdVec = SerializeProposalShortIdVec;\nexports.SerializeCellDepVec = SerializeCellDepVec;\nexports.SerializeCellInputVec = SerializeCellInputVec;\nexports.SerializeCellOutputVec = SerializeCellOutputVec;\nexports.SerializeScript = SerializeScript;\nexports.SerializeOutPoint = SerializeOutPoint;\nexports.SerializeCellInput = SerializeCellInput;\nexports.SerializeCellOutput = SerializeCellOutput;\nexports.SerializeCellDep = SerializeCellDep;\nexports.SerializeRawTransaction = SerializeRawTransaction;\nexports.SerializeTransaction = SerializeTransaction;\nexports.SerializeRawHeader = SerializeRawHeader;\nexports.SerializeHeader = SerializeHeader;\nexports.SerializeUncleBlock = SerializeUncleBlock;\nexports.SerializeBlock = SerializeBlock;\nexports.SerializeCellbaseWitness = SerializeCellbaseWitness;\nexports.SerializeWitnessArgs = SerializeWitnessArgs;\nexports.WitnessArgs = exports.CellbaseWitness = exports.Block = exports.UncleBlock = exports.Header = exports.RawHeader = exports.Transaction = exports.RawTransaction = exports.CellDep = exports.CellOutput = exports.CellInput = exports.OutPoint = exports.Script = exports.CellOutputVec = exports.CellInputVec = exports.CellDepVec = exports.ProposalShortIdVec = exports.TransactionVec = exports.UncleBlockVec = exports.ProposalShortId = exports.ScriptOpt = exports.Byte32Vec = exports.BytesVec = exports.BytesOpt = exports.Bytes = exports.Uint256 = exports.Byte32 = exports.Uint128 = exports.Uint64 = exports.Uint32 = exports.XudtData = exports.SmtUpdateAction = exports.SmtUpdateItemVec = exports.SmtUpdateItem = exports.SmtProofEntryVec = exports.SmtProofEntry = exports.SmtProof = exports.RCData = exports.RCCellVec = exports.RCRule = exports.XudtWitnessInput = exports.ScriptVecOpt = exports.ScriptVec = exports.RcLockWitnessLock = exports.RcIdentityOpt = exports.RcIdentity = exports.Identity = void 0;\n\nfunction dataLengthError(actual, required) {\n  throw new Error(`Invalid data length! Required: ${required}, actual: ${actual}`);\n}\n\nfunction assertDataLength(actual, required) {\n  if (actual !== required) {\n    dataLengthError(actual, required);\n  }\n}\n\nfunction assertArrayBuffer(reader) {\n  if (reader instanceof Object && reader.toArrayBuffer instanceof Function) {\n    reader = reader.toArrayBuffer();\n  }\n\n  if (!(reader instanceof ArrayBuffer)) {\n    throw new Error(\"Provided value must be an ArrayBuffer or can be transformed into ArrayBuffer!\");\n  }\n\n  return reader;\n}\n\nfunction verifyAndExtractOffsets(view, expectedFieldCount, compatible) {\n  if (view.byteLength < 4) {\n    dataLengthError(view.byteLength, \">4\");\n  }\n\n  const requiredByteLength = view.getUint32(0, true);\n  assertDataLength(view.byteLength, requiredByteLength);\n\n  if (requiredByteLength === 4) {\n    return [requiredByteLength];\n  }\n\n  if (requiredByteLength < 8) {\n    dataLengthError(view.byteLength, \">8\");\n  }\n\n  const firstOffset = view.getUint32(4, true);\n\n  if (firstOffset % 4 !== 0 || firstOffset < 8) {\n    throw new Error(`Invalid first offset: ${firstOffset}`);\n  }\n\n  const itemCount = firstOffset / 4 - 1;\n\n  if (itemCount < expectedFieldCount) {\n    throw new Error(`Item count not enough! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  } else if (!compatible && itemCount > expectedFieldCount) {\n    throw new Error(`Item count is more than required! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  }\n\n  if (requiredByteLength < firstOffset) {\n    throw new Error(`First offset is larger than byte length: ${firstOffset}`);\n  }\n\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    const start = 4 + i * 4;\n    offsets.push(view.getUint32(start, true));\n  }\n\n  offsets.push(requiredByteLength);\n\n  for (let i = 0; i < offsets.length - 1; i++) {\n    if (offsets[i] > offsets[i + 1]) {\n      throw new Error(`Offset index ${i}: ${offsets[i]} is larger than offset index ${i + 1}: ${offsets[i + 1]}`);\n    }\n  }\n\n  return offsets;\n}\n\nfunction serializeTable(buffers) {\n  const itemCount = buffers.length;\n  let totalSize = 4 * (itemCount + 1);\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    offsets.push(totalSize);\n    totalSize += buffers[i].byteLength;\n  }\n\n  const buffer = new ArrayBuffer(totalSize);\n  const array = new Uint8Array(buffer);\n  const view = new DataView(buffer);\n  view.setUint32(0, totalSize, true);\n\n  for (let i = 0; i < itemCount; i++) {\n    view.setUint32(4 + i * 4, offsets[i], true);\n    array.set(new Uint8Array(buffers[i]), offsets[i]);\n  }\n\n  return buffer;\n}\n\nclass Identity {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 21);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 21;\n  }\n\n}\n\nexports.Identity = Identity;\n\nfunction SerializeIdentity(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 21);\n  return buffer;\n}\n\nclass RcIdentity {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Identity(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new SmtProofEntryVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getIdentity() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Identity(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProofs() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new SmtProofEntryVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.RcIdentity = RcIdentity;\n\nfunction SerializeRcIdentity(value) {\n  const buffers = [];\n  buffers.push(SerializeIdentity(value.identity));\n  buffers.push(SerializeSmtProofEntryVec(value.proofs));\n  return serializeTable(buffers);\n}\n\nclass RcIdentityOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new RcIdentity(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.RcIdentityOpt = RcIdentityOpt;\n\nfunction SerializeRcIdentityOpt(value) {\n  if (value) {\n    return SerializeRcIdentity(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass RcLockWitnessLock {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new BytesOpt(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new RcIdentityOpt(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new BytesOpt(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getSignature() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getRcIdentity() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new RcIdentityOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getPreimage() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.RcLockWitnessLock = RcLockWitnessLock;\n\nfunction SerializeRcLockWitnessLock(value) {\n  const buffers = [];\n  buffers.push(SerializeBytesOpt(value.signature));\n  buffers.push(SerializeRcIdentityOpt(value.rc_identity));\n  buffers.push(SerializeBytesOpt(value.preimage));\n  return serializeTable(buffers);\n}\n\nclass ScriptVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new Script(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new Script(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.ScriptVec = ScriptVec;\n\nfunction SerializeScriptVec(value) {\n  return serializeTable(value.map(item => SerializeScript(item)));\n}\n\nclass ScriptVecOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new ScriptVec(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.ScriptVecOpt = ScriptVecOpt;\n\nfunction SerializeScriptVecOpt(value) {\n  if (value) {\n    return SerializeScriptVec(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass XudtWitnessInput {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new ScriptVecOpt(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getRawExtensionData() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new ScriptVecOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getExtensionData() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.XudtWitnessInput = XudtWitnessInput;\n\nfunction SerializeXudtWitnessInput(value) {\n  const buffers = [];\n  buffers.push(SerializeScriptVecOpt(value.raw_extension_data));\n  buffers.push(SerializeBytesVec(value.extension_data));\n  return serializeTable(buffers);\n}\n\nclass RCRule {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getSmtRoot() {\n    return new Byte32(this.view.buffer.slice(0, 0 + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getFlags() {\n    return this.view.getUint8(0 + Byte32.size());\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, RCRule.size());\n    this.getSmtRoot().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Byte32.size() + 1;\n  }\n\n}\n\nexports.RCRule = RCRule;\n\nfunction SerializeRCRule(value) {\n  const array = new Uint8Array(0 + Byte32.size() + 1);\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeByte32(value.smt_root)), 0);\n  view.setUint8(0 + Byte32.size(), value.flags);\n  return array.buffer;\n}\n\nclass RCCellVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * Byte32.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new Byte32(this.view.buffer.slice(4 + i * Byte32.size(), 4 + (i + 1) * Byte32.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.RCCellVec = RCCellVec;\n\nfunction SerializeRCCellVec(value) {\n  const array = new Uint8Array(4 + Byte32.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeByte32(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * Byte32.size());\n  }\n\n  return array.buffer;\n}\n\nclass RCData {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      assertDataLength(this.view.byteLength, \">4\");\n    }\n\n    const t = this.view.getUint32(0, true);\n\n    switch (t) {\n      case 0:\n        new RCRule(this.view.buffer.slice(4), {\n          validate: false\n        }).validate();\n        break;\n\n      case 1:\n        new RCCellVec(this.view.buffer.slice(4), {\n          validate: false\n        }).validate();\n        break;\n\n      default:\n        throw new Error(`Invalid type: ${t}`);\n    }\n  }\n\n  unionType() {\n    const t = this.view.getUint32(0, true);\n\n    switch (t) {\n      case 0:\n        return \"RCRule\";\n\n      case 1:\n        return \"RCCellVec\";\n\n      default:\n        throw new Error(`Invalid type: ${t}`);\n    }\n  }\n\n  value() {\n    const t = this.view.getUint32(0, true);\n\n    switch (t) {\n      case 0:\n        return new RCRule(this.view.buffer.slice(4), {\n          validate: false\n        });\n\n      case 1:\n        return new RCCellVec(this.view.buffer.slice(4), {\n          validate: false\n        });\n\n      default:\n        throw new Error(`Invalid type: ${t}`);\n    }\n  }\n\n}\n\nexports.RCData = RCData;\n\nfunction SerializeRCData(value) {\n  switch (value.type) {\n    case \"RCRule\":\n      {\n        const itemBuffer = SerializeRCRule(value.value);\n        const array = new Uint8Array(4 + itemBuffer.byteLength);\n        const view = new DataView(array.buffer);\n        view.setUint32(0, 0, true);\n        array.set(new Uint8Array(itemBuffer), 4);\n        return array.buffer;\n      }\n\n    case \"RCCellVec\":\n      {\n        const itemBuffer = SerializeRCCellVec(value.value);\n        const array = new Uint8Array(4 + itemBuffer.byteLength);\n        const view = new DataView(array.buffer);\n        view.setUint32(0, 1, true);\n        array.set(new Uint8Array(itemBuffer), 4);\n        return array.buffer;\n      }\n\n    default:\n      throw new Error(`Invalid type: ${value.type}`);\n  }\n}\n\nclass SmtProof {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n  }\n\n  raw() {\n    return this.view.buffer.slice(4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(4 + i);\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.SmtProof = SmtProof;\n\nfunction SerializeSmtProof(value) {\n  const item = assertArrayBuffer(value);\n  const array = new Uint8Array(4 + item.byteLength);\n  new DataView(array.buffer).setUint32(0, item.byteLength, true);\n  array.set(new Uint8Array(item), 4);\n  return array.buffer;\n}\n\nclass SmtProofEntry {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    if (offsets[1] - offsets[0] !== 1) {\n      throw new Error(`Invalid offset for mask: ${offsets[0]} - ${offsets[1]}`);\n    }\n\n    new SmtProof(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getMask() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getProof() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new SmtProof(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.SmtProofEntry = SmtProofEntry;\n\nfunction SerializeSmtProofEntry(value) {\n  const buffers = [];\n  const maskView = new DataView(new ArrayBuffer(1));\n  maskView.setUint8(0, value.mask);\n  buffers.push(maskView.buffer);\n  buffers.push(SerializeSmtProof(value.proof));\n  return serializeTable(buffers);\n}\n\nclass SmtProofEntryVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new SmtProofEntry(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new SmtProofEntry(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.SmtProofEntryVec = SmtProofEntryVec;\n\nfunction SerializeSmtProofEntryVec(value) {\n  return serializeTable(value.map(item => SerializeSmtProofEntry(item)));\n}\n\nclass SmtUpdateItem {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getKey() {\n    return new Byte32(this.view.buffer.slice(0, 0 + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getPackedValues() {\n    return this.view.getUint8(0 + Byte32.size());\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, SmtUpdateItem.size());\n    this.getKey().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Byte32.size() + 1;\n  }\n\n}\n\nexports.SmtUpdateItem = SmtUpdateItem;\n\nfunction SerializeSmtUpdateItem(value) {\n  const array = new Uint8Array(0 + Byte32.size() + 1);\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeByte32(value.key)), 0);\n  view.setUint8(0 + Byte32.size(), value.packed_values);\n  return array.buffer;\n}\n\nclass SmtUpdateItemVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * SmtUpdateItem.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new SmtUpdateItem(this.view.buffer.slice(4 + i * SmtUpdateItem.size(), 4 + (i + 1) * SmtUpdateItem.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.SmtUpdateItemVec = SmtUpdateItemVec;\n\nfunction SerializeSmtUpdateItemVec(value) {\n  const array = new Uint8Array(4 + SmtUpdateItem.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeSmtUpdateItem(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * SmtUpdateItem.size());\n  }\n\n  return array.buffer;\n}\n\nclass SmtUpdateAction {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new SmtUpdateItemVec(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new SmtProof(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getUpdates() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new SmtUpdateItemVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProof() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new SmtProof(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.SmtUpdateAction = SmtUpdateAction;\n\nfunction SerializeSmtUpdateAction(value) {\n  const buffers = [];\n  buffers.push(SerializeSmtUpdateItemVec(value.updates));\n  buffers.push(SerializeSmtProof(value.proof));\n  return serializeTable(buffers);\n}\n\nclass XudtData {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Bytes(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getLock() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getData() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.XudtData = XudtData;\n\nfunction SerializeXudtData(value) {\n  const buffers = [];\n  buffers.push(SerializeBytes(value.lock));\n  buffers.push(SerializeBytesVec(value.data));\n  return serializeTable(buffers);\n}\n\nclass Uint32 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  toBigEndianUint32() {\n    return this.view.getUint32(0, false);\n  }\n\n  toLittleEndianUint32() {\n    return this.view.getUint32(0, true);\n  }\n\n  static size() {\n    return 4;\n  }\n\n}\n\nexports.Uint32 = Uint32;\n\nfunction SerializeUint32(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 4);\n  return buffer;\n}\n\nclass Uint64 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 8);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 8;\n  }\n\n}\n\nexports.Uint64 = Uint64;\n\nfunction SerializeUint64(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 8);\n  return buffer;\n}\n\nclass Uint128 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 16);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 16;\n  }\n\n}\n\nexports.Uint128 = Uint128;\n\nfunction SerializeUint128(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 16);\n  return buffer;\n}\n\nclass Byte32 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 32);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 32;\n  }\n\n}\n\nexports.Byte32 = Byte32;\n\nfunction SerializeByte32(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 32);\n  return buffer;\n}\n\nclass Uint256 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 32);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 32;\n  }\n\n}\n\nexports.Uint256 = Uint256;\n\nfunction SerializeUint256(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 32);\n  return buffer;\n}\n\nclass Bytes {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n  }\n\n  raw() {\n    return this.view.buffer.slice(4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(4 + i);\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.Bytes = Bytes;\n\nfunction SerializeBytes(value) {\n  const item = assertArrayBuffer(value);\n  const array = new Uint8Array(4 + item.byteLength);\n  new DataView(array.buffer).setUint32(0, item.byteLength, true);\n  array.set(new Uint8Array(item), 4);\n  return array.buffer;\n}\n\nclass BytesOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new Bytes(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.BytesOpt = BytesOpt;\n\nfunction SerializeBytesOpt(value) {\n  if (value) {\n    return SerializeBytes(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass BytesVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new Bytes(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.BytesVec = BytesVec;\n\nfunction SerializeBytesVec(value) {\n  return serializeTable(value.map(item => SerializeBytes(item)));\n}\n\nclass Byte32Vec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * Byte32.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new Byte32(this.view.buffer.slice(4 + i * Byte32.size(), 4 + (i + 1) * Byte32.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.Byte32Vec = Byte32Vec;\n\nfunction SerializeByte32Vec(value) {\n  const array = new Uint8Array(4 + Byte32.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeByte32(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * Byte32.size());\n  }\n\n  return array.buffer;\n}\n\nclass ScriptOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new Script(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.ScriptOpt = ScriptOpt;\n\nfunction SerializeScriptOpt(value) {\n  if (value) {\n    return SerializeScript(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass ProposalShortId {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 10);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 10;\n  }\n\n}\n\nexports.ProposalShortId = ProposalShortId;\n\nfunction SerializeProposalShortId(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 10);\n  return buffer;\n}\n\nclass UncleBlockVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new UncleBlock(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new UncleBlock(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UncleBlockVec = UncleBlockVec;\n\nfunction SerializeUncleBlockVec(value) {\n  return serializeTable(value.map(item => SerializeUncleBlock(item)));\n}\n\nclass TransactionVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new Transaction(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new Transaction(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.TransactionVec = TransactionVec;\n\nfunction SerializeTransactionVec(value) {\n  return serializeTable(value.map(item => SerializeTransaction(item)));\n}\n\nclass ProposalShortIdVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * ProposalShortId.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new ProposalShortId(this.view.buffer.slice(4 + i * ProposalShortId.size(), 4 + (i + 1) * ProposalShortId.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.ProposalShortIdVec = ProposalShortIdVec;\n\nfunction SerializeProposalShortIdVec(value) {\n  const array = new Uint8Array(4 + ProposalShortId.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeProposalShortId(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * ProposalShortId.size());\n  }\n\n  return array.buffer;\n}\n\nclass CellDepVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * CellDep.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new CellDep(this.view.buffer.slice(4 + i * CellDep.size(), 4 + (i + 1) * CellDep.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.CellDepVec = CellDepVec;\n\nfunction SerializeCellDepVec(value) {\n  const array = new Uint8Array(4 + CellDep.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeCellDep(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * CellDep.size());\n  }\n\n  return array.buffer;\n}\n\nclass CellInputVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * CellInput.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new CellInput(this.view.buffer.slice(4 + i * CellInput.size(), 4 + (i + 1) * CellInput.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.CellInputVec = CellInputVec;\n\nfunction SerializeCellInputVec(value) {\n  const array = new Uint8Array(4 + CellInput.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeCellInput(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * CellInput.size());\n  }\n\n  return array.buffer;\n}\n\nclass CellOutputVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new CellOutput(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new CellOutput(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.CellOutputVec = CellOutputVec;\n\nfunction SerializeCellOutputVec(value) {\n  return serializeTable(value.map(item => SerializeCellOutput(item)));\n}\n\nclass Script {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Byte32(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n\n    if (offsets[2] - offsets[1] !== 1) {\n      throw new Error(`Invalid offset for hash_type: ${offsets[1]} - ${offsets[2]}`);\n    }\n\n    new Bytes(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getCodeHash() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Byte32(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getHashType() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getArgs() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.Script = Script;\n\nfunction SerializeScript(value) {\n  const buffers = [];\n  buffers.push(SerializeByte32(value.code_hash));\n  const hashTypeView = new DataView(new ArrayBuffer(1));\n  hashTypeView.setUint8(0, value.hash_type);\n  buffers.push(hashTypeView.buffer);\n  buffers.push(SerializeBytes(value.args));\n  return serializeTable(buffers);\n}\n\nclass OutPoint {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getTxHash() {\n    return new Byte32(this.view.buffer.slice(0, 0 + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getIndex() {\n    return new Uint32(this.view.buffer.slice(0 + Byte32.size(), 0 + Byte32.size() + Uint32.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, OutPoint.size());\n    this.getTxHash().validate(compatible);\n    this.getIndex().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Byte32.size() + Uint32.size();\n  }\n\n}\n\nexports.OutPoint = OutPoint;\n\nfunction SerializeOutPoint(value) {\n  const array = new Uint8Array(0 + Byte32.size() + Uint32.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeByte32(value.tx_hash)), 0);\n  array.set(new Uint8Array(SerializeUint32(value.index)), 0 + Byte32.size());\n  return array.buffer;\n}\n\nclass CellInput {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getSince() {\n    return new Uint64(this.view.buffer.slice(0, 0 + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getPreviousOutput() {\n    return new OutPoint(this.view.buffer.slice(0 + Uint64.size(), 0 + Uint64.size() + OutPoint.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, CellInput.size());\n    this.getSince().validate(compatible);\n    this.getPreviousOutput().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Uint64.size() + OutPoint.size();\n  }\n\n}\n\nexports.CellInput = CellInput;\n\nfunction SerializeCellInput(value) {\n  const array = new Uint8Array(0 + Uint64.size() + OutPoint.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeUint64(value.since)), 0);\n  array.set(new Uint8Array(SerializeOutPoint(value.previous_output)), 0 + Uint64.size());\n  return array.buffer;\n}\n\nclass CellOutput {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Uint64(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new Script(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new ScriptOpt(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getCapacity() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint64(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getLock() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Script(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getType() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new ScriptOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.CellOutput = CellOutput;\n\nfunction SerializeCellOutput(value) {\n  const buffers = [];\n  buffers.push(SerializeUint64(value.capacity));\n  buffers.push(SerializeScript(value.lock));\n  buffers.push(SerializeScriptOpt(value.type_));\n  return serializeTable(buffers);\n}\n\nclass CellDep {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getOutPoint() {\n    return new OutPoint(this.view.buffer.slice(0, 0 + OutPoint.size()), {\n      validate: false\n    });\n  }\n\n  getDepType() {\n    return this.view.getUint8(0 + OutPoint.size());\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, CellDep.size());\n    this.getOutPoint().validate(compatible);\n  }\n\n  static size() {\n    return 0 + OutPoint.size() + 1;\n  }\n\n}\n\nexports.CellDep = CellDep;\n\nfunction SerializeCellDep(value) {\n  const array = new Uint8Array(0 + OutPoint.size() + 1);\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeOutPoint(value.out_point)), 0);\n  view.setUint8(0 + OutPoint.size(), value.dep_type);\n  return array.buffer;\n}\n\nclass RawTransaction {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Uint32(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new CellDepVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new Byte32Vec(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new CellInputVec(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n    new CellOutputVec(this.view.buffer.slice(offsets[4], offsets[5]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[5], offsets[6]), {\n      validate: false\n    }).validate();\n  }\n\n  getVersion() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint32(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getCellDeps() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new CellDepVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getHeaderDeps() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Byte32Vec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getInputs() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new CellInputVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getOutputs() {\n    const start = 20;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new CellOutputVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getOutputsData() {\n    const start = 24;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.RawTransaction = RawTransaction;\n\nfunction SerializeRawTransaction(value) {\n  const buffers = [];\n  buffers.push(SerializeUint32(value.version));\n  buffers.push(SerializeCellDepVec(value.cell_deps));\n  buffers.push(SerializeByte32Vec(value.header_deps));\n  buffers.push(SerializeCellInputVec(value.inputs));\n  buffers.push(SerializeCellOutputVec(value.outputs));\n  buffers.push(SerializeBytesVec(value.outputs_data));\n  return serializeTable(buffers);\n}\n\nclass Transaction {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new RawTransaction(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getRaw() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new RawTransaction(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getWitnesses() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.Transaction = Transaction;\n\nfunction SerializeTransaction(value) {\n  const buffers = [];\n  buffers.push(SerializeRawTransaction(value.raw));\n  buffers.push(SerializeBytesVec(value.witnesses));\n  return serializeTable(buffers);\n}\n\nclass RawHeader {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getVersion() {\n    return new Uint32(this.view.buffer.slice(0, 0 + Uint32.size()), {\n      validate: false\n    });\n  }\n\n  getCompactTarget() {\n    return new Uint32(this.view.buffer.slice(0 + Uint32.size(), 0 + Uint32.size() + Uint32.size()), {\n      validate: false\n    });\n  }\n\n  getTimestamp() {\n    return new Uint64(this.view.buffer.slice(0 + Uint32.size() + Uint32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getNumber() {\n    return new Uint64(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getEpoch() {\n    return new Uint64(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getParentHash() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getTransactionsRoot() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getProposalsHash() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getUnclesHash() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getDao() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, RawHeader.size());\n    this.getVersion().validate(compatible);\n    this.getCompactTarget().validate(compatible);\n    this.getTimestamp().validate(compatible);\n    this.getNumber().validate(compatible);\n    this.getEpoch().validate(compatible);\n    this.getParentHash().validate(compatible);\n    this.getTransactionsRoot().validate(compatible);\n    this.getProposalsHash().validate(compatible);\n    this.getUnclesHash().validate(compatible);\n    this.getDao().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size();\n  }\n\n}\n\nexports.RawHeader = RawHeader;\n\nfunction SerializeRawHeader(value) {\n  const array = new Uint8Array(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeUint32(value.version)), 0);\n  array.set(new Uint8Array(SerializeUint32(value.compact_target)), 0 + Uint32.size());\n  array.set(new Uint8Array(SerializeUint64(value.timestamp)), 0 + Uint32.size() + Uint32.size());\n  array.set(new Uint8Array(SerializeUint64(value.number)), 0 + Uint32.size() + Uint32.size() + Uint64.size());\n  array.set(new Uint8Array(SerializeUint64(value.epoch)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size());\n  array.set(new Uint8Array(SerializeByte32(value.parent_hash)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size());\n  array.set(new Uint8Array(SerializeByte32(value.transactions_root)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size());\n  array.set(new Uint8Array(SerializeByte32(value.proposals_hash)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size());\n  array.set(new Uint8Array(SerializeByte32(value.uncles_hash)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size());\n  array.set(new Uint8Array(SerializeByte32(value.dao)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size());\n  return array.buffer;\n}\n\nclass Header {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getRaw() {\n    return new RawHeader(this.view.buffer.slice(0, 0 + RawHeader.size()), {\n      validate: false\n    });\n  }\n\n  getNonce() {\n    return new Uint128(this.view.buffer.slice(0 + RawHeader.size(), 0 + RawHeader.size() + Uint128.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, Header.size());\n    this.getRaw().validate(compatible);\n    this.getNonce().validate(compatible);\n  }\n\n  static size() {\n    return 0 + RawHeader.size() + Uint128.size();\n  }\n\n}\n\nexports.Header = Header;\n\nfunction SerializeHeader(value) {\n  const array = new Uint8Array(0 + RawHeader.size() + Uint128.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeRawHeader(value.raw)), 0);\n  array.set(new Uint8Array(SerializeUint128(value.nonce)), 0 + RawHeader.size());\n  return array.buffer;\n}\n\nclass UncleBlock {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Header(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new ProposalShortIdVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getHeader() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Header(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProposals() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new ProposalShortIdVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UncleBlock = UncleBlock;\n\nfunction SerializeUncleBlock(value) {\n  const buffers = [];\n  buffers.push(SerializeHeader(value.header));\n  buffers.push(SerializeProposalShortIdVec(value.proposals));\n  return serializeTable(buffers);\n}\n\nclass Block {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Header(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new UncleBlockVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new TransactionVec(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new ProposalShortIdVec(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n  }\n\n  getHeader() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Header(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getUncles() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new UncleBlockVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getTransactions() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new TransactionVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProposals() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new ProposalShortIdVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.Block = Block;\n\nfunction SerializeBlock(value) {\n  const buffers = [];\n  buffers.push(SerializeHeader(value.header));\n  buffers.push(SerializeUncleBlockVec(value.uncles));\n  buffers.push(SerializeTransactionVec(value.transactions));\n  buffers.push(SerializeProposalShortIdVec(value.proposals));\n  return serializeTable(buffers);\n}\n\nclass CellbaseWitness {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Script(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new Bytes(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getLock() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Script(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getMessage() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.CellbaseWitness = CellbaseWitness;\n\nfunction SerializeCellbaseWitness(value) {\n  const buffers = [];\n  buffers.push(SerializeScript(value.lock));\n  buffers.push(SerializeBytes(value.message));\n  return serializeTable(buffers);\n}\n\nclass WitnessArgs {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new BytesOpt(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesOpt(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new BytesOpt(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getLock() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getInputType() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getOutputType() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.WitnessArgs = WitnessArgs;\n\nfunction SerializeWitnessArgs(value) {\n  const buffers = [];\n  buffers.push(SerializeBytesOpt(value.lock));\n  buffers.push(SerializeBytesOpt(value.input_type));\n  buffers.push(SerializeBytesOpt(value.output_type));\n  return serializeTable(buffers);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertToRcIdentityFlag = convertToRcIdentityFlag;\nexports.convertToSudtSupplyInfo = convertToSudtSupplyInfo;\nexports.convertToSudtInfo = convertToSudtInfo;\nexports.RcSupplyLockHelper = exports.RcLockFlag = exports.RcIdentityFlag = exports.OmniSupplyOutputData = exports.RcSupplyOutputData = exports.OmniSupplyLockArgs = exports.OmniIdentityLockArgs = exports.RcSupplyLockArgs = exports.RcIdentityLockArgs = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _easyByte = require(\"@ckitjs/easy-byte\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _rc_udt_info = require(\"./generated/rc_udt_info\");\n\nfunction Bytes(byteWidth) {\n  return {\n    byteWidth,\n\n    read(buf, offset = 0) {\n      return (0, _easyByte.formatByteLike)(buf.slice(offset, offset + byteWidth), {\n        pad0x: true\n      });\n    },\n\n    write(buf, val, offset = 0) {\n      const byte = (0, _easyByte.formatByteLike)(val, {\n        rm0x: true\n      });\n      buf.write(byte, offset, byteWidth, 'hex');\n    }\n\n  };\n}\n\nconst RcIdentityLockArgs = (0, _easyByte.createFixedStruct)().field('rc_identity_flag', (0, _easyByte.createField)(1, (buf, offset) => convertToRcIdentityFlag(buf.readUInt8(offset)), _easyByte.U8.write)).field('rc_identity_pubkey_hash', Bytes(20)).field('rc_lock_flag', _easyByte.U8);\nexports.RcIdentityLockArgs = RcIdentityLockArgs;\nconst RcSupplyLockArgs = RcIdentityLockArgs.field('type_id_hash', Bytes(32));\nexports.RcSupplyLockArgs = RcSupplyLockArgs;\nconst OmniIdentityLockArgs = RcIdentityLockArgs;\nexports.OmniIdentityLockArgs = OmniIdentityLockArgs;\nconst OmniSupplyLockArgs = RcSupplyLockArgs;\n/**\n * @deprecated please migrate to {@link OmniSupplyOutputData}\n */\n\nexports.OmniSupplyLockArgs = OmniSupplyLockArgs;\nconst RcSupplyOutputData = (0, _easyByte.createFixedStruct)().field('version', _easyByte.U8).field('current_supply', _easyByte.U128LE).field('max_supply', _easyByte.U128LE).field('sudt_script_hash', Bytes(32));\nexports.RcSupplyOutputData = RcSupplyOutputData;\nconst OmniSupplyOutputData = (0, _easyByte.createFixedStruct)().field('version', _easyByte.U8).field('current_supply', _easyByte.U128LEJSBI).field('max_supply', _easyByte.U128LEJSBI).field('sudt_script_hash', Bytes(32));\n/**\n * {@link https://github.com/XuJiandong/ckb-c-stdlib/blob/4eca989f8a/ckb_identity.h#L45-L51 RC Identity}\n */\n\nexports.OmniSupplyOutputData = OmniSupplyOutputData;\nlet RcIdentityFlag;\nexports.RcIdentityFlag = RcIdentityFlag;\n\n(function (RcIdentityFlag) {\n  RcIdentityFlag[RcIdentityFlag[\"CKB\"] = 0] = \"CKB\";\n  RcIdentityFlag[RcIdentityFlag[\"ETH\"] = 1] = \"ETH\";\n})(RcIdentityFlag || (exports.RcIdentityFlag = RcIdentityFlag = {}));\n\nfunction convertToRcIdentityFlag(flag) {\n  const num = Number(_utils.bytes.toHex(flag));\n  if (num === RcIdentityFlag.CKB) return RcIdentityFlag.CKB;\n  if (num === RcIdentityFlag.ETH) return RcIdentityFlag.ETH;\n  throw new Error(`Unknown RC Identity flag: ${num}`);\n}\n\nlet RcLockFlag;\nexports.RcLockFlag = RcLockFlag;\n\n(function (RcLockFlag) {\n  RcLockFlag[RcLockFlag[\"ROOT\"] = 1] = \"ROOT\";\n  RcLockFlag[RcLockFlag[\"ACP_MASK\"] = 2] = \"ACP_MASK\";\n  RcLockFlag[RcLockFlag[\"SINCE_MASK\"] = 4] = \"SINCE_MASK\";\n  RcLockFlag[RcLockFlag[\"SUPPLY_MASK\"] = 8] = \"SUPPLY_MASK\";\n})(RcLockFlag || (exports.RcLockFlag = RcLockFlag = {}));\n\nfunction convertToSudtSupplyInfo(outputData) {\n  const {\n    current_supply,\n    max_supply,\n    version\n  } = OmniSupplyOutputData.decode((0, _easyByte.toBuffer)(outputData));\n  const fixedDataLen = OmniSupplyOutputData.fields.reduce((acc, field) => acc + field[1].byteWidth, 0);\n  const udtInfo = new _rc_udt_info.UdtInfo(new _ckbJsToolkit.Reader(_utils.bytes.toHex(outputData.slice(2\n  /*0x*/\n  + fixedDataLen * 2))));\n  return {\n    version: _utils.bytes.toHex(version),\n    currentSupply: _utils.bytes.toHex(current_supply),\n    maxSupply: _utils.bytes.toHex(max_supply),\n    description: Buffer.from(udtInfo.getDescription().raw()).toString(),\n    symbol: Buffer.from(udtInfo.getSymbol().raw()).toString(),\n    name: Buffer.from(udtInfo.getName().raw()).toString(),\n    decimals: udtInfo.getDecimals()\n  };\n}\n/**\n * convert a resolved rc-udt cell to {@link SudtInfo}\n * @param cell\n */\n\n\nfunction convertToSudtInfo(cell) {\n  const {\n    rc_identity_flag,\n    rc_identity_pubkey_hash,\n    type_id_hash\n  } = RcSupplyLockArgs.decode((0, _easyByte.toBuffer)(cell.output.lock.args));\n  return {\n    rcIdentity: {\n      flag: rc_identity_flag,\n      pubkeyHash: rc_identity_pubkey_hash\n    },\n    udtId: type_id_hash,\n    ...convertToSudtSupplyInfo(cell.output_data)\n  };\n}\n\nclass RcSupplyLockHelper {\n  constructor(indexer, config) {\n    this.indexer = indexer;\n    this.config = config;\n  }\n\n  async listCreatedInfoCells(options) {\n    const {\n      rcIdentity,\n      udtId\n    } = options;\n    const mercury = this.indexer;\n    const searchKey = {\n      script: { ...this.config.rcLock,\n        args: _utils.bytes.concat(rcIdentity.flag, rcIdentity.pubkeyHash, RcLockFlag.SUPPLY_MASK, udtId !== null && udtId !== void 0 ? udtId : '')\n      },\n      script_type: 'lock'\n    };\n    const supplyCells$ = (0, _rxjs.from)(mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _operators.expand)(res => mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _operators.takeWhile)(res => res.objects.length > 0), (0, _operators.concatMap)(res => res.objects), (0, _operators.toArray)());\n    return (0, _rxjs.lastValueFrom)(supplyCells$);\n  }\n\n  async listCreatedSudt(options) {\n    const infoCells = await this.listCreatedInfoCells(options);\n    return infoCells.map(convertToSudtInfo);\n  }\n\n  newRcSupplyLockScript({\n    rcIdentity,\n    udtId\n  }) {\n    return { ...this.config.rcLock,\n      args: _utils.bytes.toHex(RcSupplyLockArgs.encode({\n        rc_identity_flag: rcIdentity.flag,\n        rc_identity_pubkey_hash: rcIdentity.pubkeyHash,\n        rc_lock_flag: RcLockFlag.SUPPLY_MASK,\n        type_id_hash: udtId\n      }))\n    };\n  }\n  /**\n   * generate sudt script which was issued by a rc_lock_supply\n   * @param options\n   */\n\n\n  newSudtScript({\n    rcIdentity,\n    udtId\n  }) {\n    const infoLock = this.newRcSupplyLockScript({\n      rcIdentity,\n      udtId\n    });\n    return { ...this.config.sudtType,\n      args: _base.utils.computeScriptHash(infoLock)\n    };\n  }\n\n}\n\nexports.RcSupplyLockHelper = RcSupplyLockHelper;"],"sourceRoot":""}